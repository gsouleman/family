var xy=Object.defineProperty;var dh=e=>{throw TypeError(e)};var yy=(e,t,r)=>t in e?xy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var hh=(e,t,r)=>yy(e,typeof t!="symbol"?t+"":t,r),Cl=(e,t,r)=>t.has(e)||dh("Cannot "+r);var A=(e,t,r)=>(Cl(e,t,"read from private field"),r?r.call(e):t.get(e)),ee=(e,t,r)=>t.has(e)?dh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Q=(e,t,r,n)=>(Cl(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Be=(e,t,r)=>(Cl(e,t,"access private method"),r);var ja=(e,t,r,n)=>({set _(s){Q(e,t,s,r)},get _(){return A(e,t,n)}});function vy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function Wm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vm={exports:{}},Vo={},Hm={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=Symbol.for("react.element"),wy=Symbol.for("react.portal"),by=Symbol.for("react.fragment"),jy=Symbol.for("react.strict_mode"),Ny=Symbol.for("react.profiler"),ky=Symbol.for("react.provider"),Sy=Symbol.for("react.context"),_y=Symbol.for("react.forward_ref"),Ey=Symbol.for("react.suspense"),Cy=Symbol.for("react.memo"),Ty=Symbol.for("react.lazy"),fh=Symbol.iterator;function Py(e){return e===null||typeof e!="object"?null:(e=fh&&e[fh]||e["@@iterator"],typeof e=="function"?e:null)}var qm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Km=Object.assign,Gm={};function Gs(e,t,r){this.props=e,this.context=t,this.refs=Gm,this.updater=r||qm}Gs.prototype.isReactComponent={};Gs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qm(){}Qm.prototype=Gs.prototype;function $u(e,t,r){this.props=e,this.context=t,this.refs=Gm,this.updater=r||qm}var Fu=$u.prototype=new Qm;Fu.constructor=$u;Km(Fu,Gs.prototype);Fu.isPureReactComponent=!0;var mh=Array.isArray,Jm=Object.prototype.hasOwnProperty,Uu={current:null},Ym={key:!0,ref:!0,__self:!0,__source:!0};function Xm(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Jm.call(t,n)&&!Ym.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ca,type:e,key:a,ref:o,props:s,_owner:Uu.current}}function Ay(e,t){return{$$typeof:ca,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ca}function Ry(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ph=/\/+/g;function Tl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ry(""+e.key):t.toString(36)}function Qa(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ca:case wy:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Tl(o,0):n,mh(s)?(r="",e!=null&&(r=e.replace(ph,"$&/")+"/"),Qa(s,t,r,"",function(u){return u})):s!=null&&(Bu(s)&&(s=Ay(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ph,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",mh(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Tl(a,l);o+=Qa(a,t,r,c,s)}else if(c=Py(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Tl(a,l++),o+=Qa(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Na(e,t,r){if(e==null)return e;var n=[],s=0;return Qa(e,n,"","",function(a){return t.call(r,a,s++)}),n}function Oy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},Ja={transition:null},Ly={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:Ja,ReactCurrentOwner:Uu};function Zm(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Na,forEach:function(e,t,r){Na(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Na(e,function(){t++}),t},toArray:function(e){return Na(e,function(t){return t})||[]},only:function(e){if(!Bu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Gs;Z.Fragment=by;Z.Profiler=Ny;Z.PureComponent=$u;Z.StrictMode=jy;Z.Suspense=Ey;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ly;Z.act=Zm;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Km({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Uu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Jm.call(t,c)&&!Ym.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ca,type:e.type,key:s,ref:a,props:n,_owner:o}};Z.createContext=function(e){return e={$$typeof:Sy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ky,_context:e},e.Consumer=e};Z.createElement=Xm;Z.createFactory=function(e){var t=Xm.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:_y,render:e}};Z.isValidElement=Bu;Z.lazy=function(e){return{$$typeof:Ty,_payload:{_status:-1,_result:e},_init:Oy}};Z.memo=function(e,t){return{$$typeof:Cy,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Ja.transition;Ja.transition={};try{e()}finally{Ja.transition=t}};Z.unstable_act=Zm;Z.useCallback=function(e,t){return Je.current.useCallback(e,t)};Z.useContext=function(e){return Je.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Je.current.useEffect(e,t)};Z.useId=function(){return Je.current.useId()};Z.useImperativeHandle=function(e,t,r){return Je.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Je.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return Je.current.useReducer(e,t,r)};Z.useRef=function(e){return Je.current.useRef(e)};Z.useState=function(e){return Je.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return Je.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return Je.current.useTransition()};Z.version="18.3.1";Hm.exports=Z;var b=Hm.exports;const D=Wm(b),ep=vy({__proto__:null,default:D},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=b,Dy=Symbol.for("react.element"),My=Symbol.for("react.fragment"),$y=Object.prototype.hasOwnProperty,Fy=Iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Uy={key:!0,ref:!0,__self:!0,__source:!0};function tp(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)$y.call(t,n)&&!Uy.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Dy,type:e,key:a,ref:o,props:s,_owner:Fy.current}}Vo.Fragment=My;Vo.jsx=tp;Vo.jsxs=tp;Vm.exports=Vo;var i=Vm.exports,rp={exports:{}},pt={},np={exports:{}},sp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,R){var F=C.length;C.push(R);e:for(;0<F;){var G=F-1>>>1,V=C[G];if(0<s(V,R))C[G]=R,C[F]=V,F=G;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var R=C[0],F=C.pop();if(F!==R){C[0]=F;e:for(var G=0,V=C.length,Y=V>>>1;G<Y;){var B=2*(G+1)-1,re=C[B],_e=B+1,ne=C[_e];if(0>s(re,F))_e<V&&0>s(ne,re)?(C[G]=ne,C[_e]=F,G=_e):(C[G]=re,C[B]=F,G=B);else if(_e<V&&0>s(ne,F))C[G]=ne,C[_e]=F,G=_e;else break e}}return R}function s(C,R){var F=C.sortIndex-R.sortIndex;return F!==0?F:C.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,p=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(C){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=C)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function j(C){if(x=!1,v(C),!p)if(r(c)!==null)p=!0,W(N);else{var R=r(u);R!==null&&L(j,R.startTime-C)}}function N(C,R){p=!1,x&&(x=!1,g(P),P=-1),m=!0;var F=f;try{for(v(R),h=r(c);h!==null&&(!(h.expirationTime>R)||C&&!O());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var V=G(h.expirationTime<=R);R=e.unstable_now(),typeof V=="function"?h.callback=V:h===r(c)&&n(c),v(R)}else n(c);h=r(c)}if(h!==null)var Y=!0;else{var B=r(u);B!==null&&L(j,B.startTime-R),Y=!1}return Y}finally{h=null,f=F,m=!1}}var k=!1,S=null,P=-1,T=5,_=-1;function O(){return!(e.unstable_now()-_<T)}function E(){if(S!==null){var C=e.unstable_now();_=C;var R=!0;try{R=S(!0,C)}finally{R?M():(k=!1,S=null)}}else k=!1}var M;if(typeof y=="function")M=function(){y(E)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=E,M=function(){K.postMessage(null)}}else M=function(){w(E,0)};function W(C){S=C,k||(k=!0,M())}function L(C,R){P=w(function(){C(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,W(N))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var F=f;f=R;try{return C()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,R){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=f;f=C;try{return R()}finally{f=F}},e.unstable_scheduleCallback=function(C,R,F){var G=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,C){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=F+V,C={id:d++,callback:R,priorityLevel:C,startTime:F,expirationTime:V,sortIndex:-1},F>G?(C.sortIndex=F,t(u,C),r(c)===null&&C===r(u)&&(x?(g(P),P=-1):x=!0,L(j,F-G))):(C.sortIndex=V,t(c,C),p||m||(p=!0,W(N))),C},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(C){var R=f;return function(){var F=f;f=R;try{return C.apply(this,arguments)}finally{f=F}}}})(sp);np.exports=sp;var By=np.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy=b,mt=By;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ip=new Set,Ai={};function Wn(e,t){Fs(e,t),Fs(e+"Capture",t)}function Fs(e,t){for(Ai[e]=t,e=0;e<t.length;e++)ip.add(t[e])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yc=Object.prototype.hasOwnProperty,Wy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gh={},xh={};function Vy(e){return yc.call(xh,e)?!0:yc.call(gh,e)?!1:Wy.test(e)?xh[e]=!0:(gh[e]=!0,!1)}function Hy(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qy(e,t,r,n){if(t===null||typeof t>"u"||Hy(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var zu=/[\-:]([a-z])/g;function Wu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zu,Wu);Ue[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zu,Wu);Ue[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zu,Wu);Ue[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function Vu(e,t,r,n){var s=Ue.hasOwnProperty(t)?Ue[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qy(t,r,s,n)&&(r=null),n||s===null?Vy(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var wr=zy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ka=Symbol.for("react.element"),cs=Symbol.for("react.portal"),us=Symbol.for("react.fragment"),Hu=Symbol.for("react.strict_mode"),vc=Symbol.for("react.profiler"),ap=Symbol.for("react.provider"),op=Symbol.for("react.context"),qu=Symbol.for("react.forward_ref"),wc=Symbol.for("react.suspense"),bc=Symbol.for("react.suspense_list"),Ku=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),lp=Symbol.for("react.offscreen"),yh=Symbol.iterator;function si(e){return e===null||typeof e!="object"?null:(e=yh&&e[yh]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Pl;function mi(e){if(Pl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Pl=t&&t[1]||""}return`
`+Pl+e}var Al=!1;function Rl(e,t){if(!e||Al)return"";Al=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Al=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?mi(e):""}function Ky(e){switch(e.tag){case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return e=Rl(e.type,!1),e;case 11:return e=Rl(e.type.render,!1),e;case 1:return e=Rl(e.type,!0),e;default:return""}}function jc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case us:return"Fragment";case cs:return"Portal";case vc:return"Profiler";case Hu:return"StrictMode";case wc:return"Suspense";case bc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case op:return(e.displayName||"Context")+".Consumer";case ap:return(e._context.displayName||"Context")+".Provider";case qu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ku:return t=e.displayName||null,t!==null?t:jc(e.type)||"Memo";case Rr:t=e._payload,e=e._init;try{return jc(e(t))}catch{}}return null}function Gy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jc(t);case 8:return t===Hu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qy(e){var t=cp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sa(e){e._valueTracker||(e._valueTracker=Qy(e))}function up(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=cp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ho(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nc(e,t){var r=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=nn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dp(e,t){t=t.checked,t!=null&&Vu(e,"checked",t,!1)}function kc(e,t){dp(e,t);var r=nn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Sc(e,t.type,nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Sc(e,t,r){(t!=="number"||ho(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var pi=Array.isArray;function js(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+nn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function _c(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(pi(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:nn(r)}}function hp(e,t){var r=nn(t.value),n=nn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ec(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _a,mp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_a=_a||document.createElement("div"),_a.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_a.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ri(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jy=["Webkit","ms","Moz","O"];Object.keys(vi).forEach(function(e){Jy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vi[t]=vi[e]})});function pp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||vi.hasOwnProperty(e)&&vi[e]?(""+t).trim():t+"px"}function gp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=pp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Yy=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cc(e,t){if(t){if(Yy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Tc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pc=null;function Gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ac=null,Ns=null,ks=null;function Nh(e){if(e=ha(e)){if(typeof Ac!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Qo(t),Ac(e.stateNode,e.type,t))}}function xp(e){Ns?ks?ks.push(e):ks=[e]:Ns=e}function yp(){if(Ns){var e=Ns,t=ks;if(ks=Ns=null,Nh(e),t)for(e=0;e<t.length;e++)Nh(t[e])}}function vp(e,t){return e(t)}function wp(){}var Ol=!1;function bp(e,t,r){if(Ol)return e(t,r);Ol=!0;try{return vp(e,t,r)}finally{Ol=!1,(Ns!==null||ks!==null)&&(wp(),yp())}}function Oi(e,t){var r=e.stateNode;if(r===null)return null;var n=Qo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Rc=!1;if(mr)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){Rc=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{Rc=!1}function Xy(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var wi=!1,fo=null,mo=!1,Oc=null,Zy={onError:function(e){wi=!0,fo=e}};function ev(e,t,r,n,s,a,o,l,c){wi=!1,fo=null,Xy.apply(Zy,arguments)}function tv(e,t,r,n,s,a,o,l,c){if(ev.apply(this,arguments),wi){if(wi){var u=fo;wi=!1,fo=null}else throw Error(I(198));mo||(mo=!0,Oc=u)}}function Vn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kh(e){if(Vn(e)!==e)throw Error(I(188))}function rv(e){var t=e.alternate;if(!t){if(t=Vn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return kh(s),e;if(a===n)return kh(s),t;a=a.sibling}throw Error(I(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function Np(e){return e=rv(e),e!==null?kp(e):null}function kp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kp(e);if(t!==null)return t;e=e.sibling}return null}var Sp=mt.unstable_scheduleCallback,Sh=mt.unstable_cancelCallback,nv=mt.unstable_shouldYield,sv=mt.unstable_requestPaint,Ne=mt.unstable_now,iv=mt.unstable_getCurrentPriorityLevel,Qu=mt.unstable_ImmediatePriority,_p=mt.unstable_UserBlockingPriority,po=mt.unstable_NormalPriority,av=mt.unstable_LowPriority,Ep=mt.unstable_IdlePriority,Ho=null,Xt=null;function ov(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Ho,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:uv,lv=Math.log,cv=Math.LN2;function uv(e){return e>>>=0,e===0?32:31-(lv(e)/cv|0)|0}var Ea=64,Ca=4194304;function gi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function go(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=gi(l):(a&=o,a!==0&&(n=gi(a)))}else o=r&~s,o!==0?n=gi(o):a!==0&&(n=gi(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ft(t),s=1<<r,n|=e[r],t&=~s;return n}function dv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Ft(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=dv(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Lc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cp(){var e=Ea;return Ea<<=1,!(Ea&4194240)&&(Ea=64),e}function Ll(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ua(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=r}function fv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ft(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Ju(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ft(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var oe=0;function Tp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pp,Yu,Ap,Rp,Op,Ic=!1,Ta=[],Kr=null,Gr=null,Qr=null,Li=new Map,Ii=new Map,Ir=[],mv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _h(e,t){switch(e){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Li.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ii.delete(t.pointerId)}}function ai(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=ha(t),t!==null&&Yu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pv(e,t,r,n,s){switch(t){case"focusin":return Kr=ai(Kr,e,t,r,n,s),!0;case"dragenter":return Gr=ai(Gr,e,t,r,n,s),!0;case"mouseover":return Qr=ai(Qr,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Li.set(a,ai(Li.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Ii.set(a,ai(Ii.get(a)||null,e,t,r,n,s)),!0}return!1}function Lp(e){var t=Nn(e.target);if(t!==null){var r=Vn(t);if(r!==null){if(t=r.tag,t===13){if(t=jp(r),t!==null){e.blockedOn=t,Op(e.priority,function(){Ap(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ya(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Dc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Pc=n,r.target.dispatchEvent(n),Pc=null}else return t=ha(r),t!==null&&Yu(t),e.blockedOn=r,!1;t.shift()}return!0}function Eh(e,t,r){Ya(e)&&r.delete(t)}function gv(){Ic=!1,Kr!==null&&Ya(Kr)&&(Kr=null),Gr!==null&&Ya(Gr)&&(Gr=null),Qr!==null&&Ya(Qr)&&(Qr=null),Li.forEach(Eh),Ii.forEach(Eh)}function oi(e,t){e.blockedOn===t&&(e.blockedOn=null,Ic||(Ic=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,gv)))}function Di(e){function t(s){return oi(s,e)}if(0<Ta.length){oi(Ta[0],e);for(var r=1;r<Ta.length;r++){var n=Ta[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kr!==null&&oi(Kr,e),Gr!==null&&oi(Gr,e),Qr!==null&&oi(Qr,e),Li.forEach(t),Ii.forEach(t),r=0;r<Ir.length;r++)n=Ir[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ir.length&&(r=Ir[0],r.blockedOn===null);)Lp(r),r.blockedOn===null&&Ir.shift()}var Ss=wr.ReactCurrentBatchConfig,xo=!0;function xv(e,t,r,n){var s=oe,a=Ss.transition;Ss.transition=null;try{oe=1,Xu(e,t,r,n)}finally{oe=s,Ss.transition=a}}function yv(e,t,r,n){var s=oe,a=Ss.transition;Ss.transition=null;try{oe=4,Xu(e,t,r,n)}finally{oe=s,Ss.transition=a}}function Xu(e,t,r,n){if(xo){var s=Dc(e,t,r,n);if(s===null)Vl(e,t,n,yo,r),_h(e,n);else if(pv(s,e,t,r,n))n.stopPropagation();else if(_h(e,n),t&4&&-1<mv.indexOf(e)){for(;s!==null;){var a=ha(s);if(a!==null&&Pp(a),a=Dc(e,t,r,n),a===null&&Vl(e,t,n,yo,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Vl(e,t,n,null,r)}}var yo=null;function Dc(e,t,r,n){if(yo=null,e=Gu(n),e=Nn(e),e!==null)if(t=Vn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yo=e,null}function Ip(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iv()){case Qu:return 1;case _p:return 4;case po:case av:return 16;case Ep:return 536870912;default:return 16}default:return 16}}var Vr=null,Zu=null,Xa=null;function Dp(){if(Xa)return Xa;var e,t=Zu,r=t.length,n,s="value"in Vr?Vr.value:Vr.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Xa=s.slice(e,1<n?1-n:void 0)}function Za(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pa(){return!0}function Ch(){return!1}function gt(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Pa:Ch,this.isPropagationStopped=Ch,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),t}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ed=gt(Qs),da=ve({},Qs,{view:0,detail:0}),vv=gt(da),Il,Dl,li,qo=ve({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:td,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==li&&(li&&e.type==="mousemove"?(Il=e.screenX-li.screenX,Dl=e.screenY-li.screenY):Dl=Il=0,li=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:Dl}}),Th=gt(qo),wv=ve({},qo,{dataTransfer:0}),bv=gt(wv),jv=ve({},da,{relatedTarget:0}),Ml=gt(jv),Nv=ve({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),kv=gt(Nv),Sv=ve({},Qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_v=gt(Sv),Ev=ve({},Qs,{data:0}),Ph=gt(Ev),Cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Av(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pv[e])?!!t[e]:!1}function td(){return Av}var Rv=ve({},da,{key:function(e){if(e.key){var t=Cv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Za(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:td,charCode:function(e){return e.type==="keypress"?Za(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Za(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ov=gt(Rv),Lv=ve({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ah=gt(Lv),Iv=ve({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:td}),Dv=gt(Iv),Mv=ve({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),$v=gt(Mv),Fv=ve({},qo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uv=gt(Fv),Bv=[9,13,27,32],rd=mr&&"CompositionEvent"in window,bi=null;mr&&"documentMode"in document&&(bi=document.documentMode);var zv=mr&&"TextEvent"in window&&!bi,Mp=mr&&(!rd||bi&&8<bi&&11>=bi),Rh=" ",Oh=!1;function $p(e,t){switch(e){case"keyup":return Bv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ds=!1;function Wv(e,t){switch(e){case"compositionend":return Fp(t);case"keypress":return t.which!==32?null:(Oh=!0,Rh);case"textInput":return e=t.data,e===Rh&&Oh?null:e;default:return null}}function Vv(e,t){if(ds)return e==="compositionend"||!rd&&$p(e,t)?(e=Dp(),Xa=Zu=Vr=null,ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mp&&t.locale!=="ko"?null:t.data;default:return null}}var Hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hv[e.type]:t==="textarea"}function Up(e,t,r,n){xp(n),t=vo(t,"onChange"),0<t.length&&(r=new ed("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ji=null,Mi=null;function qv(e){Yp(e,0)}function Ko(e){var t=ms(e);if(up(t))return e}function Kv(e,t){if(e==="change")return t}var Bp=!1;if(mr){var $l;if(mr){var Fl="oninput"in document;if(!Fl){var Ih=document.createElement("div");Ih.setAttribute("oninput","return;"),Fl=typeof Ih.oninput=="function"}$l=Fl}else $l=!1;Bp=$l&&(!document.documentMode||9<document.documentMode)}function Dh(){ji&&(ji.detachEvent("onpropertychange",zp),Mi=ji=null)}function zp(e){if(e.propertyName==="value"&&Ko(Mi)){var t=[];Up(t,Mi,e,Gu(e)),bp(qv,t)}}function Gv(e,t,r){e==="focusin"?(Dh(),ji=t,Mi=r,ji.attachEvent("onpropertychange",zp)):e==="focusout"&&Dh()}function Qv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ko(Mi)}function Jv(e,t){if(e==="click")return Ko(t)}function Yv(e,t){if(e==="input"||e==="change")return Ko(t)}function Xv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:Xv;function $i(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!yc.call(t,s)||!Bt(e[s],t[s]))return!1}return!0}function Mh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $h(e,t){var r=Mh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mh(r)}}function Wp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vp(){for(var e=window,t=ho();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ho(e.document)}return t}function nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zv(e){var t=Vp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Wp(r.ownerDocument.documentElement,r)){if(n!==null&&nd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=$h(r,a);var o=$h(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ew=mr&&"documentMode"in document&&11>=document.documentMode,hs=null,Mc=null,Ni=null,$c=!1;function Fh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$c||hs==null||hs!==ho(n)||(n=hs,"selectionStart"in n&&nd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ni&&$i(Ni,n)||(Ni=n,n=vo(Mc,"onSelect"),0<n.length&&(t=new ed("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=hs)))}function Aa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fs={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionend:Aa("Transition","TransitionEnd")},Ul={},Hp={};mr&&(Hp=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function Go(e){if(Ul[e])return Ul[e];if(!fs[e])return e;var t=fs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Hp)return Ul[e]=t[r];return e}var qp=Go("animationend"),Kp=Go("animationiteration"),Gp=Go("animationstart"),Qp=Go("transitionend"),Jp=new Map,Uh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function un(e,t){Jp.set(e,t),Wn(t,[e])}for(var Bl=0;Bl<Uh.length;Bl++){var zl=Uh[Bl],tw=zl.toLowerCase(),rw=zl[0].toUpperCase()+zl.slice(1);un(tw,"on"+rw)}un(qp,"onAnimationEnd");un(Kp,"onAnimationIteration");un(Gp,"onAnimationStart");un("dblclick","onDoubleClick");un("focusin","onFocus");un("focusout","onBlur");un(Qp,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nw=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function Bh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,tv(n,t,void 0,e),e.currentTarget=null}function Yp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Bh(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Bh(s,l,u),a=c}}}if(mo)throw e=Oc,mo=!1,Oc=null,e}function he(e,t){var r=t[Wc];r===void 0&&(r=t[Wc]=new Set);var n=e+"__bubble";r.has(n)||(Xp(t,e,2,!1),r.add(n))}function Wl(e,t,r){var n=0;t&&(n|=4),Xp(r,e,n,t)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function Fi(e){if(!e[Ra]){e[Ra]=!0,ip.forEach(function(r){r!=="selectionchange"&&(nw.has(r)||Wl(r,!1,e),Wl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ra]||(t[Ra]=!0,Wl("selectionchange",!1,t))}}function Xp(e,t,r,n){switch(Ip(t)){case 1:var s=xv;break;case 4:s=yv;break;default:s=Xu}r=s.bind(null,t,r,e),s=void 0,!Rc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Vl(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Nn(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}bp(function(){var u=a,d=Gu(r),h=[];e:{var f=Jp.get(e);if(f!==void 0){var m=ed,p=e;switch(e){case"keypress":if(Za(r)===0)break e;case"keydown":case"keyup":m=Ov;break;case"focusin":p="focus",m=Ml;break;case"focusout":p="blur",m=Ml;break;case"beforeblur":case"afterblur":m=Ml;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Dv;break;case qp:case Kp:case Gp:m=kv;break;case Qp:m=$v;break;case"scroll":m=vv;break;case"wheel":m=Uv;break;case"copy":case"cut":case"paste":m=_v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ah}var x=(t&4)!==0,w=!x&&e==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var y=u,v;y!==null;){v=y;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,g!==null&&(j=Oi(y,g),j!=null&&x.push(Ui(y,j,v)))),w)break;y=y.return}0<x.length&&(f=new m(f,p,null,r,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==Pc&&(p=r.relatedTarget||r.fromElement)&&(Nn(p)||p[pr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Nn(p):null,p!==null&&(w=Vn(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=Th,j="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ah,j="onPointerLeave",g="onPointerEnter",y="pointer"),w=m==null?f:ms(m),v=p==null?f:ms(p),f=new x(j,y+"leave",m,r,d),f.target=w,f.relatedTarget=v,j=null,Nn(d)===u&&(x=new x(g,y+"enter",p,r,d),x.target=v,x.relatedTarget=w,j=x),w=j,m&&p)t:{for(x=m,g=p,y=0,v=x;v;v=Zn(v))y++;for(v=0,j=g;j;j=Zn(j))v++;for(;0<y-v;)x=Zn(x),y--;for(;0<v-y;)g=Zn(g),v--;for(;y--;){if(x===g||g!==null&&x===g.alternate)break t;x=Zn(x),g=Zn(g)}x=null}else x=null;m!==null&&zh(h,f,m,x,!1),p!==null&&w!==null&&zh(h,w,p,x,!0)}}e:{if(f=u?ms(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var N=Kv;else if(Lh(f))if(Bp)N=Yv;else{N=Qv;var k=Gv}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=Jv);if(N&&(N=N(e,u))){Up(h,N,r,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Sc(f,"number",f.value)}switch(k=u?ms(u):window,e){case"focusin":(Lh(k)||k.contentEditable==="true")&&(hs=k,Mc=u,Ni=null);break;case"focusout":Ni=Mc=hs=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,Fh(h,r,d);break;case"selectionchange":if(ew)break;case"keydown":case"keyup":Fh(h,r,d)}var S;if(rd)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else ds?$p(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Mp&&r.locale!=="ko"&&(ds||P!=="onCompositionStart"?P==="onCompositionEnd"&&ds&&(S=Dp()):(Vr=d,Zu="value"in Vr?Vr.value:Vr.textContent,ds=!0)),k=vo(u,P),0<k.length&&(P=new Ph(P,e,null,r,d),h.push({event:P,listeners:k}),S?P.data=S:(S=Fp(r),S!==null&&(P.data=S)))),(S=zv?Wv(e,r):Vv(e,r))&&(u=vo(u,"onBeforeInput"),0<u.length&&(d=new Ph("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=S))}Yp(h,t)})}function Ui(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vo(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Oi(e,r),a!=null&&n.unshift(Ui(e,a,s)),a=Oi(e,t),a!=null&&n.push(Ui(e,a,s))),e=e.return}return n}function Zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zh(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Oi(r,a),c!=null&&o.unshift(Ui(r,c,l))):s||(c=Oi(r,a),c!=null&&o.push(Ui(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var sw=/\r\n?/g,iw=/\u0000|\uFFFD/g;function Wh(e){return(typeof e=="string"?e:""+e).replace(sw,`
`).replace(iw,"")}function Oa(e,t,r){if(t=Wh(t),Wh(e)!==t&&r)throw Error(I(425))}function wo(){}var Fc=null,Uc=null;function Bc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zc=typeof setTimeout=="function"?setTimeout:void 0,aw=typeof clearTimeout=="function"?clearTimeout:void 0,Vh=typeof Promise=="function"?Promise:void 0,ow=typeof queueMicrotask=="function"?queueMicrotask:typeof Vh<"u"?function(e){return Vh.resolve(null).then(e).catch(lw)}:zc;function lw(e){setTimeout(function(){throw e})}function Hl(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Di(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Di(t)}function Jr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Js=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Js,Bi="__reactProps$"+Js,pr="__reactContainer$"+Js,Wc="__reactEvents$"+Js,cw="__reactListeners$"+Js,uw="__reactHandles$"+Js;function Nn(e){var t=e[Jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pr]||r[Jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hh(e);e!==null;){if(r=e[Jt])return r;e=Hh(e)}return t}e=r,r=e.parentNode}return null}function ha(e){return e=e[Jt]||e[pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ms(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Qo(e){return e[Bi]||null}var Vc=[],ps=-1;function dn(e){return{current:e}}function fe(e){0>ps||(e.current=Vc[ps],Vc[ps]=null,ps--)}function ue(e,t){ps++,Vc[ps]=e.current,e.current=t}var sn={},He=dn(sn),tt=dn(!1),Mn=sn;function Us(e,t){var r=e.type.contextTypes;if(!r)return sn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function rt(e){return e=e.childContextTypes,e!=null}function bo(){fe(tt),fe(He)}function qh(e,t,r){if(He.current!==sn)throw Error(I(168));ue(He,t),ue(tt,r)}function Zp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(I(108,Gy(e)||"Unknown",s));return ve({},r,n)}function jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sn,Mn=He.current,ue(He,e),ue(tt,tt.current),!0}function Kh(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=Zp(e,t,Mn),n.__reactInternalMemoizedMergedChildContext=e,fe(tt),fe(He),ue(He,e)):fe(tt),ue(tt,r)}var lr=null,Jo=!1,ql=!1;function e0(e){lr===null?lr=[e]:lr.push(e)}function dw(e){Jo=!0,e0(e)}function hn(){if(!ql&&lr!==null){ql=!0;var e=0,t=oe;try{var r=lr;for(oe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}lr=null,Jo=!1}catch(s){throw lr!==null&&(lr=lr.slice(e+1)),Sp(Qu,hn),s}finally{oe=t,ql=!1}}return null}var gs=[],xs=0,No=null,ko=0,vt=[],wt=0,$n=null,dr=1,hr="";function yn(e,t){gs[xs++]=ko,gs[xs++]=No,No=e,ko=t}function t0(e,t,r){vt[wt++]=dr,vt[wt++]=hr,vt[wt++]=$n,$n=e;var n=dr;e=hr;var s=32-Ft(n)-1;n&=~(1<<s),r+=1;var a=32-Ft(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,dr=1<<32-Ft(t)+s|r<<s|n,hr=a+e}else dr=1<<a|r<<s|n,hr=e}function sd(e){e.return!==null&&(yn(e,1),t0(e,1,0))}function id(e){for(;e===No;)No=gs[--xs],gs[xs]=null,ko=gs[--xs],gs[xs]=null;for(;e===$n;)$n=vt[--wt],vt[wt]=null,hr=vt[--wt],vt[wt]=null,dr=vt[--wt],vt[wt]=null}var ht=null,dt=null,pe=!1,$t=null;function r0(e,t){var r=bt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Gh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ht=e,dt=Jr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ht=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=$n!==null?{id:dr,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=bt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ht=e,dt=null,!0):!1;default:return!1}}function Hc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qc(e){if(pe){var t=dt;if(t){var r=t;if(!Gh(e,t)){if(Hc(e))throw Error(I(418));t=Jr(r.nextSibling);var n=ht;t&&Gh(e,t)?r0(n,r):(e.flags=e.flags&-4097|2,pe=!1,ht=e)}}else{if(Hc(e))throw Error(I(418));e.flags=e.flags&-4097|2,pe=!1,ht=e}}}function Qh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ht=e}function La(e){if(e!==ht)return!1;if(!pe)return Qh(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bc(e.type,e.memoizedProps)),t&&(t=dt)){if(Hc(e))throw n0(),Error(I(418));for(;t;)r0(e,t),t=Jr(t.nextSibling)}if(Qh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dt=Jr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ht?Jr(e.stateNode.nextSibling):null;return!0}function n0(){for(var e=dt;e;)e=Jr(e.nextSibling)}function Bs(){dt=ht=null,pe=!1}function ad(e){$t===null?$t=[e]:$t.push(e)}var hw=wr.ReactCurrentBatchConfig;function ci(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function Ia(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jh(e){var t=e._init;return t(e._payload)}function s0(e){function t(g,y){if(e){var v=g.deletions;v===null?(g.deletions=[y],g.flags|=16):v.push(y)}}function r(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function n(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function s(g,y){return g=en(g,y),g.index=0,g.sibling=null,g}function a(g,y,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<y?(g.flags|=2,y):v):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,v,j){return y===null||y.tag!==6?(y=Zl(v,g.mode,j),y.return=g,y):(y=s(y,v),y.return=g,y)}function c(g,y,v,j){var N=v.type;return N===us?d(g,y,v.props.children,j,v.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Rr&&Jh(N)===y.type)?(j=s(y,v.props),j.ref=ci(g,y,v),j.return=g,j):(j=ao(v.type,v.key,v.props,null,g.mode,j),j.ref=ci(g,y,v),j.return=g,j)}function u(g,y,v,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=ec(v,g.mode,j),y.return=g,y):(y=s(y,v.children||[]),y.return=g,y)}function d(g,y,v,j,N){return y===null||y.tag!==7?(y=In(v,g.mode,j,N),y.return=g,y):(y=s(y,v),y.return=g,y)}function h(g,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Zl(""+y,g.mode,v),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ka:return v=ao(y.type,y.key,y.props,null,g.mode,v),v.ref=ci(g,null,y),v.return=g,v;case cs:return y=ec(y,g.mode,v),y.return=g,y;case Rr:var j=y._init;return h(g,j(y._payload),v)}if(pi(y)||si(y))return y=In(y,g.mode,v,null),y.return=g,y;Ia(g,y)}return null}function f(g,y,v,j){var N=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return N!==null?null:l(g,y,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ka:return v.key===N?c(g,y,v,j):null;case cs:return v.key===N?u(g,y,v,j):null;case Rr:return N=v._init,f(g,y,N(v._payload),j)}if(pi(v)||si(v))return N!==null?null:d(g,y,v,j,null);Ia(g,v)}return null}function m(g,y,v,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(v)||null,l(y,g,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ka:return g=g.get(j.key===null?v:j.key)||null,c(y,g,j,N);case cs:return g=g.get(j.key===null?v:j.key)||null,u(y,g,j,N);case Rr:var k=j._init;return m(g,y,v,k(j._payload),N)}if(pi(j)||si(j))return g=g.get(v)||null,d(y,g,j,N,null);Ia(y,j)}return null}function p(g,y,v,j){for(var N=null,k=null,S=y,P=y=0,T=null;S!==null&&P<v.length;P++){S.index>P?(T=S,S=null):T=S.sibling;var _=f(g,S,v[P],j);if(_===null){S===null&&(S=T);break}e&&S&&_.alternate===null&&t(g,S),y=a(_,y,P),k===null?N=_:k.sibling=_,k=_,S=T}if(P===v.length)return r(g,S),pe&&yn(g,P),N;if(S===null){for(;P<v.length;P++)S=h(g,v[P],j),S!==null&&(y=a(S,y,P),k===null?N=S:k.sibling=S,k=S);return pe&&yn(g,P),N}for(S=n(g,S);P<v.length;P++)T=m(S,g,P,v[P],j),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?P:T.key),y=a(T,y,P),k===null?N=T:k.sibling=T,k=T);return e&&S.forEach(function(O){return t(g,O)}),pe&&yn(g,P),N}function x(g,y,v,j){var N=si(v);if(typeof N!="function")throw Error(I(150));if(v=N.call(v),v==null)throw Error(I(151));for(var k=N=null,S=y,P=y=0,T=null,_=v.next();S!==null&&!_.done;P++,_=v.next()){S.index>P?(T=S,S=null):T=S.sibling;var O=f(g,S,_.value,j);if(O===null){S===null&&(S=T);break}e&&S&&O.alternate===null&&t(g,S),y=a(O,y,P),k===null?N=O:k.sibling=O,k=O,S=T}if(_.done)return r(g,S),pe&&yn(g,P),N;if(S===null){for(;!_.done;P++,_=v.next())_=h(g,_.value,j),_!==null&&(y=a(_,y,P),k===null?N=_:k.sibling=_,k=_);return pe&&yn(g,P),N}for(S=n(g,S);!_.done;P++,_=v.next())_=m(S,g,P,_.value,j),_!==null&&(e&&_.alternate!==null&&S.delete(_.key===null?P:_.key),y=a(_,y,P),k===null?N=_:k.sibling=_,k=_);return e&&S.forEach(function(E){return t(g,E)}),pe&&yn(g,P),N}function w(g,y,v,j){if(typeof v=="object"&&v!==null&&v.type===us&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ka:e:{for(var N=v.key,k=y;k!==null;){if(k.key===N){if(N=v.type,N===us){if(k.tag===7){r(g,k.sibling),y=s(k,v.props.children),y.return=g,g=y;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Rr&&Jh(N)===k.type){r(g,k.sibling),y=s(k,v.props),y.ref=ci(g,k,v),y.return=g,g=y;break e}r(g,k);break}else t(g,k);k=k.sibling}v.type===us?(y=In(v.props.children,g.mode,j,v.key),y.return=g,g=y):(j=ao(v.type,v.key,v.props,null,g.mode,j),j.ref=ci(g,y,v),j.return=g,g=j)}return o(g);case cs:e:{for(k=v.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){r(g,y.sibling),y=s(y,v.children||[]),y.return=g,g=y;break e}else{r(g,y);break}else t(g,y);y=y.sibling}y=ec(v,g.mode,j),y.return=g,g=y}return o(g);case Rr:return k=v._init,w(g,y,k(v._payload),j)}if(pi(v))return p(g,y,v,j);if(si(v))return x(g,y,v,j);Ia(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(r(g,y.sibling),y=s(y,v),y.return=g,g=y):(r(g,y),y=Zl(v,g.mode,j),y.return=g,g=y),o(g)):r(g,y)}return w}var zs=s0(!0),i0=s0(!1),So=dn(null),_o=null,ys=null,od=null;function ld(){od=ys=_o=null}function cd(e){var t=So.current;fe(So),e._currentValue=t}function Kc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function _s(e,t){_o=e,od=ys=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(od!==e)if(e={context:e,memoizedValue:t,next:null},ys===null){if(_o===null)throw Error(I(308));ys=e,_o.dependencies={lanes:0,firstContext:e}}else ys=ys.next=e;return t}var kn=null;function ud(e){kn===null?kn=[e]:kn.push(e)}function a0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ud(t)):(r.next=s.next,s.next=r),t.interleaved=r,gr(e,n)}function gr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Or=!1;function dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,te&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,gr(e,r)}return s=n.interleaved,s===null?(t.next=t,ud(n)):(t.next=s.next,s.next=t),n.interleaved=t,gr(e,r)}function eo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ju(e,r)}}function Yh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Eo(e,t,r,n){var s=e.updateQueue;Or=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,x=l;switch(f=t,m=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){h=p.call(m,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,f=typeof p=="function"?p.call(m,h,f):p,f==null)break e;h=ve({},h,f);break e;case 2:Or=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Un|=o,e.lanes=o,e.memoizedState=h}}function Xh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(I(191,s));s.call(n)}}}var fa={},Zt=dn(fa),zi=dn(fa),Wi=dn(fa);function Sn(e){if(e===fa)throw Error(I(174));return e}function hd(e,t){switch(ue(Wi,t),ue(zi,e),ue(Zt,fa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ec(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ec(t,e)}fe(Zt),ue(Zt,t)}function Ws(){fe(Zt),fe(zi),fe(Wi)}function l0(e){Sn(Wi.current);var t=Sn(Zt.current),r=Ec(t,e.type);t!==r&&(ue(zi,e),ue(Zt,r))}function fd(e){zi.current===e&&(fe(Zt),fe(zi))}var xe=dn(0);function Co(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kl=[];function md(){for(var e=0;e<Kl.length;e++)Kl[e]._workInProgressVersionPrimary=null;Kl.length=0}var to=wr.ReactCurrentDispatcher,Gl=wr.ReactCurrentBatchConfig,Fn=0,ye=null,Te=null,Le=null,To=!1,ki=!1,Vi=0,fw=0;function ze(){throw Error(I(321))}function pd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Bt(e[r],t[r]))return!1;return!0}function gd(e,t,r,n,s,a){if(Fn=a,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,to.current=e===null||e.memoizedState===null?xw:yw,e=r(n,s),ki){a=0;do{if(ki=!1,Vi=0,25<=a)throw Error(I(301));a+=1,Le=Te=null,t.updateQueue=null,to.current=vw,e=r(n,s)}while(ki)}if(to.current=Po,t=Te!==null&&Te.next!==null,Fn=0,Le=Te=ye=null,To=!1,t)throw Error(I(300));return e}function xd(){var e=Vi!==0;return Vi=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ye.memoizedState=Le=e:Le=Le.next=e,Le}function kt(){if(Te===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=Le===null?ye.memoizedState:Le.next;if(t!==null)Le=t,Te=e;else{if(e===null)throw Error(I(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Le===null?ye.memoizedState=Le=e:Le=Le.next=e}return Le}function Hi(e,t){return typeof t=="function"?t(e):t}function Ql(e){var t=kt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=Te,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Fn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,ye.lanes|=d,Un|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Bt(n,t.memoizedState)||(et=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,ye.lanes|=a,Un|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Jl(e){var t=kt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Bt(a,t.memoizedState)||(et=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function c0(){}function u0(e,t){var r=ye,n=kt(),s=t(),a=!Bt(n.memoizedState,s);if(a&&(n.memoizedState=s,et=!0),n=n.queue,yd(f0.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Le!==null&&Le.memoizedState.tag&1){if(r.flags|=2048,qi(9,h0.bind(null,r,n,s,t),void 0,null),Ie===null)throw Error(I(349));Fn&30||d0(r,t,s)}return s}function d0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function h0(e,t,r,n){t.value=r,t.getSnapshot=n,m0(t)&&p0(e)}function f0(e,t,r){return r(function(){m0(t)&&p0(e)})}function m0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Bt(e,r)}catch{return!0}}function p0(e){var t=gr(e,1);t!==null&&Ut(t,e,1,-1)}function Zh(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t.queue=e,e=e.dispatch=gw.bind(null,ye,e),[t.memoizedState,e]}function qi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function g0(){return kt().memoizedState}function ro(e,t,r,n){var s=qt();ye.flags|=e,s.memoizedState=qi(1|t,r,void 0,n===void 0?null:n)}function Yo(e,t,r,n){var s=kt();n=n===void 0?null:n;var a=void 0;if(Te!==null){var o=Te.memoizedState;if(a=o.destroy,n!==null&&pd(n,o.deps)){s.memoizedState=qi(t,r,a,n);return}}ye.flags|=e,s.memoizedState=qi(1|t,r,a,n)}function ef(e,t){return ro(8390656,8,e,t)}function yd(e,t){return Yo(2048,8,e,t)}function x0(e,t){return Yo(4,2,e,t)}function y0(e,t){return Yo(4,4,e,t)}function v0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function w0(e,t,r){return r=r!=null?r.concat([e]):null,Yo(4,4,v0.bind(null,t,e),r)}function vd(){}function b0(e,t){var r=kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function j0(e,t){var r=kt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function N0(e,t,r){return Fn&21?(Bt(r,t)||(r=Cp(),ye.lanes|=r,Un|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=r)}function mw(e,t){var r=oe;oe=r!==0&&4>r?r:4,e(!0);var n=Gl.transition;Gl.transition={};try{e(!1),t()}finally{oe=r,Gl.transition=n}}function k0(){return kt().memoizedState}function pw(e,t,r){var n=Zr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},S0(e))_0(t,r);else if(r=a0(e,t,r,n),r!==null){var s=Qe();Ut(r,e,n,s),E0(r,t,n)}}function gw(e,t,r){var n=Zr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(S0(e))_0(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Bt(l,o)){var c=t.interleaved;c===null?(s.next=s,ud(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=a0(e,t,s,n),r!==null&&(s=Qe(),Ut(r,e,n,s),E0(r,t,n))}}function S0(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function _0(e,t){ki=To=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function E0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ju(e,r)}}var Po={readContext:Nt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},xw={readContext:Nt,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:ef,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ro(4194308,4,v0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return ro(4,2,e,t)},useMemo:function(e,t){var r=qt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=pw.bind(null,ye,e),[n.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:Zh,useDebugValue:vd,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=Zh(!1),t=e[0];return e=mw.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ye,s=qt();if(pe){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Ie===null)throw Error(I(349));Fn&30||d0(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,ef(f0.bind(null,n,a,e),[e]),n.flags|=2048,qi(9,h0.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=qt(),t=Ie.identifierPrefix;if(pe){var r=hr,n=dr;r=(n&~(1<<32-Ft(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=fw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yw={readContext:Nt,useCallback:b0,useContext:Nt,useEffect:yd,useImperativeHandle:w0,useInsertionEffect:x0,useLayoutEffect:y0,useMemo:j0,useReducer:Ql,useRef:g0,useState:function(){return Ql(Hi)},useDebugValue:vd,useDeferredValue:function(e){var t=kt();return N0(t,Te.memoizedState,e)},useTransition:function(){var e=Ql(Hi)[0],t=kt().memoizedState;return[e,t]},useMutableSource:c0,useSyncExternalStore:u0,useId:k0,unstable_isNewReconciler:!1},vw={readContext:Nt,useCallback:b0,useContext:Nt,useEffect:yd,useImperativeHandle:w0,useInsertionEffect:x0,useLayoutEffect:y0,useMemo:j0,useReducer:Jl,useRef:g0,useState:function(){return Jl(Hi)},useDebugValue:vd,useDeferredValue:function(e){var t=kt();return Te===null?t.memoizedState=e:N0(t,Te.memoizedState,e)},useTransition:function(){var e=Jl(Hi)[0],t=kt().memoizedState;return[e,t]},useMutableSource:c0,useSyncExternalStore:u0,useId:k0,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Gc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ve({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Xo={isMounted:function(e){return(e=e._reactInternals)?Vn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Qe(),s=Zr(e),a=fr(n,s);a.payload=t,r!=null&&(a.callback=r),t=Yr(e,a,s),t!==null&&(Ut(t,e,s,n),eo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Qe(),s=Zr(e),a=fr(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Yr(e,a,s),t!==null&&(Ut(t,e,s,n),eo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Qe(),n=Zr(e),s=fr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Yr(e,s,n),t!==null&&(Ut(t,e,n,r),eo(t,e,n))}};function tf(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!$i(r,n)||!$i(s,a):!0}function C0(e,t,r){var n=!1,s=sn,a=t.contextType;return typeof a=="object"&&a!==null?a=Nt(a):(s=rt(t)?Mn:He.current,n=t.contextTypes,a=(n=n!=null)?Us(e,s):sn),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function rf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Xo.enqueueReplaceState(t,t.state,null)}function Qc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},dd(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Nt(a):(a=rt(t)?Mn:He.current,s.context=Us(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Gc(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Xo.enqueueReplaceState(s,s.state,null),Eo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vs(e,t){try{var r="",n=t;do r+=Ky(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Yl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Jc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ww=typeof WeakMap=="function"?WeakMap:Map;function T0(e,t,r){r=fr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ro||(Ro=!0,au=n),Jc(e,t)},r}function P0(e,t,r){r=fr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Jc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Jc(e,t),typeof n!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function nf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ww;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Lw.bind(null,e,t,r),t.then(e,e))}function sf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function af(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=fr(-1,1),t.tag=2,Yr(r,t,1))),r.lanes|=1),e)}var bw=wr.ReactCurrentOwner,et=!1;function Ke(e,t,r,n){t.child=e===null?i0(t,null,r,n):zs(t,e.child,r,n)}function of(e,t,r,n,s){r=r.render;var a=t.ref;return _s(t,s),n=gd(e,t,r,n,a,s),r=xd(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xr(e,t,s)):(pe&&r&&sd(t),t.flags|=1,Ke(e,t,n,s),t.child)}function lf(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Ed(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,A0(e,t,a,n,s)):(e=ao(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:$i,r(o,n)&&e.ref===t.ref)return xr(e,t,s)}return t.flags|=1,e=en(a,n),e.ref=t.ref,e.return=t,t.child=e}function A0(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if($i(a,n)&&e.ref===t.ref)if(et=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,xr(e,t,s)}return Yc(e,t,r,n,s)}function R0(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(ws,ot),ot|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(ws,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ue(ws,ot),ot|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ue(ws,ot),ot|=n;return Ke(e,t,s,r),t.child}function O0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Yc(e,t,r,n,s){var a=rt(r)?Mn:He.current;return a=Us(t,a),_s(t,s),r=gd(e,t,r,n,a,s),n=xd(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,xr(e,t,s)):(pe&&n&&sd(t),t.flags|=1,Ke(e,t,r,s),t.child)}function cf(e,t,r,n,s){if(rt(r)){var a=!0;jo(t)}else a=!1;if(_s(t,s),t.stateNode===null)no(e,t),C0(t,r,n),Qc(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Nt(u):(u=rt(r)?Mn:He.current,u=Us(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&rf(t,o,n,u),Or=!1;var f=t.memoizedState;o.state=f,Eo(t,n,o,s),c=t.memoizedState,l!==n||f!==c||tt.current||Or?(typeof d=="function"&&(Gc(t,r,d,n),c=t.memoizedState),(l=Or||tf(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,o0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:At(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Nt(c):(c=rt(r)?Mn:He.current,c=Us(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&rf(t,o,n,c),Or=!1,f=t.memoizedState,o.state=f,Eo(t,n,o,s);var p=t.memoizedState;l!==h||f!==p||tt.current||Or?(typeof m=="function"&&(Gc(t,r,m,n),p=t.memoizedState),(u=Or||tf(t,r,u,n,f,p,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Xc(e,t,r,n,a,s)}function Xc(e,t,r,n,s,a){O0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Kh(t,r,!1),xr(e,t,a);n=t.stateNode,bw.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=zs(t,e.child,null,a),t.child=zs(t,null,l,a)):Ke(e,t,l,a),t.memoizedState=n.state,s&&Kh(t,r,!0),t.child}function L0(e){var t=e.stateNode;t.pendingContext?qh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qh(e,t.context,!1),hd(e,t.containerInfo)}function uf(e,t,r,n,s){return Bs(),ad(s),t.flags|=256,Ke(e,t,r,n),t.child}var Zc={dehydrated:null,treeContext:null,retryLane:0};function eu(e){return{baseLanes:e,cachePool:null,transitions:null}}function I0(e,t,r){var n=t.pendingProps,s=xe.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(xe,s&1),e===null)return qc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=tl(o,n,0,null),e=In(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=eu(r),t.memoizedState=Zc,e):wd(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return jw(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=en(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=en(l,a):(a=In(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?eu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Zc,n}return a=e.child,e=a.sibling,n=en(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function wd(e,t){return t=tl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Da(e,t,r,n){return n!==null&&ad(n),zs(t,e.child,null,r),e=wd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jw(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Yl(Error(I(422))),Da(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=tl({mode:"visible",children:n.children},s,0,null),a=In(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&zs(t,e.child,null,o),t.child.memoizedState=eu(o),t.memoizedState=Zc,a);if(!(t.mode&1))return Da(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(I(419)),n=Yl(a,n,void 0),Da(e,t,o,n)}if(l=(o&e.childLanes)!==0,et||l){if(n=Ie,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,gr(e,s),Ut(n,e,s,-1))}return _d(),n=Yl(Error(I(421))),Da(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Iw.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,dt=Jr(s.nextSibling),ht=t,pe=!0,$t=null,e!==null&&(vt[wt++]=dr,vt[wt++]=hr,vt[wt++]=$n,dr=e.id,hr=e.overflow,$n=t),t=wd(t,n.children),t.flags|=4096,t)}function df(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Kc(e.return,t,r)}function Xl(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function D0(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Ke(e,t,n.children,r),n=xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&df(e,r,t);else if(e.tag===19)df(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ue(xe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Co(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Xl(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Co(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Xl(t,!0,r,null,a);break;case"together":Xl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function no(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=en(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=en(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Nw(e,t,r){switch(t.tag){case 3:L0(t),Bs();break;case 5:l0(t);break;case 1:rt(t.type)&&jo(t);break;case 4:hd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ue(So,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ue(xe,xe.current&1),t.flags|=128,null):r&t.child.childLanes?I0(e,t,r):(ue(xe,xe.current&1),e=xr(e,t,r),e!==null?e.sibling:null);ue(xe,xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return D0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(xe,xe.current),n)break;return null;case 22:case 23:return t.lanes=0,R0(e,t,r)}return xr(e,t,r)}var M0,tu,$0,F0;M0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};tu=function(){};$0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Sn(Zt.current);var a=null;switch(r){case"input":s=Nc(e,s),n=Nc(e,n),a=[];break;case"select":s=ve({},s,{value:void 0}),n=ve({},n,{value:void 0}),a=[];break;case"textarea":s=_c(e,s),n=_c(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wo)}Cc(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ai.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ai.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&he("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};F0=function(e,t,r,n){r!==n&&(t.flags|=4)};function ui(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function kw(e,t,r){var n=t.pendingProps;switch(id(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return rt(t.type)&&bo(),We(t),null;case 3:return n=t.stateNode,Ws(),fe(tt),fe(He),md(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(La(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$t!==null&&(cu($t),$t=null))),tu(e,t),We(t),null;case 5:fd(t);var s=Sn(Wi.current);if(r=t.type,e!==null&&t.stateNode!=null)$0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return We(t),null}if(e=Sn(Zt.current),La(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Jt]=t,n[Bi]=a,e=(t.mode&1)!==0,r){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(s=0;s<xi.length;s++)he(xi[s],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":vh(n,a),he("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},he("invalid",n);break;case"textarea":bh(n,a),he("invalid",n)}Cc(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Oa(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Oa(n.textContent,l,e),s=["children",""+l]):Ai.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&he("scroll",n)}switch(r){case"input":Sa(n),wh(n,a,!0);break;case"textarea":Sa(n),jh(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=wo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Jt]=t,e[Bi]=n,M0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Tc(r,n),r){case"dialog":he("cancel",e),he("close",e),s=n;break;case"iframe":case"object":case"embed":he("load",e),s=n;break;case"video":case"audio":for(s=0;s<xi.length;s++)he(xi[s],e);s=n;break;case"source":he("error",e),s=n;break;case"img":case"image":case"link":he("error",e),he("load",e),s=n;break;case"details":he("toggle",e),s=n;break;case"input":vh(e,n),s=Nc(e,n),he("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ve({},n,{value:void 0}),he("invalid",e);break;case"textarea":bh(e,n),s=_c(e,n),he("invalid",e);break;default:s=n}Cc(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?gp(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mp(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ri(e,c):typeof c=="number"&&Ri(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ai.hasOwnProperty(a)?c!=null&&a==="onScroll"&&he("scroll",e):c!=null&&Vu(e,a,c,o))}switch(r){case"input":Sa(e),wh(e,n,!1);break;case"textarea":Sa(e),jh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+nn(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?js(e,!!n.multiple,a,!1):n.defaultValue!=null&&js(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)F0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=Sn(Wi.current),Sn(Zt.current),La(t)){if(n=t.stateNode,r=t.memoizedProps,n[Jt]=t,(a=n.nodeValue!==r)&&(e=ht,e!==null))switch(e.tag){case 3:Oa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oa(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jt]=t,t.stateNode=n}return We(t),null;case 13:if(fe(xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&dt!==null&&t.mode&1&&!(t.flags&128))n0(),Bs(),t.flags|=98560,a=!1;else if(a=La(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[Jt]=t}else Bs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),a=!1}else $t!==null&&(cu($t),$t=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Ae===0&&(Ae=3):_d())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return Ws(),tu(e,t),e===null&&Fi(t.stateNode.containerInfo),We(t),null;case 10:return cd(t.type._context),We(t),null;case 17:return rt(t.type)&&bo(),We(t),null;case 19:if(fe(xe),a=t.memoizedState,a===null)return We(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)ui(a,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Co(e),o!==null){for(t.flags|=128,ui(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ue(xe,xe.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ne()>Hs&&(t.flags|=128,n=!0,ui(a,!1),t.lanes=4194304)}else{if(!n)if(e=Co(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ui(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!pe)return We(t),null}else 2*Ne()-a.renderingStartTime>Hs&&r!==1073741824&&(t.flags|=128,n=!0,ui(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ne(),t.sibling=null,r=xe.current,ue(xe,n?r&1|2:r&1),t):(We(t),null);case 22:case 23:return Sd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ot&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Sw(e,t){switch(id(t),t.tag){case 1:return rt(t.type)&&bo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ws(),fe(tt),fe(He),md(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return fd(t),null;case 13:if(fe(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Bs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(xe),null;case 4:return Ws(),null;case 10:return cd(t.type._context),null;case 22:case 23:return Sd(),null;case 24:return null;default:return null}}var Ma=!1,Ve=!1,_w=typeof WeakSet=="function"?WeakSet:Set,U=null;function vs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){je(e,t,n)}else r.current=null}function ru(e,t,r){try{r()}catch(n){je(e,t,n)}}var hf=!1;function Ew(e,t){if(Fc=xo,e=Vp(),nd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=o),f===a&&++d===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Uc={focusedElem:e,selectionRange:r},xo=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,w=p.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:At(t.type,x),w);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(j){je(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return p=hf,hf=!1,p}function Si(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&ru(t,r,a)}s=s.next}while(s!==n)}}function Zo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function nu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function U0(e){var t=e.alternate;t!==null&&(e.alternate=null,U0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[Bi],delete t[Wc],delete t[cw],delete t[uw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function B0(e){return e.tag===5||e.tag===3||e.tag===4}function ff(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||B0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function su(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wo));else if(n!==4&&(e=e.child,e!==null))for(su(e,t,r),e=e.sibling;e!==null;)su(e,t,r),e=e.sibling}function iu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(iu(e,t,r),e=e.sibling;e!==null;)iu(e,t,r),e=e.sibling}var $e=null,Dt=!1;function Cr(e,t,r){for(r=r.child;r!==null;)z0(e,t,r),r=r.sibling}function z0(e,t,r){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Ho,r)}catch{}switch(r.tag){case 5:Ve||vs(r,t);case 6:var n=$e,s=Dt;$e=null,Cr(e,t,r),$e=n,Dt=s,$e!==null&&(Dt?(e=$e,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):$e.removeChild(r.stateNode));break;case 18:$e!==null&&(Dt?(e=$e,r=r.stateNode,e.nodeType===8?Hl(e.parentNode,r):e.nodeType===1&&Hl(e,r),Di(e)):Hl($e,r.stateNode));break;case 4:n=$e,s=Dt,$e=r.stateNode.containerInfo,Dt=!0,Cr(e,t,r),$e=n,Dt=s;break;case 0:case 11:case 14:case 15:if(!Ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&ru(r,t,o),s=s.next}while(s!==n)}Cr(e,t,r);break;case 1:if(!Ve&&(vs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){je(r,t,l)}Cr(e,t,r);break;case 21:Cr(e,t,r);break;case 22:r.mode&1?(Ve=(n=Ve)||r.memoizedState!==null,Cr(e,t,r),Ve=n):Cr(e,t,r);break;default:Cr(e,t,r)}}function mf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new _w),t.forEach(function(n){var s=Dw.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ct(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:$e=l.stateNode,Dt=!1;break e;case 3:$e=l.stateNode.containerInfo,Dt=!0;break e;case 4:$e=l.stateNode.containerInfo,Dt=!0;break e}l=l.return}if($e===null)throw Error(I(160));z0(a,o,s),$e=null,Dt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){je(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)W0(t,e),t=t.sibling}function W0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),Ht(e),n&4){try{Si(3,e,e.return),Zo(3,e)}catch(x){je(e,e.return,x)}try{Si(5,e,e.return)}catch(x){je(e,e.return,x)}}break;case 1:Ct(t,e),Ht(e),n&512&&r!==null&&vs(r,r.return);break;case 5:if(Ct(t,e),Ht(e),n&512&&r!==null&&vs(r,r.return),e.flags&32){var s=e.stateNode;try{Ri(s,"")}catch(x){je(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&dp(s,a),Tc(l,o);var u=Tc(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?gp(s,h):d==="dangerouslySetInnerHTML"?mp(s,h):d==="children"?Ri(s,h):Vu(s,d,h,u)}switch(l){case"input":kc(s,a);break;case"textarea":hp(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?js(s,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?js(s,!!a.multiple,a.defaultValue,!0):js(s,!!a.multiple,a.multiple?[]:"",!1))}s[Bi]=a}catch(x){je(e,e.return,x)}}break;case 6:if(Ct(t,e),Ht(e),n&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){je(e,e.return,x)}}break;case 3:if(Ct(t,e),Ht(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Di(t.containerInfo)}catch(x){je(e,e.return,x)}break;case 4:Ct(t,e),Ht(e);break;case 13:Ct(t,e),Ht(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Nd=Ne())),n&4&&mf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ve=(u=Ve)||d,Ct(t,e),Ve=u):Ct(t,e),Ht(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(h=U=d;U!==null;){switch(f=U,m=f.child,f.tag){case 0:case 11:case 14:case 15:Si(4,f,f.return);break;case 1:vs(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){je(n,r,x)}}break;case 5:vs(f,f.return);break;case 22:if(f.memoizedState!==null){gf(h);continue}}m!==null?(m.return=f,U=m):gf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=pp("display",o))}catch(x){je(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){je(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ct(t,e),Ht(e),n&4&&mf(e);break;case 21:break;default:Ct(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(B0(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ri(s,""),n.flags&=-33);var a=ff(e);iu(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=ff(e);su(e,l,o);break;default:throw Error(I(161))}}catch(c){je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cw(e,t,r){U=e,V0(e)}function V0(e,t,r){for(var n=(e.mode&1)!==0;U!==null;){var s=U,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ma;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ve;l=Ma;var u=Ve;if(Ma=o,(Ve=c)&&!u)for(U=s;U!==null;)o=U,c=o.child,o.tag===22&&o.memoizedState!==null?xf(s):c!==null?(c.return=o,U=c):xf(s);for(;a!==null;)U=a,V0(a),a=a.sibling;U=s,Ma=l,Ve=u}pf(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,U=a):pf(e)}}function pf(e){for(;U!==null;){var t=U;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ve||Zo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ve)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:At(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Xh(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Xh(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Di(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ve||t.flags&512&&nu(t)}catch(f){je(t,t.return,f)}}if(t===e){U=null;break}if(r=t.sibling,r!==null){r.return=t.return,U=r;break}U=t.return}}function gf(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var r=t.sibling;if(r!==null){r.return=t.return,U=r;break}U=t.return}}function xf(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Zo(4,t)}catch(c){je(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){je(t,s,c)}}var a=t.return;try{nu(t)}catch(c){je(t,a,c)}break;case 5:var o=t.return;try{nu(t)}catch(c){je(t,o,c)}}}catch(c){je(t,t.return,c)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var Tw=Math.ceil,Ao=wr.ReactCurrentDispatcher,bd=wr.ReactCurrentOwner,jt=wr.ReactCurrentBatchConfig,te=0,Ie=null,Se=null,Fe=0,ot=0,ws=dn(0),Ae=0,Ki=null,Un=0,el=0,jd=0,_i=null,Ze=null,Nd=0,Hs=1/0,ar=null,Ro=!1,au=null,Xr=null,$a=!1,Hr=null,Oo=0,Ei=0,ou=null,so=-1,io=0;function Qe(){return te&6?Ne():so!==-1?so:so=Ne()}function Zr(e){return e.mode&1?te&2&&Fe!==0?Fe&-Fe:hw.transition!==null?(io===0&&(io=Cp()),io):(e=oe,e!==0||(e=window.event,e=e===void 0?16:Ip(e.type)),e):1}function Ut(e,t,r,n){if(50<Ei)throw Ei=0,ou=null,Error(I(185));ua(e,r,n),(!(te&2)||e!==Ie)&&(e===Ie&&(!(te&2)&&(el|=r),Ae===4&&Dr(e,Fe)),nt(e,n),r===1&&te===0&&!(t.mode&1)&&(Hs=Ne()+500,Jo&&hn()))}function nt(e,t){var r=e.callbackNode;hv(e,t);var n=go(e,e===Ie?Fe:0);if(n===0)r!==null&&Sh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Sh(r),t===1)e.tag===0?dw(yf.bind(null,e)):e0(yf.bind(null,e)),ow(function(){!(te&6)&&hn()}),r=null;else{switch(Tp(n)){case 1:r=Qu;break;case 4:r=_p;break;case 16:r=po;break;case 536870912:r=Ep;break;default:r=po}r=X0(r,H0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function H0(e,t){if(so=-1,io=0,te&6)throw Error(I(327));var r=e.callbackNode;if(Es()&&e.callbackNode!==r)return null;var n=go(e,e===Ie?Fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Lo(e,n);else{t=n;var s=te;te|=2;var a=K0();(Ie!==e||Fe!==t)&&(ar=null,Hs=Ne()+500,Ln(e,t));do try{Rw();break}catch(l){q0(e,l)}while(!0);ld(),Ao.current=a,te=s,Se!==null?t=0:(Ie=null,Fe=0,t=Ae)}if(t!==0){if(t===2&&(s=Lc(e),s!==0&&(n=s,t=lu(e,s))),t===1)throw r=Ki,Ln(e,0),Dr(e,n),nt(e,Ne()),r;if(t===6)Dr(e,n);else{if(s=e.current.alternate,!(n&30)&&!Pw(s)&&(t=Lo(e,n),t===2&&(a=Lc(e),a!==0&&(n=a,t=lu(e,a))),t===1))throw r=Ki,Ln(e,0),Dr(e,n),nt(e,Ne()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:vn(e,Ze,ar);break;case 3:if(Dr(e,n),(n&130023424)===n&&(t=Nd+500-Ne(),10<t)){if(go(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Qe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=zc(vn.bind(null,e,Ze,ar),t);break}vn(e,Ze,ar);break;case 4:if(Dr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Ft(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=Ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Tw(n/1960))-n,10<n){e.timeoutHandle=zc(vn.bind(null,e,Ze,ar),n);break}vn(e,Ze,ar);break;case 5:vn(e,Ze,ar);break;default:throw Error(I(329))}}}return nt(e,Ne()),e.callbackNode===r?H0.bind(null,e):null}function lu(e,t){var r=_i;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=Lo(e,t),e!==2&&(t=Ze,Ze=r,t!==null&&cu(t)),e}function cu(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function Pw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Bt(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dr(e,t){for(t&=~jd,t&=~el,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ft(t),n=1<<r;e[r]=-1,t&=~n}}function yf(e){if(te&6)throw Error(I(327));Es();var t=go(e,0);if(!(t&1))return nt(e,Ne()),null;var r=Lo(e,t);if(e.tag!==0&&r===2){var n=Lc(e);n!==0&&(t=n,r=lu(e,n))}if(r===1)throw r=Ki,Ln(e,0),Dr(e,t),nt(e,Ne()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vn(e,Ze,ar),nt(e,Ne()),null}function kd(e,t){var r=te;te|=1;try{return e(t)}finally{te=r,te===0&&(Hs=Ne()+500,Jo&&hn())}}function Bn(e){Hr!==null&&Hr.tag===0&&!(te&6)&&Es();var t=te;te|=1;var r=jt.transition,n=oe;try{if(jt.transition=null,oe=1,e)return e()}finally{oe=n,jt.transition=r,te=t,!(te&6)&&hn()}}function Sd(){ot=ws.current,fe(ws)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,aw(r)),Se!==null)for(r=Se.return;r!==null;){var n=r;switch(id(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bo();break;case 3:Ws(),fe(tt),fe(He),md();break;case 5:fd(n);break;case 4:Ws();break;case 13:fe(xe);break;case 19:fe(xe);break;case 10:cd(n.type._context);break;case 22:case 23:Sd()}r=r.return}if(Ie=e,Se=e=en(e.current,null),Fe=ot=t,Ae=0,Ki=null,jd=el=Un=0,Ze=_i=null,kn!==null){for(t=0;t<kn.length;t++)if(r=kn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}kn=null}return e}function q0(e,t){do{var r=Se;try{if(ld(),to.current=Po,To){for(var n=ye.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}To=!1}if(Fn=0,Le=Te=ye=null,ki=!1,Vi=0,bd.current=null,r===null||r.return===null){Ae=1,Ki=t,Se=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Fe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=sf(o);if(m!==null){m.flags&=-257,af(m,o,l,a,t),m.mode&1&&nf(a,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}else{if(!(t&1)){nf(a,u,t),_d();break e}c=Error(I(426))}}else if(pe&&l.mode&1){var w=sf(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),af(w,o,l,a,t),ad(Vs(c,l));break e}}a=c=Vs(c,l),Ae!==4&&(Ae=2),_i===null?_i=[a]:_i.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=T0(a,c,t);Yh(a,g);break e;case 1:l=c;var y=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Xr===null||!Xr.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=P0(a,l,t);Yh(a,j);break e}}a=a.return}while(a!==null)}Q0(r)}catch(N){t=N,Se===r&&r!==null&&(Se=r=r.return);continue}break}while(!0)}function K0(){var e=Ao.current;return Ao.current=Po,e===null?Po:e}function _d(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Ie===null||!(Un&268435455)&&!(el&268435455)||Dr(Ie,Fe)}function Lo(e,t){var r=te;te|=2;var n=K0();(Ie!==e||Fe!==t)&&(ar=null,Ln(e,t));do try{Aw();break}catch(s){q0(e,s)}while(!0);if(ld(),te=r,Ao.current=n,Se!==null)throw Error(I(261));return Ie=null,Fe=0,Ae}function Aw(){for(;Se!==null;)G0(Se)}function Rw(){for(;Se!==null&&!nv();)G0(Se)}function G0(e){var t=Y0(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?Q0(e):Se=t,bd.current=null}function Q0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Sw(r,t),r!==null){r.flags&=32767,Se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Se=null;return}}else if(r=kw(r,t,ot),r!==null){Se=r;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Ae===0&&(Ae=5)}function vn(e,t,r){var n=oe,s=jt.transition;try{jt.transition=null,oe=1,Ow(e,t,r,n)}finally{jt.transition=s,oe=n}return null}function Ow(e,t,r,n){do Es();while(Hr!==null);if(te&6)throw Error(I(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(fv(e,a),e===Ie&&(Se=Ie=null,Fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$a||($a=!0,X0(po,function(){return Es(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=jt.transition,jt.transition=null;var o=oe;oe=1;var l=te;te|=4,bd.current=null,Ew(e,r),W0(r,e),Zv(Uc),xo=!!Fc,Uc=Fc=null,e.current=r,Cw(r),sv(),te=l,oe=o,jt.transition=a}else e.current=r;if($a&&($a=!1,Hr=e,Oo=s),a=e.pendingLanes,a===0&&(Xr=null),ov(r.stateNode),nt(e,Ne()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ro)throw Ro=!1,e=au,au=null,e;return Oo&1&&e.tag!==0&&Es(),a=e.pendingLanes,a&1?e===ou?Ei++:(Ei=0,ou=e):Ei=0,hn(),null}function Es(){if(Hr!==null){var e=Tp(Oo),t=jt.transition,r=oe;try{if(jt.transition=null,oe=16>e?16:e,Hr===null)var n=!1;else{if(e=Hr,Hr=null,Oo=0,te&6)throw Error(I(331));var s=te;for(te|=4,U=e.current;U!==null;){var a=U,o=a.child;if(U.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(U=u;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:Si(8,d,a)}var h=d.child;if(h!==null)h.return=d,U=h;else for(;U!==null;){d=U;var f=d.sibling,m=d.return;if(U0(d),d===u){U=null;break}if(f!==null){f.return=m,U=f;break}U=m}}}var p=a.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}U=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,U=o;else e:for(;U!==null;){if(a=U,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Si(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,U=g;break e}U=a.return}}var y=e.current;for(U=y;U!==null;){o=U;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,U=v;else e:for(o=y;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zo(9,l)}}catch(N){je(l,l.return,N)}if(l===o){U=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,U=j;break e}U=l.return}}if(te=s,hn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Ho,e)}catch{}n=!0}return n}finally{oe=r,jt.transition=t}}return!1}function vf(e,t,r){t=Vs(r,t),t=T0(e,t,1),e=Yr(e,t,1),t=Qe(),e!==null&&(ua(e,1,t),nt(e,t))}function je(e,t,r){if(e.tag===3)vf(e,e,r);else for(;t!==null;){if(t.tag===3){vf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xr===null||!Xr.has(n))){e=Vs(r,e),e=P0(t,e,1),t=Yr(t,e,1),e=Qe(),t!==null&&(ua(t,1,e),nt(t,e));break}}t=t.return}}function Lw(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&r,Ie===e&&(Fe&r)===r&&(Ae===4||Ae===3&&(Fe&130023424)===Fe&&500>Ne()-Nd?Ln(e,0):jd|=r),nt(e,t)}function J0(e,t){t===0&&(e.mode&1?(t=Ca,Ca<<=1,!(Ca&130023424)&&(Ca=4194304)):t=1);var r=Qe();e=gr(e,t),e!==null&&(ua(e,t,r),nt(e,r))}function Iw(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),J0(e,r)}function Dw(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),J0(e,r)}var Y0;Y0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)et=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return et=!1,Nw(e,t,r);et=!!(e.flags&131072)}else et=!1,pe&&t.flags&1048576&&t0(t,ko,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;no(e,t),e=t.pendingProps;var s=Us(t,He.current);_s(t,r),s=gd(null,t,n,e,s,r);var a=xd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(n)?(a=!0,jo(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dd(t),s.updater=Xo,t.stateNode=s,s._reactInternals=t,Qc(t,n,e,r),t=Xc(null,t,n,!0,a,r)):(t.tag=0,pe&&a&&sd(t),Ke(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(no(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=$w(n),e=At(n,e),s){case 0:t=Yc(null,t,n,e,r);break e;case 1:t=cf(null,t,n,e,r);break e;case 11:t=of(null,t,n,e,r);break e;case 14:t=lf(null,t,n,At(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:At(n,s),Yc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:At(n,s),cf(e,t,n,s,r);case 3:e:{if(L0(t),e===null)throw Error(I(387));n=t.pendingProps,a=t.memoizedState,s=a.element,o0(e,t),Eo(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Vs(Error(I(423)),t),t=uf(e,t,n,r,s);break e}else if(n!==s){s=Vs(Error(I(424)),t),t=uf(e,t,n,r,s);break e}else for(dt=Jr(t.stateNode.containerInfo.firstChild),ht=t,pe=!0,$t=null,r=i0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bs(),n===s){t=xr(e,t,r);break e}Ke(e,t,n,r)}t=t.child}return t;case 5:return l0(t),e===null&&qc(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Bc(n,s)?o=null:a!==null&&Bc(n,a)&&(t.flags|=32),O0(e,t),Ke(e,t,o,r),t.child;case 6:return e===null&&qc(t),null;case 13:return I0(e,t,r);case 4:return hd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=zs(t,null,n,r):Ke(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:At(n,s),of(e,t,n,s,r);case 7:return Ke(e,t,t.pendingProps,r),t.child;case 8:return Ke(e,t,t.pendingProps.children,r),t.child;case 12:return Ke(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,ue(So,n._currentValue),n._currentValue=o,a!==null)if(Bt(a.value,o)){if(a.children===s.children&&!tt.current){t=xr(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=fr(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Kc(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(I(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Kc(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ke(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,_s(t,r),s=Nt(s),n=n(s),t.flags|=1,Ke(e,t,n,r),t.child;case 14:return n=t.type,s=At(n,t.pendingProps),s=At(n.type,s),lf(e,t,n,s,r);case 15:return A0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:At(n,s),no(e,t),t.tag=1,rt(n)?(e=!0,jo(t)):e=!1,_s(t,r),C0(t,n,s),Qc(t,n,s,r),Xc(null,t,n,!0,e,r);case 19:return D0(e,t,r);case 22:return R0(e,t,r)}throw Error(I(156,t.tag))};function X0(e,t){return Sp(e,t)}function Mw(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,t,r,n){return new Mw(e,t,r,n)}function Ed(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $w(e){if(typeof e=="function")return Ed(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qu)return 11;if(e===Ku)return 14}return 2}function en(e,t){var r=e.alternate;return r===null?(r=bt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ao(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")Ed(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case us:return In(r.children,s,a,t);case Hu:o=8,s|=8;break;case vc:return e=bt(12,r,t,s|2),e.elementType=vc,e.lanes=a,e;case wc:return e=bt(13,r,t,s),e.elementType=wc,e.lanes=a,e;case bc:return e=bt(19,r,t,s),e.elementType=bc,e.lanes=a,e;case lp:return tl(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ap:o=10;break e;case op:o=9;break e;case qu:o=11;break e;case Ku:o=14;break e;case Rr:o=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=bt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function In(e,t,r,n){return e=bt(7,e,n,t),e.lanes=r,e}function tl(e,t,r,n){return e=bt(22,e,n,t),e.elementType=lp,e.lanes=r,e.stateNode={isHidden:!1},e}function Zl(e,t,r){return e=bt(6,e,null,t),e.lanes=r,e}function ec(e,t,r){return t=bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fw(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ll(0),this.expirationTimes=Ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ll(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Cd(e,t,r,n,s,a,o,l,c){return e=new Fw(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=bt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dd(a),e}function Uw(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Z0(e){if(!e)return sn;e=e._reactInternals;e:{if(Vn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(rt(r))return Zp(e,r,t)}return t}function eg(e,t,r,n,s,a,o,l,c){return e=Cd(r,n,!0,e,s,a,o,l,c),e.context=Z0(null),r=e.current,n=Qe(),s=Zr(r),a=fr(n,s),a.callback=t??null,Yr(r,a,s),e.current.lanes=s,ua(e,s,n),nt(e,n),e}function rl(e,t,r,n){var s=t.current,a=Qe(),o=Zr(s);return r=Z0(r),t.context===null?t.context=r:t.pendingContext=r,t=fr(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Yr(s,t,o),e!==null&&(Ut(e,s,o,a),eo(e,s,o)),o}function Io(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Td(e,t){wf(e,t),(e=e.alternate)&&wf(e,t)}function Bw(){return null}var tg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pd(e){this._internalRoot=e}nl.prototype.render=Pd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));rl(e,t,null,null)};nl.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bn(function(){rl(null,e,null,null)}),t[pr]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ir.length&&t!==0&&t<Ir[r].priority;r++);Ir.splice(r,0,e),r===0&&Lp(e)}};function Ad(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bf(){}function zw(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Io(o);a.call(u)}}var o=eg(t,n,e,0,null,!1,!1,"",bf);return e._reactRootContainer=o,e[pr]=o.current,Fi(e.nodeType===8?e.parentNode:e),Bn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Io(c);l.call(u)}}var c=Cd(e,0,!1,null,null,!1,!1,"",bf);return e._reactRootContainer=c,e[pr]=c.current,Fi(e.nodeType===8?e.parentNode:e),Bn(function(){rl(t,c,r,n)}),c}function il(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Io(o);l.call(c)}}rl(t,o,e,s)}else o=zw(r,t,e,s,n);return Io(o)}Pp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=gi(t.pendingLanes);r!==0&&(Ju(t,r|1),nt(t,Ne()),!(te&6)&&(Hs=Ne()+500,hn()))}break;case 13:Bn(function(){var n=gr(e,1);if(n!==null){var s=Qe();Ut(n,e,1,s)}}),Td(e,1)}};Yu=function(e){if(e.tag===13){var t=gr(e,134217728);if(t!==null){var r=Qe();Ut(t,e,134217728,r)}Td(e,134217728)}};Ap=function(e){if(e.tag===13){var t=Zr(e),r=gr(e,t);if(r!==null){var n=Qe();Ut(r,e,t,n)}Td(e,t)}};Rp=function(){return oe};Op=function(e,t){var r=oe;try{return oe=e,t()}finally{oe=r}};Ac=function(e,t,r){switch(t){case"input":if(kc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Qo(n);if(!s)throw Error(I(90));up(n),kc(n,s)}}}break;case"textarea":hp(e,r);break;case"select":t=r.value,t!=null&&js(e,!!r.multiple,t,!1)}};vp=kd;wp=Bn;var Ww={usingClientEntryPoint:!1,Events:[ha,ms,Qo,xp,yp,kd]},di={findFiberByHostInstance:Nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vw={bundleType:di.bundleType,version:di.version,rendererPackageName:di.rendererPackageName,rendererConfig:di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Np(e),e===null?null:e.stateNode},findFiberByHostInstance:di.findFiberByHostInstance||Bw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{Ho=Fa.inject(Vw),Xt=Fa}catch{}}pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ww;pt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ad(t))throw Error(I(200));return Uw(e,t,null,r)};pt.createRoot=function(e,t){if(!Ad(e))throw Error(I(299));var r=!1,n="",s=tg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Cd(e,1,!1,null,null,r,!1,n,s),e[pr]=t.current,Fi(e.nodeType===8?e.parentNode:e),new Pd(t)};pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Np(t),e=e===null?null:e.stateNode,e};pt.flushSync=function(e){return Bn(e)};pt.hydrate=function(e,t,r){if(!sl(t))throw Error(I(200));return il(null,e,t,!0,r)};pt.hydrateRoot=function(e,t,r){if(!Ad(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=tg;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=eg(t,null,e,1,r??null,s,!1,a,o),e[pr]=t.current,Fi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new nl(t)};pt.render=function(e,t,r){if(!sl(t))throw Error(I(200));return il(null,e,t,!1,r)};pt.unmountComponentAtNode=function(e){if(!sl(e))throw Error(I(40));return e._reactRootContainer?(Bn(function(){il(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0):!1};pt.unstable_batchedUpdates=kd;pt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!sl(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return il(e,t,r,!1,n)};pt.version="18.3.1-next-f1338f8080-20240426";function rg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rg)}catch(e){console.error(e)}}rg(),rp.exports=pt;var ma=rp.exports;const ng=Wm(ma);var sg,jf=ma;sg=jf.createRoot,jf.hydrateRoot;const Hw=1,qw=1e6;let tc=0;function Kw(){return tc=(tc+1)%Number.MAX_SAFE_INTEGER,tc.toString()}const rc=new Map,Nf=e=>{if(rc.has(e))return;const t=setTimeout(()=>{rc.delete(e),Ci({type:"REMOVE_TOAST",toastId:e})},qw);rc.set(e,t)},Gw=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Hw)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Nf(r):e.toasts.forEach(n=>{Nf(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},oo=[];let lo={toasts:[]};function Ci(e){lo=Gw(lo,e),oo.forEach(t=>{t(lo)})}function Qw({...e}){const t=Kw(),r=s=>Ci({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Ci({type:"DISMISS_TOAST",toastId:t});return Ci({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Jw(){const[e,t]=b.useState(lo);return b.useEffect(()=>(oo.push(t),()=>{const r=oo.indexOf(t);r>-1&&oo.splice(r,1)}),[e]),{...e,toast:Qw,dismiss:r=>Ci({type:"DISMISS_TOAST",toastId:r})}}function Pe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function kf(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Rd(...e){return t=>{let r=!1;const n=e.map(s=>{const a=kf(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():kf(e[s],null)}}}}function zt(...e){return b.useCallback(Rd(...e),e)}function al(e,t=[]){let r=[];function n(a,o){const l=b.createContext(o),c=r.length;r=[...r,o];const u=h=>{var g;const{scope:f,children:m,...p}=h,x=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,w=b.useMemo(()=>p,Object.values(p));return i.jsx(x.Provider,{value:w,children:m})};u.displayName=a+"Provider";function d(h,f){var x;const m=((x=f==null?void 0:f[e])==null?void 0:x[c])||l,p=b.useContext(m);if(p)return p;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Yw(s,...t)]}function Yw(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Sf(e){const t=Xw(e),r=b.forwardRef((n,s)=>{const{children:a,...o}=n,l=b.Children.toArray(a),c=l.find(eb);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function Xw(e){const t=b.forwardRef((r,n)=>{const{children:s,...a}=r;if(b.isValidElement(s)){const o=rb(s),l=tb(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Rd(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zw=Symbol("radix.slottable");function eb(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Zw}function tb(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function rb(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function nb(e){const t=e+"CollectionProvider",[r,n]=al(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:w,children:g}=x,y=D.useRef(null),v=D.useRef(new Map).current;return i.jsx(s,{scope:w,itemMap:v,collectionRef:y,children:g})};o.displayName=t;const l=e+"CollectionSlot",c=Sf(l),u=D.forwardRef((x,w)=>{const{scope:g,children:y}=x,v=a(l,g),j=zt(w,v.collectionRef);return i.jsx(c,{ref:j,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Sf(d),m=D.forwardRef((x,w)=>{const{scope:g,children:y,...v}=x,j=D.useRef(null),N=zt(w,j),k=a(d,g);return D.useEffect(()=>(k.itemMap.set(j,{ref:j,...v}),()=>void k.itemMap.delete(j))),i.jsx(f,{[h]:"",ref:N,children:y})});m.displayName=d;function p(x){const w=a(e+"CollectionConsumer",x);return D.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((k,S)=>v.indexOf(k.ref.current)-v.indexOf(S.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},p,n]}function sb(e){const t=ib(e),r=b.forwardRef((n,s)=>{const{children:a,...o}=n,l=b.Children.toArray(a),c=l.find(ob);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...o,ref:s,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function ib(e){const t=b.forwardRef((r,n)=>{const{children:s,...a}=r;if(b.isValidElement(s)){const o=cb(s),l=lb(a,s.props);return s.type!==b.Fragment&&(l.ref=n?Rd(n,o):o),b.cloneElement(s,l)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ab=Symbol("radix.slottable");function ob(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ab}function lb(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function cb(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ub=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=ub.reduce((e,t)=>{const r=sb(`Primitive.${t}`),n=b.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ig(e,t){e&&ma.flushSync(()=>e.dispatchEvent(t))}function an(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function db(e,t=globalThis==null?void 0:globalThis.document){const r=an(e);b.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var hb="DismissableLayer",uu="dismissableLayer.update",fb="dismissableLayer.pointerDownOutside",mb="dismissableLayer.focusOutside",_f,ag=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Od=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=b.useContext(ag),[d,h]=b.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),p=zt(t,S=>h(S)),x=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(w),y=d?x.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,j=y>=g,N=gb(S=>{const P=S.target,T=[...u.branches].some(_=>_.contains(P));!j||T||(s==null||s(S),o==null||o(S),S.defaultPrevented||l==null||l())},f),k=xb(S=>{const P=S.target;[...u.branches].some(_=>_.contains(P))||(a==null||a(S),o==null||o(S),S.defaultPrevented||l==null||l())},f);return db(S=>{y===u.layers.size-1&&(n==null||n(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},f),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(_f=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ef(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=_f)}},[d,f,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ef())},[d,u]),b.useEffect(()=>{const S=()=>m({});return document.addEventListener(uu,S),()=>document.removeEventListener(uu,S)},[]),i.jsx(st.div,{...c,ref:p,style:{pointerEvents:v?j?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,N.onPointerDownCapture)})});Od.displayName=hb;var pb="DismissableLayerBranch",og=b.forwardRef((e,t)=>{const r=b.useContext(ag),n=b.useRef(null),s=zt(t,n);return b.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(st.div,{...e,ref:s})});og.displayName=pb;function gb(e,t=globalThis==null?void 0:globalThis.document){const r=an(e),n=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){lg(fb,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function xb(e,t=globalThis==null?void 0:globalThis.document){const r=an(e),n=b.useRef(!1);return b.useEffect(()=>{const s=a=>{a.target&&!n.current&&lg(mb,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ef(){const e=new CustomEvent(uu);document.dispatchEvent(e)}function lg(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?ig(s,a):s.dispatchEvent(a)}var yb=Od,vb=og,on=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},wb="Portal",cg=b.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=b.useState(!1);on(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?ng.createPortal(i.jsx(st.div,{...n,ref:t}),o):null});cg.displayName=wb;function bb(e,t){return b.useReducer((r,n)=>t[r][n]??r,e)}var Ld=e=>{const{present:t,children:r}=e,n=jb(t),s=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),a=zt(n.ref,Nb(s));return typeof r=="function"||n.isPresent?b.cloneElement(s,{ref:a}):null};Ld.displayName="Presence";function jb(e){const[t,r]=b.useState(),n=b.useRef(null),s=b.useRef(e),a=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=bb(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Ua(n.current);a.current=l==="mounted"?u:"none"},[l]),on(()=>{const u=n.current,d=s.current;if(d!==e){const f=a.current,m=Ua(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),on(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=m=>{const x=Ua(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&x&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},f=m=>{m.target===t&&(a.current=Ua(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Ua(e){return(e==null?void 0:e.animationName)||"none"}function Nb(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kb=ep[" useInsertionEffect ".trim().toString()]||on;function Sb({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,o]=_b({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=b.useRef(e!==void 0);b.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=b.useCallback(d=>{var h;if(l){const f=Eb(d)?d(e):d;f!==e&&((h=o.current)==null||h.call(o,f))}else a(d)},[l,e,a,o]);return[c,u]}function _b({defaultProp:e,onChange:t}){const[r,n]=b.useState(e),s=b.useRef(r),a=b.useRef(t);return kb(()=>{a.current=t},[t]),b.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function Eb(e){return typeof e=="function"}var Cb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Tb="VisuallyHidden",ol=b.forwardRef((e,t)=>i.jsx(st.span,{...e,ref:t,style:{...Cb,...e.style}}));ol.displayName=Tb;var Pb=ol,Id="ToastProvider",[Dd,Ab,Rb]=nb("Toast"),[ug]=al("Toast",[Rb]),[Ob,ll]=ug(Id),dg=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=b.useState(null),[u,d]=b.useState(0),h=b.useRef(!1),f=b.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Id}\`. Expected non-empty \`string\`.`),i.jsx(Dd.Provider,{scope:t,children:i.jsx(Ob,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>d(m=>m+1),[]),onToastRemove:b.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};dg.displayName=Id;var hg="ToastViewport",Lb=["F8"],du="toast.viewportPause",hu="toast.viewportResume",fg=b.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Lb,label:s="Notifications ({hotkey})",...a}=e,o=ll(hg,r),l=Ab(r),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),h=b.useRef(null),f=zt(t,h,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=o.toastCount>0;b.useEffect(()=>{const w=g=>{var v;n.length!==0&&n.every(j=>g[j]||g.code===j)&&((v=h.current)==null||v.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),b.useEffect(()=>{const w=c.current,g=h.current;if(p&&w&&g){const y=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(du);g.dispatchEvent(k),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(hu);g.dispatchEvent(k),o.isClosePausedRef.current=!1}},j=k=>{!w.contains(k.relatedTarget)&&v()},N=()=>{w.contains(document.activeElement)||v()};return w.addEventListener("focusin",y),w.addEventListener("focusout",j),w.addEventListener("pointermove",y),w.addEventListener("pointerleave",N),window.addEventListener("blur",y),window.addEventListener("focus",v),()=>{w.removeEventListener("focusin",y),w.removeEventListener("focusout",j),w.removeEventListener("pointermove",y),w.removeEventListener("pointerleave",N),window.removeEventListener("blur",y),window.removeEventListener("focus",v)}}},[p,o.isClosePausedRef]);const x=b.useCallback(({tabbingDirection:w})=>{const y=l().map(v=>{const j=v.ref.current,N=[j,...Kb(j)];return w==="forwards"?N:N.reverse()});return(w==="forwards"?y.reverse():y).flat()},[l]);return b.useEffect(()=>{const w=h.current;if(w){const g=y=>{var N,k,S;const v=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!v){const P=document.activeElement,T=y.shiftKey;if(y.target===w&&T){(N=u.current)==null||N.focus();return}const E=x({tabbingDirection:T?"backwards":"forwards"}),M=E.findIndex($=>$===P);nc(E.slice(M+1))?y.preventDefault():T?(k=u.current)==null||k.focus():(S=d.current)==null||S.focus()}};return w.addEventListener("keydown",g),()=>w.removeEventListener("keydown",g)}},[l,x]),i.jsxs(vb,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&i.jsx(fu,{ref:u,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});nc(w)}}),i.jsx(Dd.Slot,{scope:r,children:i.jsx(st.ol,{tabIndex:-1,...a,ref:f})}),p&&i.jsx(fu,{ref:d,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});nc(w)}})]})});fg.displayName=hg;var mg="ToastFocusProxy",fu=b.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=ll(mg,r);return i.jsx(ol,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});fu.displayName=mg;var pa="Toast",Ib="toast.swipeStart",Db="toast.swipeMove",Mb="toast.swipeCancel",$b="toast.swipeEnd",pg=b.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=Sb({prop:n,defaultProp:s??!0,onChange:a,caller:pa});return i.jsx(Ld,{present:r||l,children:i.jsx(Bb,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:an(e.onPause),onResume:an(e.onResume),onSwipeStart:Pe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Pe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});pg.displayName=pa;var[Fb,Ub]=ug(pa,{onClose(){}}),Bb=b.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:m,...p}=e,x=ll(pa,r),[w,g]=b.useState(null),y=zt(t,$=>g($)),v=b.useRef(null),j=b.useRef(null),N=s||x.duration,k=b.useRef(0),S=b.useRef(N),P=b.useRef(0),{onToastAdd:T,onToastRemove:_}=x,O=an(()=>{var K;(w==null?void 0:w.contains(document.activeElement))&&((K=x.viewport)==null||K.focus()),o()}),E=b.useCallback($=>{!$||$===1/0||(window.clearTimeout(P.current),k.current=new Date().getTime(),P.current=window.setTimeout(O,$))},[O]);b.useEffect(()=>{const $=x.viewport;if($){const K=()=>{E(S.current),u==null||u()},W=()=>{const L=new Date().getTime()-k.current;S.current=S.current-L,window.clearTimeout(P.current),c==null||c()};return $.addEventListener(du,W),$.addEventListener(hu,K),()=>{$.removeEventListener(du,W),$.removeEventListener(hu,K)}}},[x.viewport,N,c,u,E]),b.useEffect(()=>{a&&!x.isClosePausedRef.current&&E(N)},[a,N,x.isClosePausedRef,E]),b.useEffect(()=>(T(),()=>_()),[T,_]);const M=b.useMemo(()=>w?jg(w):null,[w]);return x.viewport?i.jsxs(i.Fragment,{children:[M&&i.jsx(zb,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:M}),i.jsx(Fb,{scope:r,onClose:O,children:ma.createPortal(i.jsx(Dd.ItemSlot,{scope:r,children:i.jsx(yb,{asChild:!0,onEscapeKeyDown:Pe(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||O(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(st.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...p,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pe(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Pe(e.onPointerDown,$=>{$.button===0&&(v.current={x:$.clientX,y:$.clientY})}),onPointerMove:Pe(e.onPointerMove,$=>{if(!v.current)return;const K=$.clientX-v.current.x,W=$.clientY-v.current.y,L=!!j.current,C=["left","right"].includes(x.swipeDirection),R=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,F=C?R(0,K):0,G=C?0:R(0,W),V=$.pointerType==="touch"?10:2,Y={x:F,y:G},B={originalEvent:$,delta:Y};L?(j.current=Y,Ba(Db,h,B,{discrete:!1})):Cf(Y,x.swipeDirection,V)?(j.current=Y,Ba(Ib,d,B,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(K)>V||Math.abs(W)>V)&&(v.current=null)}),onPointerUp:Pe(e.onPointerUp,$=>{const K=j.current,W=$.target;if(W.hasPointerCapture($.pointerId)&&W.releasePointerCapture($.pointerId),j.current=null,v.current=null,K){const L=$.currentTarget,C={originalEvent:$,delta:K};Cf(K,x.swipeDirection,x.swipeThreshold)?Ba($b,m,C,{discrete:!0}):Ba(Mb,f,C,{discrete:!0}),L.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),zb=e=>{const{__scopeToast:t,children:r,...n}=e,s=ll(pa,t),[a,o]=b.useState(!1),[l,c]=b.useState(!1);return Hb(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(cg,{asChild:!0,children:i.jsx(ol,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},Wb="ToastTitle",gg=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(st.div,{...n,ref:t})});gg.displayName=Wb;var Vb="ToastDescription",xg=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(st.div,{...n,ref:t})});xg.displayName=Vb;var yg="ToastAction",vg=b.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(bg,{altText:r,asChild:!0,children:i.jsx(Md,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${yg}\`. Expected non-empty \`string\`.`),null)});vg.displayName=yg;var wg="ToastClose",Md=b.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=Ub(wg,r);return i.jsx(bg,{asChild:!0,children:i.jsx(st.button,{type:"button",...n,ref:t,onClick:Pe(e.onClick,s.onClose)})})});Md.displayName=wg;var bg=b.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(st.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function jg(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),qb(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...jg(n))}}),t}function Ba(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?ig(s,a):s.dispatchEvent(a)}var Cf=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function Hb(e=()=>{}){const t=an(e);on(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function qb(e){return e.nodeType===e.ELEMENT_NODE}function Kb(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function nc(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Gb=dg,Ng=fg,kg=pg,Sg=gg,_g=xg,Eg=vg,Cg=Md;function Tg(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Tg(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pg(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Tg(e))&&(n&&(n+=" "),n+=t);return n}const Tf=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Pf=Pg,Qb=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Pf(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const f=Tf(d)||Tf(h);return s[u][f]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...m}=d;return Object.entries(m).every(p=>{let[x,w]=p;return Array.isArray(w)?w.includes({...a,...l}[x]):{...a,...l}[x]===w})?[...u,h,f]:u},[]);return Pf(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ag=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...Yb,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Ag("lucide",s),...l},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=(e,t)=>{const r=b.forwardRef(({className:n,...s},a)=>b.createElement(Xb,{ref:a,iconNode:t,className:Ag(`lucide-${Jb(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=Zb("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$d="-",t1=e=>{const t=n1(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split($d);return l[0]===""&&l.length!==1&&l.shift(),Rg(l,t)||r1(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Rg=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Rg(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join($d);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},Af=/^\[(.+)\]$/,r1=e=>{if(Af.test(e)){const t=Af.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},n1=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return i1(Object.entries(e.classGroups),r).forEach(([a,o])=>{mu(o,n,a,t)}),n},mu=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Rf(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(s1(s)){mu(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{mu(o,Rf(t,a),r,n)})})},Rf=(e,t)=>{let r=e;return t.split($d).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},s1=e=>e.isThemeGetter,i1=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,a1=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},Og="!",o1=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let w=0;w<l.length;w++){let g=l[w];if(u===0){if(g===s&&(n||l.slice(w,w+a)===t)){c.push(l.slice(d,w)),d=w+a;continue}if(g==="/"){h=w;continue}}g==="["?u++:g==="]"&&u--}const f=c.length===0?l:l.substring(d),m=f.startsWith(Og),p=m?f.substring(1):f,x=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},l1=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},c1=e=>({cache:a1(e.cacheSize),parseClassName:o1(e),...t1(e)}),u1=/\s+/,d1=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(u1);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}=r(u);let p=!!m,x=n(p?f.substring(0,m):f);if(!x){if(!p){l=u+(l.length>0?" "+l:l);continue}if(x=n(f),!x){l=u+(l.length>0?" "+l:l);continue}p=!1}const w=l1(d).join(":"),g=h?w+Og:w,y=g+x;if(a.includes(y))continue;a.push(y);const v=s(x,p);for(let j=0;j<v.length;++j){const N=v[j];a.push(g+N)}l=u+(l.length>0?" "+l:l)}return l};function h1(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Lg(t))&&(n&&(n+=" "),n+=r);return n}const Lg=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Lg(e[n]))&&(r&&(r+=" "),r+=t);return r};function f1(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=c1(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=d1(c,r);return s(c,d),d}return function(){return a(h1.apply(null,arguments))}}const de=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Ig=/^\[(?:([a-z-]+):)?(.+)\]$/i,m1=/^\d+\/\d+$/,p1=new Set(["px","full","screen"]),g1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,y1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,v1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,w1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sr=e=>Cs(e)||p1.has(e)||m1.test(e),Tr=e=>Ys(e,"length",C1),Cs=e=>!!e&&!Number.isNaN(Number(e)),sc=e=>Ys(e,"number",Cs),hi=e=>!!e&&Number.isInteger(Number(e)),b1=e=>e.endsWith("%")&&Cs(e.slice(0,-1)),X=e=>Ig.test(e),Pr=e=>g1.test(e),j1=new Set(["length","size","percentage"]),N1=e=>Ys(e,j1,Dg),k1=e=>Ys(e,"position",Dg),S1=new Set(["image","url"]),_1=e=>Ys(e,S1,P1),E1=e=>Ys(e,"",T1),fi=()=>!0,Ys=(e,t,r)=>{const n=Ig.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},C1=e=>x1.test(e)&&!y1.test(e),Dg=()=>!1,T1=e=>v1.test(e),P1=e=>w1.test(e),A1=()=>{const e=de("colors"),t=de("spacing"),r=de("blur"),n=de("brightness"),s=de("borderColor"),a=de("borderRadius"),o=de("borderSpacing"),l=de("borderWidth"),c=de("contrast"),u=de("grayscale"),d=de("hueRotate"),h=de("invert"),f=de("gap"),m=de("gradientColorStops"),p=de("gradientColorStopPositions"),x=de("inset"),w=de("margin"),g=de("opacity"),y=de("padding"),v=de("saturate"),j=de("scale"),N=de("sepia"),k=de("skew"),S=de("space"),P=de("translate"),T=()=>["auto","contain","none"],_=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",X,t],E=()=>[X,t],M=()=>["",sr,Tr],$=()=>["auto",Cs,X],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",X],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Cs,X];return{cacheSize:500,separator:":",theme:{colors:[fi],spacing:[sr,Tr],blur:["none","",Pr,X],brightness:G(),borderColor:[e],borderRadius:["none","","full",Pr,X],borderSpacing:E(),borderWidth:M(),contrast:G(),grayscale:R(),hueRotate:G(),invert:R(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[b1,Tr],inset:O(),margin:O(),opacity:G(),padding:E(),saturate:G(),scale:G(),sepia:R(),skew:G(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",X]}],container:["container"],columns:[{columns:[Pr]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),X]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hi,X]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",X]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",hi,X]}],"grid-cols":[{"grid-cols":[fi]}],"col-start-end":[{col:["auto",{span:["full",hi,X]},X]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[fi]}],"row-start-end":[{row:["auto",{span:[hi,X]},X]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",X]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",X]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",X,t]}],"min-w":[{"min-w":[X,t,"min","max","fit"]}],"max-w":[{"max-w":[X,t,"none","full","min","max","fit","prose",{screen:[Pr]},Pr]}],h:[{h:[X,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[X,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[X,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[X,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Pr,Tr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sc]}],"font-family":[{font:[fi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",X]}],"line-clamp":[{"line-clamp":["none",Cs,sc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sr,X]}],"list-image":[{"list-image":["none",X]}],"list-style-type":[{list:["none","disc","decimal",X]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sr,Tr]}],"underline-offset":[{"underline-offset":["auto",sr,X]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",X]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",X]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),k1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",N1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_1]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:W()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[sr,X]}],"outline-w":[{outline:[sr,Tr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[sr,Tr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Pr,E1]}],"shadow-color":[{shadow:[fi]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Pr,X]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[v]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",X]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",X]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",X]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[hi,X]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",X]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",X]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",X]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[sr,Tr,sc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},R1=f1(A1);function Hn(...e){return R1(Pg(e))}const O1=Gb,Mg=b.forwardRef(({className:e,...t},r)=>i.jsx(Ng,{ref:r,className:Hn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Mg.displayName=Ng.displayName;const L1=Qb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$g=b.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(kg,{ref:n,className:Hn(L1({variant:t}),e),...r}));$g.displayName=kg.displayName;const I1=b.forwardRef(({className:e,...t},r)=>i.jsx(Eg,{ref:r,className:Hn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));I1.displayName=Eg.displayName;const Fg=b.forwardRef(({className:e,...t},r)=>i.jsx(Cg,{ref:r,className:Hn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(e1,{className:"h-4 w-4"})}));Fg.displayName=Cg.displayName;const Ug=b.forwardRef(({className:e,...t},r)=>i.jsx(Sg,{ref:r,className:Hn("text-sm font-semibold",e),...t}));Ug.displayName=Sg.displayName;const Bg=b.forwardRef(({className:e,...t},r)=>i.jsx(_g,{ref:r,className:Hn("text-sm opacity-90",e),...t}));Bg.displayName=_g.displayName;function D1(){const{toasts:e}=Jw();return i.jsxs(O1,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs($g,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(Ug,{children:r}),n&&i.jsx(Bg,{children:n})]}),s,i.jsx(Fg,{})]},t)}),i.jsx(Mg,{})]})}var M1=e=>{switch(e){case"success":return U1;case"info":return z1;case"warning":return B1;case"error":return W1;default:return null}},$1=Array(12).fill(0),F1=({visible:e,className:t})=>D.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},D.createElement("div",{className:"sonner-spinner"},$1.map((r,n)=>D.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),U1=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),B1=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),z1=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),W1=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},D.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),V1=D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},D.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),D.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),H1=()=>{let[e,t]=D.useState(document.hidden);return D.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},pu=1,q1=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:pu++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],D.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(G1(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||pu++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Xe=new q1,K1=(e,t)=>{let r=(t==null?void 0:t.id)||pu++;return Xe.addToast({title:e,...t,id:r}),r},G1=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Q1=K1,J1=()=>Xe.toasts,Y1=()=>Xe.getActiveToasts();Object.assign(Q1,{success:Xe.success,info:Xe.info,warning:Xe.warning,error:Xe.error,custom:Xe.custom,message:Xe.message,promise:Xe.promise,dismiss:Xe.dismiss,loading:Xe.loading},{getHistory:J1,getToasts:Y1});function X1(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}X1(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function za(e){return e.label!==void 0}var Z1=3,e2="32px",t2="16px",Of=4e3,r2=356,n2=14,s2=20,i2=200;function Tt(...e){return e.filter(Boolean).join(" ")}function a2(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var o2=e=>{var t,r,n,s,a,o,l,c,u,d,h;let{invert:f,toast:m,unstyled:p,interacting:x,setHeights:w,visibleToasts:g,heights:y,index:v,toasts:j,expanded:N,removeToast:k,defaultRichColors:S,closeButton:P,style:T,cancelButtonStyle:_,actionButtonStyle:O,className:E="",descriptionClassName:M="",duration:$,position:K,gap:W,loadingIcon:L,expandByDefault:C,classNames:R,icons:F,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:V}=e,[Y,B]=D.useState(null),[re,_e]=D.useState(null),[ne,Kn]=D.useState(!1),[jr,fn]=D.useState(!1),[Nr,Gn]=D.useState(!1),[kr,va]=D.useState(!1),[kl,wa]=D.useState(!1),[Sl,ri]=D.useState(0),[Qn,ih]=D.useState(0),ni=D.useRef(m.duration||$||Of),ah=D.useRef(null),mn=D.useRef(null),ly=v===0,cy=v+1<=g,xt=m.type,Jn=m.dismissible!==!1,uy=m.className||"",dy=m.descriptionClassName||"",ba=D.useMemo(()=>y.findIndex(J=>J.toastId===m.id)||0,[y,m.id]),hy=D.useMemo(()=>{var J;return(J=m.closeButton)!=null?J:P},[m.closeButton,P]),oh=D.useMemo(()=>m.duration||$||Of,[m.duration,$]),_l=D.useRef(0),Yn=D.useRef(0),lh=D.useRef(0),Xn=D.useRef(null),[fy,my]=K.split("-"),ch=D.useMemo(()=>y.reduce((J,le,me)=>me>=ba?J:J+le.height,0),[y,ba]),uh=H1(),py=m.invert||f,El=xt==="loading";Yn.current=D.useMemo(()=>ba*W+ch,[ba,ch]),D.useEffect(()=>{ni.current=oh},[oh]),D.useEffect(()=>{Kn(!0)},[]),D.useEffect(()=>{let J=mn.current;if(J){let le=J.getBoundingClientRect().height;return ih(le),w(me=>[{toastId:m.id,height:le,position:m.position},...me]),()=>w(me=>me.filter(St=>St.toastId!==m.id))}},[w,m.id]),D.useLayoutEffect(()=>{if(!ne)return;let J=mn.current,le=J.style.height;J.style.height="auto";let me=J.getBoundingClientRect().height;J.style.height=le,ih(me),w(St=>St.find(_t=>_t.toastId===m.id)?St.map(_t=>_t.toastId===m.id?{..._t,height:me}:_t):[{toastId:m.id,height:me,position:m.position},...St])},[ne,m.title,m.description,w,m.id]);let Sr=D.useCallback(()=>{fn(!0),ri(Yn.current),w(J=>J.filter(le=>le.toastId!==m.id)),setTimeout(()=>{k(m)},i2)},[m,k,w,Yn]);D.useEffect(()=>{if(m.promise&&xt==="loading"||m.duration===1/0||m.type==="loading")return;let J;return N||x||V&&uh?(()=>{if(lh.current<_l.current){let le=new Date().getTime()-_l.current;ni.current=ni.current-le}lh.current=new Date().getTime()})():ni.current!==1/0&&(_l.current=new Date().getTime(),J=setTimeout(()=>{var le;(le=m.onAutoClose)==null||le.call(m,m),Sr()},ni.current)),()=>clearTimeout(J)},[N,x,m,xt,V,uh,Sr]),D.useEffect(()=>{m.delete&&Sr()},[Sr,m.delete]);function gy(){var J,le,me;return F!=null&&F.loading?D.createElement("div",{className:Tt(R==null?void 0:R.loader,(J=m==null?void 0:m.classNames)==null?void 0:J.loader,"sonner-loader"),"data-visible":xt==="loading"},F.loading):L?D.createElement("div",{className:Tt(R==null?void 0:R.loader,(le=m==null?void 0:m.classNames)==null?void 0:le.loader,"sonner-loader"),"data-visible":xt==="loading"},L):D.createElement(F1,{className:Tt(R==null?void 0:R.loader,(me=m==null?void 0:m.classNames)==null?void 0:me.loader),visible:xt==="loading"})}return D.createElement("li",{tabIndex:0,ref:mn,className:Tt(E,uy,R==null?void 0:R.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,R==null?void 0:R.default,R==null?void 0:R[xt],(r=m==null?void 0:m.classNames)==null?void 0:r[xt]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:S,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":ne,"data-promise":!!m.promise,"data-swiped":kl,"data-removed":jr,"data-visible":cy,"data-y-position":fy,"data-x-position":my,"data-index":v,"data-front":ly,"data-swiping":Nr,"data-dismissible":Jn,"data-type":xt,"data-invert":py,"data-swipe-out":kr,"data-swipe-direction":re,"data-expanded":!!(N||C&&ne),style:{"--index":v,"--toasts-before":v,"--z-index":j.length-v,"--offset":`${jr?Sl:Yn.current}px`,"--initial-height":C?"auto":`${Qn}px`,...T,...m.style},onDragEnd:()=>{Gn(!1),B(null),Xn.current=null},onPointerDown:J=>{El||!Jn||(ah.current=new Date,ri(Yn.current),J.target.setPointerCapture(J.pointerId),J.target.tagName!=="BUTTON"&&(Gn(!0),Xn.current={x:J.clientX,y:J.clientY}))},onPointerUp:()=>{var J,le,me,St;if(kr||!Jn)return;Xn.current=null;let _t=Number(((J=mn.current)==null?void 0:J.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),_r=Number(((le=mn.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),pn=new Date().getTime()-((me=ah.current)==null?void 0:me.getTime()),Et=Y==="x"?_t:_r,Er=Math.abs(Et)/pn;if(Math.abs(Et)>=s2||Er>.11){ri(Yn.current),(St=m.onDismiss)==null||St.call(m,m),_e(Y==="x"?_t>0?"right":"left":_r>0?"down":"up"),Sr(),va(!0),wa(!1);return}Gn(!1),B(null)},onPointerMove:J=>{var le,me,St,_t;if(!Xn.current||!Jn||((le=window.getSelection())==null?void 0:le.toString().length)>0)return;let _r=J.clientY-Xn.current.y,pn=J.clientX-Xn.current.x,Et=(me=e.swipeDirections)!=null?me:a2(K);!Y&&(Math.abs(pn)>1||Math.abs(_r)>1)&&B(Math.abs(pn)>Math.abs(_r)?"x":"y");let Er={x:0,y:0};Y==="y"?(Et.includes("top")||Et.includes("bottom"))&&(Et.includes("top")&&_r<0||Et.includes("bottom")&&_r>0)&&(Er.y=_r):Y==="x"&&(Et.includes("left")||Et.includes("right"))&&(Et.includes("left")&&pn<0||Et.includes("right")&&pn>0)&&(Er.x=pn),(Math.abs(Er.x)>0||Math.abs(Er.y)>0)&&wa(!0),(St=mn.current)==null||St.style.setProperty("--swipe-amount-x",`${Er.x}px`),(_t=mn.current)==null||_t.style.setProperty("--swipe-amount-y",`${Er.y}px`)}},hy&&!m.jsx?D.createElement("button",{"aria-label":G,"data-disabled":El,"data-close-button":!0,onClick:El||!Jn?()=>{}:()=>{var J;Sr(),(J=m.onDismiss)==null||J.call(m,m)},className:Tt(R==null?void 0:R.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(a=F==null?void 0:F.close)!=null?a:V1):null,m.jsx||b.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:D.createElement(D.Fragment,null,xt||m.icon||m.promise?D.createElement("div",{"data-icon":"",className:Tt(R==null?void 0:R.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||gy():null,m.type!=="loading"?m.icon||(F==null?void 0:F[xt])||M1(xt):null):null,D.createElement("div",{"data-content":"",className:Tt(R==null?void 0:R.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},D.createElement("div",{"data-title":"",className:Tt(R==null?void 0:R.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?D.createElement("div",{"data-description":"",className:Tt(M,dy,R==null?void 0:R.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),b.isValidElement(m.cancel)?m.cancel:m.cancel&&za(m.cancel)?D.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||_,onClick:J=>{var le,me;za(m.cancel)&&Jn&&((me=(le=m.cancel).onClick)==null||me.call(le,J),Sr())},className:Tt(R==null?void 0:R.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,b.isValidElement(m.action)?m.action:m.action&&za(m.action)?D.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:J=>{var le,me;za(m.action)&&((me=(le=m.action).onClick)==null||me.call(le,J),!J.defaultPrevented&&Sr())},className:Tt(R==null?void 0:R.actionButton,(h=m==null?void 0:m.classNames)==null?void 0:h.actionButton)},m.action.label):null))};function Lf(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function l2(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?t2:e2;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var c2=b.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:f,style:m,visibleToasts:p=Z1,toastOptions:x,dir:w=Lf(),gap:g=n2,loadingIcon:y,icons:v,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:N}=e,[k,S]=D.useState([]),P=D.useMemo(()=>Array.from(new Set([n].concat(k.filter(V=>V.position).map(V=>V.position)))),[k,n]),[T,_]=D.useState([]),[O,E]=D.useState(!1),[M,$]=D.useState(!1),[K,W]=D.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=D.useRef(null),C=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=D.useRef(null),F=D.useRef(!1),G=D.useCallback(V=>{S(Y=>{var B;return(B=Y.find(re=>re.id===V.id))!=null&&B.delete||Xe.dismiss(V.id),Y.filter(({id:re})=>re!==V.id)})},[]);return D.useEffect(()=>Xe.subscribe(V=>{if(V.dismiss){S(Y=>Y.map(B=>B.id===V.id?{...B,delete:!0}:B));return}setTimeout(()=>{ng.flushSync(()=>{S(Y=>{let B=Y.findIndex(re=>re.id===V.id);return B!==-1?[...Y.slice(0,B),{...Y[B],...V},...Y.slice(B+1)]:[V,...Y]})})})}),[]),D.useEffect(()=>{if(d!=="system"){W(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:Y})=>{W(Y?"dark":"light")})}catch{V.addListener(({matches:B})=>{try{W(B?"dark":"light")}catch(re){console.error(re)}})}},[d]),D.useEffect(()=>{k.length<=1&&E(!1)},[k]),D.useEffect(()=>{let V=Y=>{var B,re;s.every(_e=>Y[_e]||Y.code===_e)&&(E(!0),(B=L.current)==null||B.focus()),Y.code==="Escape"&&(document.activeElement===L.current||(re=L.current)!=null&&re.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[s]),D.useEffect(()=>{if(L.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,F.current=!1)}},[L.current]),D.createElement("section",{ref:t,"aria-label":`${j} ${C}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((V,Y)=>{var B;let[re,_e]=V.split("-");return k.length?D.createElement("ol",{key:V,dir:w==="auto"?Lf():w,tabIndex:-1,ref:L,className:l,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":re,"data-lifted":O&&k.length>1&&!a,"data-x-position":_e,style:{"--front-toast-height":`${((B=T[0])==null?void 0:B.height)||0}px`,"--width":`${r2}px`,"--gap":`${g}px`,...m,...l2(c,u)},onBlur:ne=>{F.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(F.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||F.current||(F.current=!0,R.current=ne.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{M||E(!1)},onDragEnd:()=>E(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},k.filter(ne=>!ne.position&&Y===0||ne.position===V).map((ne,Kn)=>{var jr,fn;return D.createElement(o2,{key:ne.id,icons:v,index:Kn,toast:ne,defaultRichColors:h,duration:(jr=x==null?void 0:x.duration)!=null?jr:f,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:r,visibleToasts:p,closeButton:(fn=x==null?void 0:x.closeButton)!=null?fn:o,interacting:M,position:V,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:G,toasts:k.filter(Nr=>Nr.position==ne.position),heights:T.filter(Nr=>Nr.position==ne.position),setHeights:_,expandByDefault:a,gap:g,loadingIcon:y,expanded:O,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const zg=b.createContext(null);function u2({children:e,defaultTheme:t="system",value:r,...n}){const[s,a]=b.useState(()=>{if(typeof window<"u"){const l=localStorage.getItem("theme");return l&&(l==="dark"||l==="light"||l==="system")?l:t}return t});b.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(s)},[s]);const o={theme:s,setTheme:l=>{localStorage.setItem("theme",l),a(l)}};return i.jsx(zg.Provider,{value:o,...n,children:e})}const d2=()=>{const e=b.useContext(zg);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},h2=({...e})=>{const{theme:t}=d2();return i.jsx(c2,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},f2=["top","right","bottom","left"],ln=Math.min,lt=Math.max,Do=Math.round,Wa=Math.floor,er=e=>({x:e,y:e}),m2={left:"right",right:"left",bottom:"top",top:"bottom"},p2={start:"end",end:"start"};function gu(e,t,r){return lt(e,ln(t,r))}function yr(e,t){return typeof e=="function"?e(t):e}function vr(e){return e.split("-")[0]}function Xs(e){return e.split("-")[1]}function Fd(e){return e==="x"?"y":"x"}function Ud(e){return e==="y"?"height":"width"}const g2=new Set(["top","bottom"]);function Yt(e){return g2.has(vr(e))?"y":"x"}function Bd(e){return Fd(Yt(e))}function x2(e,t,r){r===void 0&&(r=!1);const n=Xs(e),s=Bd(e),a=Ud(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Mo(o)),[o,Mo(o)]}function y2(e){const t=Mo(e);return[xu(e),t,xu(t)]}function xu(e){return e.replace(/start|end/g,t=>p2[t])}const If=["left","right"],Df=["right","left"],v2=["top","bottom"],w2=["bottom","top"];function b2(e,t,r){switch(e){case"top":case"bottom":return r?t?Df:If:t?If:Df;case"left":case"right":return t?v2:w2;default:return[]}}function j2(e,t,r,n){const s=Xs(e);let a=b2(vr(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(xu)))),a}function Mo(e){return e.replace(/left|right|bottom|top/g,t=>m2[t])}function N2(e){return{top:0,right:0,bottom:0,left:0,...e}}function Wg(e){return typeof e!="number"?N2(e):{top:e,right:e,bottom:e,left:e}}function $o(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Mf(e,t,r){let{reference:n,floating:s}=e;const a=Yt(t),o=Bd(t),l=Ud(o),c=vr(t),u=a==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,f=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:h};break;case"left":m={x:n.x-s.width,y:h};break;default:m={x:n.x,y:n.y}}switch(Xs(t)){case"start":m[o]-=f*(r&&u?-1:1);break;case"end":m[o]+=f*(r&&u?-1:1);break}return m}const k2=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Mf(u,n,c),f=n,m={},p=0;for(let x=0;x<l.length;x++){const{name:w,fn:g}=l[x],{x:y,y:v,data:j,reset:N}=await g({x:d,y:h,initialPlacement:n,placement:f,strategy:s,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,h=v??h,m={...m,[w]:{...m[w],...j}},N&&p<=50&&(p++,typeof N=="object"&&(N.placement&&(f=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:h}=Mf(u,f,c)),x=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:m}};async function Gi(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=yr(t,e),p=Wg(m),w=l[f?h==="floating"?"reference":"floating":h],g=$o(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(w)))==null||r?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},N=$o(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:v,strategy:c}):y);return{top:(g.top-N.top+p.top)/j.y,bottom:(N.bottom-g.bottom+p.bottom)/j.y,left:(g.left-N.left+p.left)/j.x,right:(N.right-g.right+p.right)/j.x}}const S2=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=yr(e,t)||{};if(u==null)return{};const h=Wg(d),f={x:r,y:n},m=Bd(s),p=Ud(m),x=await o.getDimensions(u),w=m==="y",g=w?"top":"left",y=w?"bottom":"right",v=w?"clientHeight":"clientWidth",j=a.reference[p]+a.reference[m]-f[m]-a.floating[p],N=f[m]-a.reference[m],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let S=k?k[v]:0;(!S||!await(o.isElement==null?void 0:o.isElement(k)))&&(S=l.floating[v]||a.floating[p]);const P=j/2-N/2,T=S/2-x[p]/2-1,_=ln(h[g],T),O=ln(h[y],T),E=_,M=S-x[p]-O,$=S/2-x[p]/2+P,K=gu(E,$,M),W=!c.arrow&&Xs(s)!=null&&$!==K&&a.reference[p]/2-($<E?_:O)-x[p]/2<0,L=W?$<E?$-E:$-M:0;return{[m]:f[m]+L,data:{[m]:K,centerOffset:$-K-L,...W&&{alignmentOffset:L}},reset:W}}}),_2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:x=!0,...w}=yr(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const g=vr(s),y=Yt(l),v=vr(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=f||(v||!x?[Mo(l)]:y2(l)),k=p!=="none";!f&&k&&N.push(...j2(l,x,p,j));const S=[l,...N],P=await Gi(t,w),T=[];let _=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&T.push(P[g]),h){const $=x2(s,o,j);T.push(P[$[0]],P[$[1]])}if(_=[..._,{placement:s,overflows:T}],!T.every($=>$<=0)){var O,E;const $=(((O=a.flip)==null?void 0:O.index)||0)+1,K=S[$];if(K&&(!(h==="alignment"?y!==Yt(K):!1)||_.every(C=>Yt(C.placement)===y?C.overflows[0]>0:!0)))return{data:{index:$,overflows:_},reset:{placement:K}};let W=(E=_.filter(L=>L.overflows[0]<=0).sort((L,C)=>L.overflows[1]-C.overflows[1])[0])==null?void 0:E.placement;if(!W)switch(m){case"bestFit":{var M;const L=(M=_.filter(C=>{if(k){const R=Yt(C.placement);return R===y||R==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(R=>R>0).reduce((R,F)=>R+F,0)]).sort((C,R)=>C[1]-R[1])[0])==null?void 0:M[0];L&&(W=L);break}case"initialPlacement":W=l;break}if(s!==W)return{reset:{placement:W}}}return{}}}};function $f(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ff(e){return f2.some(t=>e[t]>=0)}const E2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=yr(e,t);switch(n){case"referenceHidden":{const a=await Gi(t,{...s,elementContext:"reference"}),o=$f(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ff(o)}}}case"escaped":{const a=await Gi(t,{...s,altBoundary:!0}),o=$f(a,r.floating);return{data:{escapedOffsets:o,escaped:Ff(o)}}}default:return{}}}}},Vg=new Set(["left","top"]);async function C2(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=vr(r),l=Xs(r),c=Yt(r)==="y",u=Vg.has(o)?-1:1,d=a&&c?-1:1,h=yr(t,e);let{mainAxis:f,crossAxis:m,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),c?{x:m*d,y:f*u}:{x:f*u,y:m*d}}const T2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await C2(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},P2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:g,y}=w;return{x:g,y}}},...c}=yr(e,t),u={x:r,y:n},d=await Gi(t,c),h=Yt(vr(s)),f=Fd(h);let m=u[f],p=u[h];if(a){const w=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=m+d[w],v=m-d[g];m=gu(y,m,v)}if(o){const w=h==="y"?"top":"left",g=h==="y"?"bottom":"right",y=p+d[w],v=p-d[g];p=gu(y,p,v)}const x=l.fn({...t,[f]:m,[h]:p});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[f]:a,[h]:o}}}}}},A2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=yr(e,t),d={x:r,y:n},h=Yt(s),f=Fd(h);let m=d[f],p=d[h];const x=yr(l,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=f==="y"?"height":"width",j=a.reference[f]-a.floating[v]+w.mainAxis,N=a.reference[f]+a.reference[v]-w.mainAxis;m<j?m=j:m>N&&(m=N)}if(u){var g,y;const v=f==="y"?"width":"height",j=Vg.has(vr(s)),N=a.reference[h]-a.floating[v]+(j&&((g=o.offset)==null?void 0:g[h])||0)+(j?0:w.crossAxis),k=a.reference[h]+a.reference[v]+(j?0:((y=o.offset)==null?void 0:y[h])||0)-(j?w.crossAxis:0);p<N?p=N:p>k&&(p=k)}return{[f]:m,[h]:p}}}},R2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=yr(e,t),d=await Gi(t,u),h=vr(s),f=Xs(s),m=Yt(s)==="y",{width:p,height:x}=a.floating;let w,g;h==="top"||h==="bottom"?(w=h,g=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(g=h,w=f==="end"?"top":"bottom");const y=x-d.top-d.bottom,v=p-d.left-d.right,j=ln(x-d[w],y),N=ln(p-d[g],v),k=!t.middlewareData.shift;let S=j,P=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(S=y),k&&!f){const _=lt(d.left,0),O=lt(d.right,0),E=lt(d.top,0),M=lt(d.bottom,0);m?P=p-2*(_!==0||O!==0?_+O:lt(d.left,d.right)):S=x-2*(E!==0||M!==0?E+M:lt(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:S});const T=await o.getDimensions(l.floating);return p!==T.width||x!==T.height?{reset:{rects:!0}}:{}}}};function cl(){return typeof window<"u"}function Zs(e){return Hg(e)?(e.nodeName||"").toLowerCase():"#document"}function ft(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rr(e){var t;return(t=(Hg(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Hg(e){return cl()?e instanceof Node||e instanceof ft(e).Node:!1}function Wt(e){return cl()?e instanceof Element||e instanceof ft(e).Element:!1}function tr(e){return cl()?e instanceof HTMLElement||e instanceof ft(e).HTMLElement:!1}function Uf(e){return!cl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ft(e).ShadowRoot}const O2=new Set(["inline","contents"]);function ga(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Vt(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!O2.has(s)}const L2=new Set(["table","td","th"]);function I2(e){return L2.has(Zs(e))}const D2=[":popover-open",":modal"];function ul(e){return D2.some(t=>{try{return e.matches(t)}catch{return!1}})}const M2=["transform","translate","scale","rotate","perspective"],$2=["transform","translate","scale","rotate","perspective","filter"],F2=["paint","layout","strict","content"];function zd(e){const t=Wd(),r=Wt(e)?Vt(e):e;return M2.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||$2.some(n=>(r.willChange||"").includes(n))||F2.some(n=>(r.contain||"").includes(n))}function U2(e){let t=cn(e);for(;tr(t)&&!qs(t);){if(zd(t))return t;if(ul(t))return null;t=cn(t)}return null}function Wd(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const B2=new Set(["html","body","#document"]);function qs(e){return B2.has(Zs(e))}function Vt(e){return ft(e).getComputedStyle(e)}function dl(e){return Wt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cn(e){if(Zs(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Uf(e)&&e.host||rr(e);return Uf(t)?t.host:t}function qg(e){const t=cn(e);return qs(t)?e.ownerDocument?e.ownerDocument.body:e.body:tr(t)&&ga(t)?t:qg(t)}function Qi(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=qg(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=ft(s);if(a){const l=yu(o);return t.concat(o,o.visualViewport||[],ga(s)?s:[],l&&r?Qi(l):[])}return t.concat(s,Qi(s,[],r))}function yu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Kg(e){const t=Vt(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=tr(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Do(r)!==a||Do(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function Vd(e){return Wt(e)?e:e.contextElement}function Ts(e){const t=Vd(e);if(!tr(t))return er(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=Kg(t);let o=(a?Do(r.width):r.width)/n,l=(a?Do(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const z2=er(0);function Gg(e){const t=ft(e);return!Wd()||!t.visualViewport?z2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function W2(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ft(e)?!1:t}function zn(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=Vd(e);let o=er(1);t&&(n?Wt(n)&&(o=Ts(n)):o=Ts(e));const l=W2(a,r,n)?Gg(a):er(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(a){const f=ft(a),m=n&&Wt(n)?ft(n):n;let p=f,x=yu(p);for(;x&&n&&m!==p;){const w=Ts(x),g=x.getBoundingClientRect(),y=Vt(x),v=g.left+(x.clientLeft+parseFloat(y.paddingLeft))*w.x,j=g.top+(x.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,h*=w.y,c+=v,u+=j,p=ft(x),x=yu(p)}}return $o({width:d,height:h,x:c,y:u})}function hl(e,t){const r=dl(e).scrollLeft;return t?t.left+r:zn(rr(e)).left+r}function Qg(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-hl(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function V2(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=rr(n),l=t?ul(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=er(1);const d=er(0),h=tr(n);if((h||!h&&!a)&&((Zs(n)!=="body"||ga(o))&&(c=dl(n)),tr(n))){const m=zn(n);u=Ts(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const f=o&&!h&&!a?Qg(o,c):er(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+f.x,y:r.y*u.y-c.scrollTop*u.y+d.y+f.y}}function H2(e){return Array.from(e.getClientRects())}function q2(e){const t=rr(e),r=dl(e),n=e.ownerDocument.body,s=lt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=lt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+hl(e);const l=-r.scrollTop;return Vt(n).direction==="rtl"&&(o+=lt(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}const Bf=25;function K2(e,t){const r=ft(e),n=rr(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=Wd();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=hl(n);if(u<=0){const d=n.ownerDocument,h=d.body,f=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,p=Math.abs(n.clientWidth-h.clientWidth-m);p<=Bf&&(a-=p)}else u<=Bf&&(a+=u);return{width:a,height:o,x:l,y:c}}const G2=new Set(["absolute","fixed"]);function Q2(e,t){const r=zn(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=tr(e)?Ts(e):er(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function zf(e,t,r){let n;if(t==="viewport")n=K2(e,r);else if(t==="document")n=q2(rr(e));else if(Wt(t))n=Q2(t,r);else{const s=Gg(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return $o(n)}function Jg(e,t){const r=cn(e);return r===t||!Wt(r)||qs(r)?!1:Vt(r).position==="fixed"||Jg(r,t)}function J2(e,t){const r=t.get(e);if(r)return r;let n=Qi(e,[],!1).filter(l=>Wt(l)&&Zs(l)!=="body"),s=null;const a=Vt(e).position==="fixed";let o=a?cn(e):e;for(;Wt(o)&&!qs(o);){const l=Vt(o),c=zd(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&G2.has(s.position)||ga(o)&&!c&&Jg(e,o))?n=n.filter(d=>d!==o):s=l,o=cn(o)}return t.set(e,n),n}function Y2(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?ul(t)?[]:J2(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=zf(t,d,s);return u.top=lt(h.top,u.top),u.right=ln(h.right,u.right),u.bottom=ln(h.bottom,u.bottom),u.left=lt(h.left,u.left),u},zf(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function X2(e){const{width:t,height:r}=Kg(e);return{width:t,height:r}}function Z2(e,t,r){const n=tr(t),s=rr(t),a=r==="fixed",o=zn(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=er(0);function u(){c.x=hl(s)}if(n||!n&&!a)if((Zs(t)!=="body"||ga(s))&&(l=dl(t)),n){const m=zn(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?Qg(s,l):er(0),h=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function ic(e){return Vt(e).position==="static"}function Wf(e,t){if(!tr(e)||Vt(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return rr(e)===r&&(r=r.ownerDocument.body),r}function Yg(e,t){const r=ft(e);if(ul(e))return r;if(!tr(e)){let s=cn(e);for(;s&&!qs(s);){if(Wt(s)&&!ic(s))return s;s=cn(s)}return r}let n=Wf(e,t);for(;n&&I2(n)&&ic(n);)n=Wf(n,t);return n&&qs(n)&&ic(n)&&!zd(n)?r:n||U2(e)||r}const ej=async function(e){const t=this.getOffsetParent||Yg,r=this.getDimensions,n=await r(e.floating);return{reference:Z2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tj(e){return Vt(e).direction==="rtl"}const rj={convertOffsetParentRelativeRectToViewportRelativeRect:V2,getDocumentElement:rr,getClippingRect:Y2,getOffsetParent:Yg,getElementRects:ej,getClientRects:H2,getDimensions:X2,getScale:Ts,isElement:Wt,isRTL:tj};function Xg(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nj(e,t){let r=null,n;const s=rr(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=u;if(l||t(),!f||!m)return;const p=Wa(h),x=Wa(s.clientWidth-(d+f)),w=Wa(s.clientHeight-(h+m)),g=Wa(d),v={rootMargin:-p+"px "+-x+"px "+-w+"px "+-g+"px",threshold:lt(0,ln(1,c))||1};let j=!0;function N(k){const S=k[0].intersectionRatio;if(S!==c){if(!j)return o();S?o(!1,S):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S===1&&!Xg(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(N,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(N,v)}r.observe(e)}return o(!0),a}function sj(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Vd(e),d=s||a?[...u?Qi(u):[],...Qi(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",r,{passive:!0}),a&&g.addEventListener("resize",r)});const h=u&&l?nj(u,r):null;let f=-1,m=null;o&&(m=new ResizeObserver(g=>{let[y]=g;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var v;(v=m)==null||v.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let p,x=c?zn(e):null;c&&w();function w(){const g=zn(e);x&&!Xg(x,g)&&r(),x=g,p=requestAnimationFrame(w)}return r(),()=>{var g;d.forEach(y=>{s&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const ij=T2,aj=P2,oj=_2,lj=R2,cj=E2,Vf=S2,uj=A2,dj=(e,t,r)=>{const n=new Map,s={platform:rj,...r},a={...s.platform,_c:n};return k2(e,t,{...s,platform:a})};var hj=typeof document<"u",fj=function(){},co=hj?b.useLayoutEffect:fj;function Fo(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Fo(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Fo(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Zg(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Hf(e,t){const r=Zg(e);return Math.round(t*r)/r}function ac(e){const t=b.useRef(e);return co(()=>{t.current=e}),t}function mj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=b.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=b.useState(n);Fo(f,n)||m(n);const[p,x]=b.useState(null),[w,g]=b.useState(null),y=b.useCallback(C=>{C!==k.current&&(k.current=C,x(C))},[]),v=b.useCallback(C=>{C!==S.current&&(S.current=C,g(C))},[]),j=a||p,N=o||w,k=b.useRef(null),S=b.useRef(null),P=b.useRef(d),T=c!=null,_=ac(c),O=ac(s),E=ac(u),M=b.useCallback(()=>{if(!k.current||!S.current)return;const C={placement:t,strategy:r,middleware:f};O.current&&(C.platform=O.current),dj(k.current,S.current,C).then(R=>{const F={...R,isPositioned:E.current!==!1};$.current&&!Fo(P.current,F)&&(P.current=F,ma.flushSync(()=>{h(F)}))})},[f,t,r,O,E]);co(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(C=>({...C,isPositioned:!1})))},[u]);const $=b.useRef(!1);co(()=>($.current=!0,()=>{$.current=!1}),[]),co(()=>{if(j&&(k.current=j),N&&(S.current=N),j&&N){if(_.current)return _.current(j,N,M);M()}},[j,N,M,_,T]);const K=b.useMemo(()=>({reference:k,floating:S,setReference:y,setFloating:v}),[y,v]),W=b.useMemo(()=>({reference:j,floating:N}),[j,N]),L=b.useMemo(()=>{const C={position:r,left:0,top:0};if(!W.floating)return C;const R=Hf(W.floating,d.x),F=Hf(W.floating,d.y);return l?{...C,transform:"translate("+R+"px, "+F+"px)",...Zg(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:F}},[r,l,W.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:M,refs:K,elements:W,floatingStyles:L}),[d,M,K,W,L])}const pj=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Vf({element:n.current,padding:s}).fn(r):{}:n?Vf({element:n,padding:s}).fn(r):{}}}},gj=(e,t)=>({...ij(e),options:[e,t]}),xj=(e,t)=>({...aj(e),options:[e,t]}),yj=(e,t)=>({...uj(e),options:[e,t]}),vj=(e,t)=>({...oj(e),options:[e,t]}),wj=(e,t)=>({...lj(e),options:[e,t]}),bj=(e,t)=>({...cj(e),options:[e,t]}),jj=(e,t)=>({...pj(e),options:[e,t]});var Nj="Arrow",ex=b.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(st.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});ex.displayName=Nj;var kj=ex;function Sj(e){const[t,r]=b.useState(void 0);return on(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var tx="Popper",[rx,nx]=al(tx),[X_,sx]=rx(tx),ix="PopperAnchor",ax=b.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=sx(ix,r),o=b.useRef(null),l=zt(t,o),c=b.useRef(null);return b.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:i.jsx(st.div,{...s,ref:l})});ax.displayName=ix;var Hd="PopperContent",[_j,Ej]=rx(Hd),ox=b.forwardRef((e,t)=>{var ne,Kn,jr,fn,Nr,Gn;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:p,...x}=e,w=sx(Hd,r),[g,y]=b.useState(null),v=zt(t,kr=>y(kr)),[j,N]=b.useState(null),k=Sj(j),S=(k==null?void 0:k.width)??0,P=(k==null?void 0:k.height)??0,T=n+(a!=="center"?"-"+a:""),_=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],E=O.length>0,M={padding:_,boundary:O.filter(Tj),altBoundary:E},{refs:$,floatingStyles:K,placement:W,isPositioned:L,middlewareData:C}=mj({strategy:"fixed",placement:T,whileElementsMounted:(...kr)=>sj(...kr,{animationFrame:m==="always"}),elements:{reference:w.anchor},middleware:[gj({mainAxis:s+P,alignmentAxis:o}),c&&xj({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?yj():void 0,...M}),c&&vj({...M}),wj({...M,apply:({elements:kr,rects:va,availableWidth:kl,availableHeight:wa})=>{const{width:Sl,height:ri}=va.reference,Qn=kr.floating.style;Qn.setProperty("--radix-popper-available-width",`${kl}px`),Qn.setProperty("--radix-popper-available-height",`${wa}px`),Qn.setProperty("--radix-popper-anchor-width",`${Sl}px`),Qn.setProperty("--radix-popper-anchor-height",`${ri}px`)}}),j&&jj({element:j,padding:l}),Pj({arrowWidth:S,arrowHeight:P}),f&&bj({strategy:"referenceHidden",...M})]}),[R,F]=ux(W),G=an(p);on(()=>{L&&(G==null||G())},[L,G]);const V=(ne=C.arrow)==null?void 0:ne.x,Y=(Kn=C.arrow)==null?void 0:Kn.y,B=((jr=C.arrow)==null?void 0:jr.centerOffset)!==0,[re,_e]=b.useState();return on(()=>{g&&_e(window.getComputedStyle(g).zIndex)},[g]),i.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:L?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(fn=C.transformOrigin)==null?void 0:fn.x,(Nr=C.transformOrigin)==null?void 0:Nr.y].join(" "),...((Gn=C.hide)==null?void 0:Gn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(_j,{scope:r,placedSide:R,onArrowChange:N,arrowX:V,arrowY:Y,shouldHideArrow:B,children:i.jsx(st.div,{"data-side":R,"data-align":F,...x,ref:v,style:{...x.style,animation:L?void 0:"none"}})})})});ox.displayName=Hd;var lx="PopperArrow",Cj={top:"bottom",right:"left",bottom:"top",left:"right"},cx=b.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=Ej(lx,n),o=Cj[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(kj,{...s,ref:r,style:{...s.style,display:"block"}})})});cx.displayName=lx;function Tj(e){return e!==null}var Pj=e=>({name:"transformOrigin",options:e,fn(t){var w,g,y;const{placement:r,rects:n,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=ux(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((g=s.arrow)==null?void 0:g.x)??0)+l/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let p="",x="";return u==="bottom"?(p=o?h:`${f}px`,x=`${-c}px`):u==="top"?(p=o?h:`${f}px`,x=`${n.floating.height+c}px`):u==="right"?(p=`${-c}px`,x=o?h:`${m}px`):u==="left"&&(p=`${n.floating.width+c}px`,x=o?h:`${m}px`),{data:{x:p,y:x}}}});function ux(e){const[t,r="center"]=e.split("-");return[t,r]}var Aj=ax,Rj=ox,Oj=cx,Lj=Symbol("radix.slottable");function Ij(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Lj,t}var[fl]=al("Tooltip",[nx]),qd=nx(),dx="TooltipProvider",Dj=700,qf="tooltip.open",[Mj,hx]=fl(dx),fx=e=>{const{__scopeTooltip:t,delayDuration:r=Dj,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(Mj,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};fx.displayName=dx;var mx="Tooltip",[Z_,ml]=fl(mx),vu="TooltipTrigger",$j=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=ml(vu,r),a=hx(vu,r),o=qd(r),l=b.useRef(null),c=zt(t,l,s.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),h=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(Aj,{asChild:!0,...o,children:i.jsx(st.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Pe(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Pe(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Pe(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Pe(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Pe(e.onBlur,s.onClose),onClick:Pe(e.onClick,s.onClose)})})});$j.displayName=vu;var Fj="TooltipPortal",[eE,Uj]=fl(Fj,{forceMount:void 0}),Ks="TooltipContent",px=b.forwardRef((e,t)=>{const r=Uj(Ks,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,o=ml(Ks,e.__scopeTooltip);return i.jsx(Ld,{present:n||o.open,children:o.disableHoverableContent?i.jsx(gx,{side:s,...a,ref:t}):i.jsx(Bj,{side:s,...a,ref:t})})}),Bj=b.forwardRef((e,t)=>{const r=ml(Ks,e.__scopeTooltip),n=hx(Ks,e.__scopeTooltip),s=b.useRef(null),a=zt(t,s),[o,l]=b.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:h}=n,f=b.useCallback(()=>{l(null),h(!1)},[h]),m=b.useCallback((p,x)=>{const w=p.currentTarget,g={x:p.clientX,y:p.clientY},y=qj(g,w.getBoundingClientRect()),v=Kj(g,y),j=Gj(x.getBoundingClientRect()),N=Jj([...v,...j]);l(N),h(!0)},[h]);return b.useEffect(()=>()=>f(),[f]),b.useEffect(()=>{if(c&&d){const p=w=>m(w,d),x=w=>m(w,c);return c.addEventListener("pointerleave",p),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",x)}}},[c,d,m,f]),b.useEffect(()=>{if(o){const p=x=>{const w=x.target,g={x:x.clientX,y:x.clientY},y=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),v=!Qj(g,o);y?f():v&&(f(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[c,d,o,u,f]),i.jsx(gx,{...e,ref:a})}),[zj,Wj]=fl(mx,{isInside:!1}),Vj=Ij("TooltipContent"),gx=b.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=ml(Ks,r),u=qd(r),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(qf,d),()=>document.removeEventListener(qf,d)),[d]),b.useEffect(()=>{if(c.trigger){const h=f=>{const m=f.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),i.jsx(Od,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:i.jsxs(Rj,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Vj,{children:n}),i.jsx(zj,{scope:r,isInside:!0,children:i.jsx(Pb,{id:c.contentId,role:"tooltip",children:s||n})})]})})});px.displayName=Ks;var xx="TooltipArrow",Hj=b.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=qd(r);return Wj(xx,r).isInside?null:i.jsx(Oj,{...s,...n,ref:t})});Hj.displayName=xx;function qj(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Kj(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Gj(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Qj(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,h=c.x,f=c.y;d>n!=f>n&&r<(h-u)*(n-d)/(f-d)+u&&(s=!s)}return s}function Jj(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Yj(t)}function Yj(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Xj=fx,yx=px;const Zj=Xj,eN=b.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(yx,{ref:n,sideOffset:t,className:Hn("z-50 overflow-hidden rounded-md border border-border/40 bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-lg animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));eN.displayName=yx.displayName;var pl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},tN={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},$r,Mu,Lm,rN=(Lm=class{constructor(){ee(this,$r,tN);ee(this,Mu,!1)}setTimeoutProvider(e){Q(this,$r,e)}setTimeout(e,t){return A(this,$r).setTimeout(e,t)}clearTimeout(e){A(this,$r).clearTimeout(e)}setInterval(e,t){return A(this,$r).setInterval(e,t)}clearInterval(e){A(this,$r).clearInterval(e)}},$r=new WeakMap,Mu=new WeakMap,Lm),wu=new rN;function nN(e){setTimeout(e,0)}var gl=typeof window>"u"||"Deno"in globalThis;function Rt(){}function sN(e,t){return typeof e=="function"?e(t):e}function iN(e){return typeof e=="number"&&e>=0&&e!==1/0}function aN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function bu(e,t){return typeof e=="function"?e(t):e}function oN(e,t){return typeof e=="function"?e(t):e}function Kf(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Kd(o,t.options))return!1}else if(!Yi(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function Gf(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ji(t.options.mutationKey)!==Ji(a))return!1}else if(!Yi(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Kd(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ji)(e)}function Ji(e){return JSON.stringify(e,(t,r)=>ju(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Yi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Yi(e[r],t[r])):!1}var lN=Object.prototype.hasOwnProperty;function vx(e,t){if(e===t)return e;const r=Qf(e)&&Qf(t);if(!r&&!(ju(e)&&ju(t)))return t;const s=(r?e:Object.keys(e)).length,a=r?t:Object.keys(t),o=a.length,l=r?new Array(o):{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u],h=e[d],f=t[d];if(h===f){l[d]=h,(r?u<s:lN.call(e,d))&&c++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){l[d]=f;continue}const m=vx(h,f);l[d]=m,m===h&&c++}return s===o&&c===s?e:l}function Qf(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ju(e){if(!Jf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Jf(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Jf(e){return Object.prototype.toString.call(e)==="[object Object]"}function cN(e){return new Promise(t=>{wu.setTimeout(t,e)})}function uN(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?vx(e,t):t}function dN(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function hN(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Gd=Symbol();function wx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Gd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function fN(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var Cn,Fr,As,Im,mN=(Im=class extends pl{constructor(){super();ee(this,Cn);ee(this,Fr);ee(this,As);Q(this,As,t=>{if(!gl&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){A(this,Fr)||this.setEventListener(A(this,As))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,Fr))==null||t.call(this),Q(this,Fr,void 0))}setEventListener(t){var r;Q(this,As,t),(r=A(this,Fr))==null||r.call(this),Q(this,Fr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){A(this,Cn)!==t&&(Q(this,Cn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof A(this,Cn)=="boolean"?A(this,Cn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Cn=new WeakMap,Fr=new WeakMap,As=new WeakMap,Im),bx=new mN;function pN(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var gN=nN;function xN(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=gN;const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Ge=xN(),Rs,Ur,Os,Dm,yN=(Dm=class extends pl{constructor(){super();ee(this,Rs,!0);ee(this,Ur);ee(this,Os);Q(this,Os,t=>{if(!gl&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){A(this,Ur)||this.setEventListener(A(this,Os))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,Ur))==null||t.call(this),Q(this,Ur,void 0))}setEventListener(t){var r;Q(this,Os,t),(r=A(this,Ur))==null||r.call(this),Q(this,Ur,t(this.setOnline.bind(this)))}setOnline(t){A(this,Rs)!==t&&(Q(this,Rs,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return A(this,Rs)}},Rs=new WeakMap,Ur=new WeakMap,Os=new WeakMap,Dm),Uo=new yN;function vN(e){return Math.min(1e3*2**e,3e4)}function jx(e){return(e??"online")==="online"?Uo.isOnline():!0}var Nu=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Nx(e){let t=!1,r=0,n;const s=pN(),a=()=>s.status!=="pending",o=x=>{var w;if(!a()){const g=new Nu(x);f(g),(w=e.onCancel)==null||w.call(e,g)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>bx.isFocused()&&(e.networkMode==="always"||Uo.isOnline())&&e.canRun(),d=()=>jx(e.networkMode)&&e.canRun(),h=x=>{a()||(n==null||n(),s.resolve(x))},f=x=>{a()||(n==null||n(),s.reject(x))},m=()=>new Promise(x=>{var w;n=g=>{(a()||u())&&x(g)},(w=e.onPause)==null||w.call(e)}).then(()=>{var x;n=void 0,a()||(x=e.onContinue)==null||x.call(e)}),p=()=>{if(a())return;let x;const w=r===0?e.initialPromise:void 0;try{x=w??e.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(h).catch(g=>{var k;if(a())return;const y=e.retry??(gl?0:3),v=e.retryDelay??vN,j=typeof v=="function"?v(r,g):v,N=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,g);if(t||!N){f(g);return}r++,(k=e.onFail)==null||k.call(e,r,g),cN(j).then(()=>u()?void 0:m()).then(()=>{t?f(g):p()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?p():m().then(p),s)}}var Tn,Mm,kx=(Mm=class{constructor(){ee(this,Tn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),iN(this.gcTime)&&Q(this,Tn,wu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(gl?1/0:5*60*1e3))}clearGcTimeout(){A(this,Tn)&&(wu.clearTimeout(A(this,Tn)),Q(this,Tn,void 0))}},Tn=new WeakMap,Mm),Pn,Ls,yt,An,Oe,aa,Rn,Lt,ir,$m,wN=($m=class extends kx{constructor(t){super();ee(this,Lt);ee(this,Pn);ee(this,Ls);ee(this,yt);ee(this,An);ee(this,Oe);ee(this,aa);ee(this,Rn);Q(this,Rn,!1),Q(this,aa,t.defaultOptions),this.setOptions(t.options),this.observers=[],Q(this,An,t.client),Q(this,yt,A(this,An).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Q(this,Pn,Xf(this.options)),this.state=t.state??A(this,Pn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=A(this,Oe))==null?void 0:t.promise}setOptions(t){if(this.options={...A(this,aa),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Xf(this.options);r.data!==void 0&&(this.setState(Yf(r.data,r.dataUpdatedAt)),Q(this,Pn,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,yt).remove(this)}setData(t,r){const n=uN(this.state.data,t,this.options);return Be(this,Lt,ir).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Be(this,Lt,ir).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=A(this,Oe))==null?void 0:n.promise;return(s=A(this,Oe))==null||s.cancel(t),r?r.then(Rt).catch(Rt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,Pn))}isActive(){return this.observers.some(t=>oN(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>bu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!aN(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=A(this,Oe))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=A(this,Oe))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),A(this,yt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(A(this,Oe)&&(A(this,Rn)?A(this,Oe).cancel({revert:!0}):A(this,Oe).cancelRetry()),this.scheduleGc()),A(this,yt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,Lt,ir).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,h,f,m,p,x,w,g,y,v;if(this.state.fetchStatus!=="idle"&&((c=A(this,Oe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(A(this,Oe))return A(this,Oe).continueRetry(),A(this,Oe).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(N=>N.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,s=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Q(this,Rn,!0),n.signal)})},a=()=>{const j=wx(this.options,r),k=(()=>{const S={client:A(this,An),queryKey:this.queryKey,meta:this.meta};return s(S),S})();return Q(this,Rn,!1),this.options.persister?this.options.persister(j,k,this):j(k)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:A(this,An),state:this.state,fetchFn:a};return s(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),Q(this,Ls,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Be(this,Lt,ir).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),Q(this,Oe,Nx({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Nu&&j.revert&&this.setState({...A(this,Ls),fetchStatus:"idle"}),n.abort()},onFail:(j,N)=>{Be(this,Lt,ir).call(this,{type:"failed",failureCount:j,error:N})},onPause:()=>{Be(this,Lt,ir).call(this,{type:"pause"})},onContinue:()=>{Be(this,Lt,ir).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await A(this,Oe).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(m=(f=A(this,yt).config).onSuccess)==null||m.call(f,j,this),(x=(p=A(this,yt).config).onSettled)==null||x.call(p,j,this.state.error,this),j}catch(j){if(j instanceof Nu){if(j.silent)return A(this,Oe).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw Be(this,Lt,ir).call(this,{type:"error",error:j}),(g=(w=A(this,yt).config).onError)==null||g.call(w,j,this),(v=(y=A(this,yt).config).onSettled)==null||v.call(y,this.state.data,j,this),j}finally{this.scheduleGc()}}},Pn=new WeakMap,Ls=new WeakMap,yt=new WeakMap,An=new WeakMap,Oe=new WeakMap,aa=new WeakMap,Rn=new WeakMap,Lt=new WeakSet,ir=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...bN(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...Yf(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Q(this,Ls,t.manual?s:void 0),s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Ge.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),A(this,yt).notify({query:this,type:"updated",action:t})})},$m);function bN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Yf(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Xf(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function Zf(e){return{onFetch:(t,r)=>{var d,h,f,m,p;const n=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const w=v=>{fN(v,()=>t.signal,()=>x=!0)},g=wx(t.options,t.fetchOptions),y=async(v,j,N)=>{if(x)return Promise.reject();if(j==null&&v.pages.length)return Promise.resolve(v);const S=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:j,direction:N?"backward":"forward",meta:t.options.meta};return w(O),O})(),P=await g(S),{maxPages:T}=t.options,_=N?hN:dN;return{pages:_(v.pages,P,T),pageParams:_(v.pageParams,j,T)}};if(s&&a.length){const v=s==="backward",j=v?jN:em,N={pages:a,pageParams:o},k=j(n,N);l=await y(N,k,v)}else{const v=e??a.length;do{const j=c===0?o[0]??n.initialPageParam:em(n,l);if(c>0&&j==null)break;l=await y(l,j),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var x,w;return(w=(x=t.options).persister)==null?void 0:w.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function em(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function jN(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var oa,Kt,qe,On,Gt,Ar,Fm,NN=(Fm=class extends kx{constructor(t){super();ee(this,Gt);ee(this,oa);ee(this,Kt);ee(this,qe);ee(this,On);Q(this,oa,t.client),this.mutationId=t.mutationId,Q(this,qe,t.mutationCache),Q(this,Kt,[]),this.state=t.state||kN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){A(this,Kt).includes(t)||(A(this,Kt).push(t),this.clearGcTimeout(),A(this,qe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Q(this,Kt,A(this,Kt).filter(r=>r!==t)),this.scheduleGc(),A(this,qe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){A(this,Kt).length||(this.state.status==="pending"?this.scheduleGc():A(this,qe).remove(this))}continue(){var t;return((t=A(this,On))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,h,f,m,p,x,w,g,y,v,j,N,k,S,P,T;const r=()=>{Be(this,Gt,Ar).call(this,{type:"continue"})},n={client:A(this,oa),meta:this.options.meta,mutationKey:this.options.mutationKey};Q(this,On,Nx({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(_,O)=>{Be(this,Gt,Ar).call(this,{type:"failed",failureCount:_,error:O})},onPause:()=>{Be(this,Gt,Ar).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,qe).canRun(this)}));const s=this.state.status==="pending",a=!A(this,On).canStart();try{if(s)r();else{Be(this,Gt,Ar).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(o=A(this,qe).config).onMutate)==null?void 0:l.call(o,t,this,n));const O=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));O!==this.state.context&&Be(this,Gt,Ar).call(this,{type:"pending",context:O,variables:t,isPaused:a})}const _=await A(this,On).start();return await((h=(d=A(this,qe).config).onSuccess)==null?void 0:h.call(d,_,t,this.state.context,this,n)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,_,t,this.state.context,n)),await((x=(p=A(this,qe).config).onSettled)==null?void 0:x.call(p,_,null,this.state.variables,this.state.context,this,n)),await((g=(w=this.options).onSettled)==null?void 0:g.call(w,_,null,t,this.state.context,n)),Be(this,Gt,Ar).call(this,{type:"success",data:_}),_}catch(_){try{await((v=(y=A(this,qe).config).onError)==null?void 0:v.call(y,_,t,this.state.context,this,n))}catch(O){Promise.reject(O)}try{await((N=(j=this.options).onError)==null?void 0:N.call(j,_,t,this.state.context,n))}catch(O){Promise.reject(O)}try{await((S=(k=A(this,qe).config).onSettled)==null?void 0:S.call(k,void 0,_,this.state.variables,this.state.context,this,n))}catch(O){Promise.reject(O)}try{await((T=(P=this.options).onSettled)==null?void 0:T.call(P,void 0,_,t,this.state.context,n))}catch(O){Promise.reject(O)}throw Be(this,Gt,Ar).call(this,{type:"error",error:_}),_}finally{A(this,qe).runNext(this)}}},oa=new WeakMap,Kt=new WeakMap,qe=new WeakMap,On=new WeakMap,Gt=new WeakSet,Ar=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ge.batch(()=>{A(this,Kt).forEach(n=>{n.onMutationUpdate(t)}),A(this,qe).notify({mutation:this,type:"updated",action:t})})},Fm);function kN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cr,It,la,Um,SN=(Um=class extends pl{constructor(t={}){super();ee(this,cr);ee(this,It);ee(this,la);this.config=t,Q(this,cr,new Set),Q(this,It,new Map),Q(this,la,0)}build(t,r,n){const s=new NN({client:t,mutationCache:this,mutationId:++ja(this,la)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){A(this,cr).add(t);const r=Va(t);if(typeof r=="string"){const n=A(this,It).get(r);n?n.push(t):A(this,It).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(A(this,cr).delete(t)){const r=Va(t);if(typeof r=="string"){const n=A(this,It).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&A(this,It).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Va(t);if(typeof r=="string"){const n=A(this,It).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Va(t);if(typeof r=="string"){const s=(n=A(this,It).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ge.batch(()=>{A(this,cr).forEach(t=>{this.notify({type:"removed",mutation:t})}),A(this,cr).clear(),A(this,It).clear()})}getAll(){return Array.from(A(this,cr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Gf(r,n))}findAll(t={}){return this.getAll().filter(r=>Gf(t,r))}notify(t){Ge.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Ge.batch(()=>Promise.all(t.map(r=>r.continue().catch(Rt))))}},cr=new WeakMap,It=new WeakMap,la=new WeakMap,Um);function Va(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Qt,Bm,_N=(Bm=class extends pl{constructor(t={}){super();ee(this,Qt);this.config=t,Q(this,Qt,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??Kd(s,r);let o=this.get(a);return o||(o=new wN({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){A(this,Qt).has(t.queryHash)||(A(this,Qt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=A(this,Qt).get(t.queryHash);r&&(t.destroy(),r===t&&A(this,Qt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ge.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return A(this,Qt).get(t)}getAll(){return[...A(this,Qt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Kf(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Kf(t,n)):r}notify(t){Ge.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Ge.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ge.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Qt=new WeakMap,Bm),we,Br,zr,Is,Ds,Wr,Ms,$s,zm,EN=(zm=class{constructor(e={}){ee(this,we);ee(this,Br);ee(this,zr);ee(this,Is);ee(this,Ds);ee(this,Wr);ee(this,Ms);ee(this,$s);Q(this,we,e.queryCache||new _N),Q(this,Br,e.mutationCache||new SN),Q(this,zr,e.defaultOptions||{}),Q(this,Is,new Map),Q(this,Ds,new Map),Q(this,Wr,0)}mount(){ja(this,Wr)._++,A(this,Wr)===1&&(Q(this,Ms,bx.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,we).onFocus())})),Q(this,$s,Uo.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,we).onOnline())})))}unmount(){var e,t;ja(this,Wr)._--,A(this,Wr)===0&&((e=A(this,Ms))==null||e.call(this),Q(this,Ms,void 0),(t=A(this,$s))==null||t.call(this),Q(this,$s,void 0))}isFetching(e){return A(this,we).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return A(this,Br).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=A(this,we).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=A(this,we).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(bu(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return A(this,we).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=A(this,we).get(n.queryHash),a=s==null?void 0:s.state.data,o=sN(t,a);if(o!==void 0)return A(this,we).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Ge.batch(()=>A(this,we).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=A(this,we).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=A(this,we);Ge.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=A(this,we);return Ge.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Ge.batch(()=>A(this,we).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Rt).catch(Rt)}invalidateQueries(e,t={}){return Ge.batch(()=>(A(this,we).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Ge.batch(()=>A(this,we).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(Rt)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Rt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=A(this,we).build(this,t);return r.isStaleByTime(bu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Rt).catch(Rt)}fetchInfiniteQuery(e){return e.behavior=Zf(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Rt).catch(Rt)}ensureInfiniteQueryData(e){return e.behavior=Zf(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Uo.isOnline()?A(this,Br).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,we)}getMutationCache(){return A(this,Br)}getDefaultOptions(){return A(this,zr)}setDefaultOptions(e){Q(this,zr,e)}setQueryDefaults(e,t){A(this,Is).set(Ji(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...A(this,Is).values()],r={};return t.forEach(n=>{Yi(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){A(this,Ds).set(Ji(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...A(this,Ds).values()],r={};return t.forEach(n=>{Yi(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...A(this,zr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Kd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Gd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...A(this,zr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){A(this,we).clear(),A(this,Br).clear()}},we=new WeakMap,Br=new WeakMap,zr=new WeakMap,Is=new WeakMap,Ds=new WeakMap,Wr=new WeakMap,Ms=new WeakMap,$s=new WeakMap,zm),CN=b.createContext(void 0),TN=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(CN.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xi.apply(this,arguments)}var qr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qr||(qr={}));const tm="popstate";function PN(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return ku("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Sx(s)}return RN(t,r,null,e)}function Re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Qd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AN(){return Math.random().toString(36).substr(2,8)}function rm(e,t){return{usr:e.state,key:e.key,idx:t}}function ku(e,t,r,n){return r===void 0&&(r=null),Xi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ei(t):t,{state:r,key:t&&t.key||n||AN()})}function Sx(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ei(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function RN(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=qr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Xi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=qr.Pop;let w=d(),g=w==null?null:w-u;u=w,c&&c({action:l,location:x.location,delta:g})}function f(w,g){l=qr.Push;let y=ku(x.location,w,g);u=d()+1;let v=rm(y,u),j=x.createHref(y);try{o.pushState(v,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}a&&c&&c({action:l,location:x.location,delta:1})}function m(w,g){l=qr.Replace;let y=ku(x.location,w,g);u=d();let v=rm(y,u),j=x.createHref(y);o.replaceState(v,"",j),a&&c&&c({action:l,location:x.location,delta:0})}function p(w){let g=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof w=="string"?w:Sx(w);return y=y.replace(/ $/,"%20"),Re(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let x={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(tm,h),c=w,()=>{s.removeEventListener(tm,h),c=null}},createHref(w){return t(s,w)},createURL:p,encodeLocation(w){let g=p(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(w){return o.go(w)}};return x}var nm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nm||(nm={}));function ON(e,t,r){return r===void 0&&(r="/"),LN(e,t,r)}function LN(e,t,r,n){let s=typeof t=="string"?ei(t):t,a=Cx(s.pathname||"/",r);if(a==null)return null;let o=_x(e);IN(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=KN(a);l=VN(o[c],u)}return l}function _x(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Re(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Dn([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Re(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_x(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:zN(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Ex(a.path))s(a,o,c)}),t}function Ex(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=Ex(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function IN(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:WN(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const DN=/^:[\w-]+$/,MN=3,$N=2,FN=1,UN=10,BN=-2,sm=e=>e==="*";function zN(e,t){let r=e.split("/"),n=r.length;return r.some(sm)&&(n+=BN),t&&(n+=$N),r.filter(s=>!sm(s)).reduce((s,a)=>s+(DN.test(a)?MN:a===""?FN:UN),n)}function WN(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function VN(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=HN({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Dn([a,h.pathname]),pathnameBase:ek(Dn([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=Dn([a,h.pathnameBase]))}return o}function HN(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=qN(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let x=l[h]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const p=l[h];return m&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function qN(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Qd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function KN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const GN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QN=e=>GN.test(e);function JN(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ei(e):e,a;if(r)if(QN(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Qd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=im(r.substring(1),"/"):a=im(r,t)}else a=t;return{pathname:a,search:tk(n),hash:rk(s)}}function im(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function oc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function YN(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function XN(e,t){let r=YN(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ZN(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ei(e):(s=Xi({},e),Re(!s.pathname||!s.pathname.includes("?"),oc("?","pathname","search",s)),Re(!s.pathname||!s.pathname.includes("#"),oc("#","pathname","hash",s)),Re(!s.search||!s.search.includes("#"),oc("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=JN(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Dn=e=>e.join("/").replace(/\/\/+/g,"/"),ek=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nk(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Tx=["post","put","patch","delete"];new Set(Tx);const sk=["get",...Tx];new Set(sk);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zi.apply(this,arguments)}const Jd=b.createContext(null),ik=b.createContext(null),xl=b.createContext(null),yl=b.createContext(null),ti=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Px=b.createContext(null);function vl(){return b.useContext(yl)!=null}function Yd(){return vl()||Re(!1),b.useContext(yl).location}function Ax(e){b.useContext(xl).static||b.useLayoutEffect(e)}function Rx(){let{isDataRoute:e}=b.useContext(ti);return e?yk():ak()}function ak(){vl()||Re(!1);let e=b.useContext(Jd),{basename:t,future:r,navigator:n}=b.useContext(xl),{matches:s}=b.useContext(ti),{pathname:a}=Yd(),o=JSON.stringify(XN(s,r.v7_relativeSplatPath)),l=b.useRef(!1);return Ax(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=ZN(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Dn([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}function ok(e,t){return lk(e,t)}function lk(e,t,r,n){vl()||Re(!1);let{navigator:s}=b.useContext(xl),{matches:a}=b.useContext(ti),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Yd(),d;if(t){var h;let w=typeof t=="string"?ei(t):t;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||Re(!1),d=w}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let p=ON(e,{pathname:m}),x=fk(p&&p.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Dn([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Dn([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&x?b.createElement(yl.Provider,{value:{location:Zi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:qr.Pop}},x):x}function ck(){let e=xk(),t=nk(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const uk=b.createElement(ck,null);class dk extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(ti.Provider,{value:this.props.routeContext},b.createElement(Px.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hk(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(Jd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(ti.Provider,{value:t},n)}function fk(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Re(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=r,p=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||p){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,p=!1,x=null,w=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||uk,c&&(u<0&&f===0?(vk("route-fallback"),p=!0,w=null):u===f&&(p=!0,w=h.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),y=()=>{let v;return m?v=x:p?v=w:h.route.Component?v=b.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,b.createElement(hk,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(dk,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var Ox=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ox||{}),Lx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Lx||{});function mk(e){let t=b.useContext(Jd);return t||Re(!1),t}function pk(e){let t=b.useContext(ik);return t||Re(!1),t}function gk(e){let t=b.useContext(ti);return t||Re(!1),t}function Ix(e){let t=gk(),r=t.matches[t.matches.length-1];return r.route.id||Re(!1),r.route.id}function xk(){var e;let t=b.useContext(Px),r=pk(),n=Ix();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function yk(){let{router:e}=mk(Ox.UseNavigateStable),t=Ix(Lx.UseNavigateStable),r=b.useRef(!1);return Ax(()=>{r.current=!0}),b.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Zi({fromRouteId:t},a)))},[e,t])}const am={};function vk(e,t,r){am[e]||(am[e]=!0)}function wk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function uo(e){Re(!1)}function bk(e){let{basename:t="/",children:r=null,location:n,navigationType:s=qr.Pop,navigator:a,static:o=!1,future:l}=e;vl()&&Re(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:a,static:o,future:Zi({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=ei(n));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:p="default"}=n,x=b.useMemo(()=>{let w=Cx(d,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:m,key:p},navigationType:s}},[c,d,h,f,m,p,s]);return x==null?null:b.createElement(xl.Provider,{value:u},b.createElement(yl.Provider,{children:r,value:x}))}function jk(e){let{children:t,location:r}=e;return ok(Su(t),r)}new Promise(()=>{});function Su(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let a=[...t,s];if(n.type===b.Fragment){r.push.apply(r,Su(n.props.children,a));return}n.type!==uo&&Re(!1),!n.props.index||!n.props.children||Re(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Su(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Nk="6";try{window.__reactRouterVersion=Nk}catch{}const kk="startTransition",om=ep[kk];function Sk(e){let{basename:t,children:r,future:n,window:s}=e,a=b.useRef();a.current==null&&(a.current=PN({window:s,v5Compat:!0}));let o=a.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(h=>{u&&om?om(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>wk(n),[n]),b.createElement(bk,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var lm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lm||(lm={}));var cm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cm||(cm={}));function wl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function _k(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}const Ek=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Xd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Ck extends Xd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class um extends Xd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dm extends Xd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _u;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_u||(_u={}));class Tk{constructor(t,{headers:r={},customFetch:n,region:s=_u.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Ek(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return _k(this,arguments,void 0,function*(r,n={}){var s;let a,o;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let f={},{region:m}=n;m||(m=this.region);const p=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let x;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(f["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(f["Content-Type"]="application/json",x=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?x=JSON.stringify(u):x=u;let w=d;h&&(o=new AbortController,a=setTimeout(()=>o.abort(),h),d?(w=o.signal,d.addEventListener("abort",()=>o.abort())):w=o.signal);const g=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:x,signal:w}).catch(N=>{throw new Ck(N)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new um(g);if(!g.ok)throw new dm(g);let v=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return v==="application/json"?j=yield g.json():v==="application/octet-stream"||v==="application/pdf"?j=yield g.blob():v==="text/event-stream"?j=g:v==="multipart/form-data"?j=yield g.formData():j=yield g.text(),{data:j,error:null,response:g}}catch(l){return{data:null,error:l,response:l instanceof dm||l instanceof um?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var Pk=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Ak=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,c=null,u=a.status,d=a.statusText;if(a.ok){var h,f;if(r.method!=="HEAD"){var m;const g=await a.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=g:l=JSON.parse(g))}const x=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),w=(f=a.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&w&&w.length>1&&(c=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var p;const x=await a.text();try{o=JSON.parse(x),Array.isArray(o)&&a.status===404&&(l=[],o=null,u=200,d="OK")}catch{a.status===404&&x===""?(u=204,d="No Content"):o={message:x}}if(o&&r.isMaybeSingle&&(!(o==null||(p=o.details)===null||p===void 0)&&p.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new Pk(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(a=>{var o;let l="";const c=a==null?void 0:a.cause;if(c){var u,d,h,f;const p=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",x=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=a==null?void 0:a.name)!==null&&h!==void 0?h:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${p}`,x&&(l+=` (${x})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=a==null?void 0:a.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Rk=class extends Ak{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const hm=new RegExp("[,()]");var as=class extends Rk{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&hm.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&hm.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Ok=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new as({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new as({method:s,url:a,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var a;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);l.searchParams.set("columns",d.join(","))}}return new as({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new as({method:n,url:s,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new as({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Lk=class Dx{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ok(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Dx(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),h=n&&Object.values(r).some(d);h?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,p])=>p!==void 0).map(([m,p])=>[m,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([m,p])=>{c.searchParams.append(m,p)})):(l="POST",u=r);const f=new Headers(this.headers);return h?f.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&f.set("Prefer",`count=${a}`),new as({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Ik{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Dk="2.90.1",Mk=`realtime-js/${Dk}`,Mx="1.0.0",$k="2.0.0",fm=Mx,Eu=1e4,Fk=1e3,Uk=100;var Lr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Lr||(Lr={}));var Ee;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ee||(Ee={}));var Mt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Mt||(Mt={}));var Cu;(function(e){e.websocket="websocket"})(Cu||(Cu={}));var bn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bn||(bn={}));class Bk{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,a;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(m),x=0;p.setUint8(x++,this.KINDS.userBroadcastPush),p.setUint8(x++,c.length),p.setUint8(x++,l.length),p.setUint8(x++,o.length),p.setUint8(x++,u.length),p.setUint8(x++,h.length),p.setUint8(x++,r),Array.from(c,g=>p.setUint8(x++,g.charCodeAt(0))),Array.from(l,g=>p.setUint8(x++,g.charCodeAt(0))),Array.from(o,g=>p.setUint8(x++,g.charCodeAt(0))),Array.from(u,g=>p.setUint8(x++,g.charCodeAt(0))),Array.from(h,g=>p.setUint8(x++,g.charCodeAt(0)));var w=new Uint8Array(m.byteLength+n.byteLength);return w.set(new Uint8Array(m),0),w.set(new Uint8Array(n),m.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,a,o,l,c]=n;return r({join_ref:s,ref:a,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+a));c=c+a;const h=n.decode(t.slice(c,c+o));c=c+o;const f=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,p={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(p.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class $x{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ce||(ce={}));const mm=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=zk(o,e,t,s),a),{}):{}},zk=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?Fx(a,o):Tu(o)},Fx=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return qk(t,r)}switch(e){case ce.bool:return Wk(t);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return Vk(t);case ce.json:case ce.jsonb:return Hk(t);case ce.timestamp:return Kk(t);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return Tu(t);default:return Tu(t)}},Tu=e=>e,Wk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Vk=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Hk=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},qk=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Fx(t,l))}return e},Kk=e=>typeof e=="string"?e.replace(" ","T"):e,Ux=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class lc{constructor(t,r,n={},s=Eu){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pm||(pm={}));class Ti{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ti.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=Ti.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ti.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const f=d.map(w=>w.presence_ref),m=h.map(w=>w.presence_ref),p=d.filter(w=>m.indexOf(w.presence_ref)<0),x=h.filter(w=>f.indexOf(w.presence_ref)<0);p.length>0&&(l[u]=p),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gm||(gm={}));var Pi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pi||(Pi={}));var or;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(or||(or={}));class bs{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new lc(this,Mt.join,this.params,this.timeout),this.rejoinTimer=new $x(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Mt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Ti(this),this.broadcastEndpointURL=Ux(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ee.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Pi.PRESENCE]&&this.bindings[Pi.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(or.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(or.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(or.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(p=x==null?void 0:x.length)!==null&&p!==void 0?p:0,g=[];for(let y=0;y<w;y++){const v=x[y],{filter:{event:j,schema:N,table:k,filter:S}}=v,P=m&&m[y];if(P&&P.event===j&&bs.isFilterValueEqual(P.schema,N)&&bs.isFilterValueEqual(P.table,k)&&bs.isFilterValueEqual(P.filter,S))g.push(Object.assign(Object.assign({},v),{id:P.id}));else{this.unsubscribe(),this.state=Ee.errored,t==null||t(or.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(or.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ee.errored,t==null||t(or.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(or.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ee.joined&&t===Pi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ee.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Mt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new lc(this,Mt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ee.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new lc(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Uk){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Mt;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var p,x,w;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var p,x,w,g,y,v,j,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const k=m.id,S=(p=m.filter)===null||p===void 0?void 0:p.event;return k&&((x=r.ids)===null||x===void 0?void 0:x.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))&&(!(!((g=m.filter)===null||g===void 0)&&g.table)||m.filter.table===((y=r.data)===null||y===void 0?void 0:y.table))}else{const k=(j=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return k==="*"||k===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const p=f.data,{schema:x,table:w,commit_timestamp:g,type:y,errors:v}=p;f=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:g,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(p))}m.callback(f,n)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&bs.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Mt.close,{},t)}_onError(t){this._on(Mt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=mm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=mm(t.columns,t.old_record)),r}}const cc=()=>{},Ha={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Gk=[1e3,2e3,5e3,1e4],Qk=1e4,Jk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yk{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Eu,this.transport=null,this.heartbeatIntervalMs=Ha.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cc,this.ref=0,this.reconnectTimer=null,this.vsn=fm,this.logger=cc,this.conn=null,this.sendBuffer=[],this.serializer=new Bk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Cu.websocket}`,this.httpEndpoint=Ux(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ik.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Lr.connecting:return bn.Connecting;case Lr.open:return bn.Open;case Lr.closing:return bn.Closing;default:return bn.Closed}}isConnected(){return this.connectionState()===bn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new bs(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Fk,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ha.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Lr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Lr.open||this.conn.readyState===Lr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Mt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Jk],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:Mk};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Mt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new $x(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ha.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,l,c,u,d,h,f,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Eu,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ha.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:cc,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:fm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:p=>Gk[p-1]||Qk,this.vsn){case Mx:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(p,x)=>x(JSON.stringify(p)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(p,x)=>x(JSON.parse(p));break;case $k:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ea=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Xk(e,t,r){const n=new URL(t,e);if(r)for(const[s,a]of Object.entries(r))a!==void 0&&n.searchParams.set(s,a);return n.toString()}async function Zk(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function eS(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:a,headers:o}){const l=Xk(e.baseUrl,n,s),c=await Zk(e.auth),u=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const m=h?f:void 0,p=m==null?void 0:m.error;throw new ea((p==null?void 0:p.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:p==null?void 0:p.type,icebergCode:p==null?void 0:p.code,details:m})}return{status:u.status,headers:u.headers,data:f}}}}function qa(e){return e.join("")}var tS=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:qa(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qa(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qa(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qa(e.namespace)}`}),!0}catch(t){if(t instanceof ea&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ea&&r.status===409)return;throw r}}};function es(e){return e.join("")}var rS=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${es(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${es(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${es(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${es(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ea&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ea&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},nS=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=eS({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new tS(this.client,t),this.tableOps=new rS(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},bl=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var sS=class extends bl{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Pu=class extends bl{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Zd=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iS=()=>Response,Au=e=>{if(Array.isArray(e))return e.map(r=>Au(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Au(n)}),t},aS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},oS=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ta(e){"@babel/helpers - typeof";return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(e)}function lS(e,t){if(ta(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ta(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cS(e){var t=lS(e,"string");return ta(t)=="symbol"?t:t+""}function uS(e,t,r){return(t=cS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xm(Object(r),!0).forEach(function(n){uS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const uc=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},dS=async(e,t,r)=>{e instanceof await iS()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,a=(n==null?void 0:n.statusCode)||s+"";t(new sS(uc(n),s,a))}).catch(n=>{t(new Pu(uc(n),n))}):t(new Pu(uc(e),e))},hS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(aS(n)?(s.headers=q({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),q(q({},s),r))};async function xa(e,t,r,n,s,a){return new Promise((o,l)=>{e(r,hS(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>dS(c,l,n))})}async function ra(e,t,r,n){return xa(e,"GET",t,r,n)}async function Ot(e,t,r,n,s){return xa(e,"POST",t,n,s,r)}async function Ru(e,t,r,n,s){return xa(e,"PUT",t,n,s,r)}async function fS(e,t,r,n){return xa(e,"HEAD",t,q(q({},r),{},{noResolveJson:!0}),n)}async function eh(e,t,r,n,s){return xa(e,"DELETE",t,n,s,r)}var mS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ge(t))return{data:null,error:t};throw t}}};let Bx;Bx=Symbol.toStringTag;var pS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Bx]="BlobDownloadBuilder",this.promise=null}asStream(){return new mS(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ge(t))return{data:null,error:t};throw t}}};const gS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ym={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var xS=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Zd(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let a;const o=q(q({},ym),n);let l=q(q({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",s.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=q(q({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?Ru:Ot)(s.fetch,`${s.url}/object/${d}`,a,q({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(ge(a))return{data:null,error:a};throw a}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const a=s._removeEmptyFolders(e),o=s._getFinalPath(a),l=new URL(s.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=q({upsert:ym.upsert},n),d=q(q({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:a,fullPath:(await Ru(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(ge(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=q({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await Ot(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+a.url),l=o.searchParams.get("token");if(!l)throw new bl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Ot(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await Ot(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),a=await Ot(n.fetch,`${n.url}/object/sign/${s}`,q({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await Ot(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>q(q({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",a=this._getFinalPath(e),o=()=>ra(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new pS(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Au(await ra(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await fS(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ge(n)&&n instanceof Pu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await eh(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=q(q(q({},gS),t),{},{prefix:e||""});return{data:await Ot(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ge(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=q({},e);return{data:await Ot(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const zx="2.90.1",Wx={"X-Client-Info":`storage-js/${zx}`};var yS=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=q(q({},Wx),t),this.fetch=Zd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await ra(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ra(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Ot(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Ru(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ge(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await eh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},vS=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=q(q({},Wx),t),this.fetch=Zd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ot(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await ra(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await eh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ge(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!oS(e))throw new bl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new nS({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,a){const o=s[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const th={"X-Client-Info":`storage-js/${zx}`,"Content-Type":"application/json"};var Vx=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ct(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var dc=class extends Vx{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wS=class extends Vx{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const rh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jS=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";t(new dc(vm(a),n,o))}).catch(()=>{const a=n+"";t(new dc(s.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";t(new dc(s.statusText||`HTTP ${n} error`,n,a))}}else t(new wS(vm(e),e))},NS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(bS(n)?(s.headers=q({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,q(q({},s),r)):s};async function kS(e,t,r,n,s,a){return new Promise((o,l)=>{e(r,NS(t,n,s,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>jS(c,l,n))})}async function ut(e,t,r,n,s){return kS(e,"POST",t,n,s,r)}var SS=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=q(q({},th),t),this.fetch=rh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ut(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await ut(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await ut(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await ut(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}}},_S=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=q(q({},th),t),this.fetch=rh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ut(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await ut(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ut(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await ut(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ut(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}}},ES=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=q(q({},th),t),this.fetch=rh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ut(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ut(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await ut(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ut(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}}},CS=class extends ES{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new TS(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},TS=class extends SS{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,q(q({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,q(q({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new PS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},PS=class extends _S{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,q(q({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,q(q({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,q(q({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,q(q({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,q(q({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},AS=class extends yS{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new xS(this.url,this.headers,e,this.fetch)}get vectors(){return new CS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vS(this.url+"/iceberg",this.headers,this.fetch)}};const Hx="2.90.1",os=30*1e3,Ou=3,hc=Ou*os,RS="http://localhost:9999",OS="supabase.auth.token",LS={"X-Client-Info":`gotrue-js/${Hx}`},Lu="X-Supabase-Api-Version",qx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DS=10*60*1e3;class na extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function z(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class MS extends na{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $S(e){return z(e)&&e.name==="AuthApiError"}class jn extends na{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class br extends na{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class at extends br{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FS(e){return z(e)&&e.name==="AuthSessionMissingError"}class ts extends br{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ka extends br{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ga extends br{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function US(e){return z(e)&&e.name==="AuthImplicitGrantRedirectError"}class wm extends br{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class BS extends br{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Iu extends br{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function fc(e){return z(e)&&e.name==="AuthRetryableFetchError"}class bm extends br{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Du extends br{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jm=` 	
\r=`.split(""),zS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jm.length;t+=1)e[jm[t].charCodeAt(0)]=-2;for(let t=0;t<Bo.length;t+=1)e[Bo[t].charCodeAt(0)]=t;return e})();function Nm(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Bo[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Bo[n]),t.queuedBits-=6}}function Kx(e,t,r){const n=zS[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function km(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{HS(o,n,r)};for(let o=0;o<e.length;o+=1)Kx(e.charCodeAt(o),s,a);return t.join("")}function WS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function VS(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}WS(n,t)}}function HS(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ps(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Kx(e.charCodeAt(s),r,n);return new Uint8Array(t)}function qS(e){const t=[];return VS(e,r=>t.push(r)),new Uint8Array(t)}function _n(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Nm(s,r,n)),Nm(null,r,n),t.join("")}function KS(e){return Math.round(Date.now()/1e3)+e}function GS(){return Symbol("auth-callback")}const Me=()=>typeof window<"u"&&typeof document<"u",gn={tested:!1,writable:!1},Gx=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gn.tested)return gn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gn.tested=!0,gn.writable=!0}catch{gn.tested=!0,gn.writable=!1}return gn.writable};function QS(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Qx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),JS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ls=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},De=async(e,t)=>{await e.removeItem(t)};class jl{constructor(){this.promise=new jl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}jl.promiseConstructor=Promise;function mc(e){const t=e.split(".");if(t.length!==3)throw new Du("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!IS.test(t[n]))throw new Du("JWT not in base64url format");return{header:JSON.parse(km(t[0])),payload:JSON.parse(km(t[1])),signature:Ps(t[2]),raw:{header:t[0],payload:t[1]}}}async function YS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function XS(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function ZS(e){return("0"+e.toString(16)).substr(-2)}function e4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,ZS).join("")}async function t4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function r4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await t4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rs(e,t,r=!1){const n=e4();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ls(e,`${t}-code-verifier`,s);const a=await r4(n);return[a,n===a?"plain":"s256"]}const n4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function s4(e){const t=e.headers.get(Lu);if(!t||!t.match(n4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function i4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function a4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const o4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ns(e){if(!o4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pc(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function l4(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Sm(e){return JSON.parse(JSON.stringify(e))}const wn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),c4=[502,503,504];async function _m(e){var t;if(!JS(e))throw new Iu(wn(e),0);if(c4.includes(e.status))throw new Iu(wn(e),e.status);let r;try{r=await e.json()}catch(a){throw new jn(wn(a),a)}let n;const s=s4(e);if(s&&s.getTime()>=qx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bm(wn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new at}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new bm(wn(r),e.status,r.weak_password.reasons);throw new MS(wn(r),e.status||500,n)}const u4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function H(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Lu]||(a[Lu]=qx["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await d4(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function d4(e,t,r,n,s,a){const o=u4(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Iu(wn(c),0)}if(l.ok||await _m(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await _m(c)}}function Pt(e){var t;let r=null;m4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=KS(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Em(e){const t=Pt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function h4(e){return{data:e,error:null}}function f4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=wl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Cm(e){return e}function m4(e){return e.access_token&&e.refresh_token&&e.expires_in}const gc=["global","local","others"];class p4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Qx(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=gc[0]){if(gc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gc.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mr})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=wl(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:f4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(z(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mr})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Cm});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(z(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ns(t);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mr})}catch(r){if(z(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ns(t);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Mr})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ns(t);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mr})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ns(t.userId);try{const{data:r,error:n}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ns(t.userId),ns(t.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Cm});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(z(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await H(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await H(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await H(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(z(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await H(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(z(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await H(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(z(r))return{data:null,error:r};throw r}}}function Tm(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ss={debug:!!(globalThis&&Gx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class g4 extends Jx{}async function x4(e,t,r){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new g4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ss.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function y4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Yx(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function v4(e){return parseInt(e,16)}function w4(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function b4(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Yx(e.address),p=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",w=`${p} wants you to sign in with your Ethereum account:
${m}

${x}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),l&&(g+=`
Not Before: ${l.toISOString()}`),c&&(g+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);y+=`
- ${v}`}g+=y}return`${w}
${g}`}class ke extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class zo extends ke{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function j4({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ke({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Xx(o)){if(a.rp.id!==o)return new ke({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function N4({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ke({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Xx(n)){if(r.rpId!==n)return new ke({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class k4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const S4=new k4;function _4(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=wl(e,["challenge","user","excludeCredentials"]),a=Ps(t).buffer,o=Object.assign(Object.assign({},r),{id:Ps(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ps(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function E4(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=wl(e,["challenge","allowCredentials"]),s=Ps(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ps(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function C4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:_n(new Uint8Array(e.response.attestationObject)),clientDataJSON:_n(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function T4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:_n(new Uint8Array(s.authenticatorData)),clientDataJSON:_n(new Uint8Array(s.clientDataJSON)),signature:_n(new Uint8Array(s.signature)),userHandle:s.userHandle?_n(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Xx(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Pm(){var e,t;return!!(Me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function P4(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zo("Browser returned unexpected credential type",t)}:{data:null,error:new zo("Empty credential response",t)}}catch(t){return{data:null,error:j4({error:t,options:e})}}}async function A4(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new zo("Browser returned unexpected credential type",t)}:{data:null,error:new zo("Empty credential response",t)}}catch(t){return{data:null,error:N4({error:t,options:e})}}}const R4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},O4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wo(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=Wo(l,o):n[a]=Wo(o)}else n[a]=o}return n}function L4(e,t){return Wo(R4,e,t||{})}function I4(e,t){return Wo(O4,e,t||{})}class D4{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??S4.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=L4(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:h}=await P4({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=I4(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:h}=await A4(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return z(o)?{data:null,error:o}:{data:null,error:new jn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new na("rpId is required for WebAuthn authentication")};try{if(!Pm())return{data:null,error:new jn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return z(o)?{data:null,error:o}:{data:null,error:new jn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new na("rpId is required for WebAuthn registration")};try{if(!Pm())return{data:null,error:new jn("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return z(o)?{data:null,error:o}:{data:null,error:new jn("Unexpected error in register",o)}}}}y4();const M4={url:RS,storageKey:OS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Am(e,t,r){return await r()}const is={};class sa{get jwks(){var t,r;return(r=(t=is[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=is[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},M4),t);if(this.storageKey=a.storageKey,this.instanceID=(r=sa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,sa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Me()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new p4({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Qx(a.fetch),this.lock=a.lock||Am,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Me()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=x4:this.lock=Am,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new D4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Gx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tm(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Tm(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Hx}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Me()&&(r=QS(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Me()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),US(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return z(r)?this._returnResult({error:r}):this._returnResult({error:new jn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Pt}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(z(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await rs(this.storage,this.storageKey)),a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:p},xform:Pt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Pt})}else throw new Ka("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await De(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await De(this.storage,`${this.storageKey}-code-verifier`),z(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Em})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Em})}else throw new Ka("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new ts;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,o,l,c,u,d,h,f;let m,p;if("message"in t)m=t.message,p=t.signature;else{const{chain:x,wallet:w,statement:g,options:y}=t;let v;if(Me())if(typeof w=="object")v=w;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")v=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),N=await v.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Yx(N[0]);let S=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const T=await v.request({method:"eth_chainId"});S=v4(T)}const P={domain:j.host,address:k,statement:g,uri:j.href,version:"1",chainId:S,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=b4(P),p=await v.request({method:"personal_sign",params:[w4(m),k]})}try{const{data:x,error:w}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:p},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Pt});if(w)throw w;if(!x||!x.session||!x.user){const g=new ts;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(z(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,h,f,m;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:w,wallet:g,statement:y,options:v}=t;let j;if(Me())if(typeof g=="object")j=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))j=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const N=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const k=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),y?{statement:y}:null));let S;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")S=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)S=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)p=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),x=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const k=await j.signMessage(new TextEncoder().encode(p),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:w,error:g}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:_n(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Pt});if(g)throw g;if(!w||!w.session||!w.user){const y=new ts;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(z(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await xn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new BS;const{data:a,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Pt});if(await De(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new ts;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(await De(this.storage,`${this.storageKey}-code-verifier`),z(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Pt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new ts;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await rs(this.storage,this.storageKey));const{error:h}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ka("You must provide either an email or phone number.")}catch(l){if(await De(this.storage,`${this.storageKey}-code-verifier`),z(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Pt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(z(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,a,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await rs(this.storage,this.storageKey));const u=await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:h4});return!((a=u.data)===null||a===void 0)&&a.url&&Me()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await De(this.storage,`${this.storageKey}-code-verifier`),z(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new at;const{error:s}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(z(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await H(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await H(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Ka("You must provide either an email or phone number and a type")}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<hc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await xn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=pc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=l4(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mr}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new at}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Mr})})}catch(r){if(z(r))return FS(r)&&(await this._removeSession(),await De(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new at;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await rs(this.storage,this.storageKey));const{data:u,error:d}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Mr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await De(this.storage,`${this.storageKey}-code-verifier`),z(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new at;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=mc(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(z(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new at;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(z(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Me())throw new Ga("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ga(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new wm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ga("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wm("No code detected.");const{data:y,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Ga("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=os&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const p=f-h;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,f,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,f,d);const{data:x,error:w}=await this._getUser(a);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(z(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!($S(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await De(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=GS(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await rs(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await De(this.storage,`${this.storageKey}-code-verifier`),z(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:f}=a;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Me()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(z(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Pt}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new ts}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await De(this.storage,`${this.storageKey}-code-verifier`),z(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await XS(async s=>(s>0&&await YS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pt})),(s,a)=>{const o=200*Math.pow(2,s);return a&&fc(a)&&Date.now()+o-n<os})}catch(n){if(this._debug(r,"error",n),z(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Me()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await xn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ls(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:pc()}else if(s&&!s.user&&!s.user){const o=await xn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await De(this.storage,this.storageKey+"-user"),await ls(this.storage,this.storageKey,s)):s.user=pc()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hc;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${hc}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),fc(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new at;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new jl;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new at;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),z(a)){const o={data:null,error:a};return fc(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await De(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ls(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Sm(s);await ls(this.storage,this.storageKey,a)}else{const s=Sm(r);await ls(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await De(this.storage,this.storageKey),await De(this.storage,this.storageKey+"-code-verifier"),await De(this.storage,this.storageKey+"-user"),this.userStorage&&await De(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),os);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/os);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${os}ms, refresh threshold is ${Ou} ticks`),s<=Ou&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Jx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await rs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?C4(t.webauthn.credential_response):T4(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:_4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:E4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=mc(n.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await H(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new at})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new at});const o=await H(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Me()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new at});const o=await H(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Me()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await H(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new at})})}catch(t){if(z(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await H(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new at})})}catch(r){if(z(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+DS>s)return n;const{data:a,error:o}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return this._returnResult({data:null,error:p});n=m.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=mc(n);r!=null&&r.allowExpired||i4(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:s,signature:o},error:null}}const d=a4(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,qS(`${l}.${c}`)))throw new Du("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(z(n))return this._returnResult({data:null,error:n});throw n}}}sa.nextInstanceID={};const $4=sa,F4="2.90.1";let yi="";typeof Deno<"u"?yi="deno":typeof document<"u"?yi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yi="react-native":yi="node";const U4={"X-Client-Info":`supabase-js-${yi}/${F4}`},B4={headers:U4},z4={schema:"public"},W4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},V4={};function ia(e){"@babel/helpers - typeof";return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(e)}function H4(e,t){if(ia(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ia(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q4(e){var t=H4(e,"string");return ia(t)=="symbol"?t:t+""}function K4(e,t,r){return(t=q4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rm(Object(r),!0).forEach(function(n){K4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const G4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Q4=()=>Headers,J4=(e,t,r)=>{const n=G4(r),s=Q4();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,be(be({},o),{},{headers:u}))}};function Y4(e){return e.endsWith("/")?e:e+"/"}function X4(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:be(be({},c),s),auth:be(be({},u),a),realtime:be(be({},d),o),storage:{},global:be(be(be({},h),l),{},{headers:be(be({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Z4(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Y4(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var e_=class extends $4{constructor(e){super(e)}},t_=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const a=Z4(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:z4,realtime:V4,auth:be(be({},W4),{},{storageKey:o}),global:B4},c=X4(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=J4(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(be({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Lk(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new AS(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Tk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:a,flowType:o,lock:l,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new e_({url:this.authUrl.href,headers:be(be({},f),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Yk(this.realtimeUrl.href,be(be({},e),{},{params:be(be({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Zx=(e,t,r)=>new t_(e,t,r);function r_(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}r_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ey="https://figvzdehzzsgzttzmslt.databasepad.com",ty="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImQ3ZThhYWY4LTVkM2ItNGY1NS05ODhiLTg4YTRjNGEwYjBlMCJ9.eyJwcm9qZWN0SWQiOiJmaWd2emRlaHp6c2d6dHR6bXNsdCIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNzY3OTUwNjMwLCJleHAiOjIwODMzMTA2MzAsImlzcyI6ImZhbW91cy5kYXRhYmFzZXBhZCIsImF1ZCI6ImZhbW91cy5jbGllbnRzIn0.kg6PeoBFeTasJ4ZkZjjVMoXe0knkQcpx-QKMWRGJzM0",Ce=Zx(ey,ty),ry=b.createContext(void 0),it=()=>{const e=b.useContext(ry);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},n_=({children:e})=>{const[t,r]=b.useState(null),[n,s]=b.useState(null),[a,o]=b.useState(!0),[l,c]=b.useState(!1),[u,d]=b.useState(!1),[h,f]=b.useState("Family Estate");b.useEffect(()=>{Ce.auth.getSession().then(({data:{session:k}})=>{s(k),k!=null&&k.user&&(r(k.user),m(k.user)),o(!1)});const{data:{subscription:N}}=Ce.auth.onAuthStateChange((k,S)=>{s(S),S!=null&&S.user?(r(S.user),m(S.user)):(r(null),c(!1),f("Family Estate")),o(!1)});return()=>N.unsubscribe()},[]);const m=async N=>{var _,O,E,M,$,K,W;let k=!1;const S=(_=N.email)==null?void 0:_.toLowerCase().trim();(S==="admin@campost.app"||S==="gsouleman@gmail.com")&&(console.log("User is Super Admin (Email Match). Granting Access."),k=!0,c(!0)),console.log("Checking User Role for:",N.email),console.log("Metadata:",N.user_metadata);try{const{data:L,error:C}=await Ce.from("profiles").select("role, account_type, full_name").eq("id",N.id).single();if(C&&console.warn("Profile fetch error:",C),console.log("Profile Data:",L),L){const R=L.account_type,F=L.full_name;f(R==="personal"&&F?`${F}`:"Family Estate"),L.role?(console.log("Using Profile Role:",L.role),c(k||L.role==="admin")):(console.log("Profile role missing. Using Metadata Role:",(O=N.user_metadata)==null?void 0:O.role),c(k||((E=N.user_metadata)==null?void 0:E.role)==="admin"));return}}catch(L){console.error("Error fetching profile role:",L)}console.log("Profile not found or error. Fallback to Metadata Role:",(M=N.user_metadata)==null?void 0:M.role);const P=($=N.user_metadata)==null?void 0:$.account_type,T=(K=N.user_metadata)==null?void 0:K.full_name;f(P==="personal"&&T?`${T}`:"Family Estate"),c(k||((W=N.user_metadata)==null?void 0:W.role)==="admin")},j={user:t,session:n,loading:a,isAdmin:l,mustChangePassword:u,branding:h,signUp:async(N,k,S,P)=>{try{const{data:T,error:_}=await Ce.auth.signUp({email:N,password:k,options:{data:{full_name:S,account_type:P,role:"user"}}});if(_)throw _;return T.user&&await Ce.from("profiles").upsert({id:T.user.id,email:N,full_name:S,account_type:P,created_at:new Date().toISOString()}),{error:null}}catch(T){return{error:T}}},signIn:async(N,k)=>{try{const{error:S}=await Ce.auth.signInWithPassword({email:N,password:k});if(S)throw S;return{error:null}}catch(S){return{error:S}}},signOut:async()=>{c(!1),d(!1),await Ce.auth.signOut()},resetPassword:async N=>{try{const{error:k}=await Ce.auth.resetPasswordForEmail(N,{redirectTo:`${window.location.origin}/reset-password`});if(k)throw k;return{error:null}}catch(k){return{error:k}}},updateProfile:async N=>{try{if(!t)throw new Error("No user logged in");const{error:k}=await Ce.auth.updateUser({data:N});if(k)throw k;return await Ce.from("profiles").update({full_name:N.full_name,updated_at:new Date().toISOString()}).eq("id",t.id),{error:null}}catch(k){return{error:k}}},changePassword:async N=>{const{error:k}=await Ce.auth.updateUser({password:N});return{error:k||null}}};return i.jsx(ry.Provider,{value:j,children:e})},nh=[{code:"CM",name:"Cameroon",currency:"XAF",currencySymbol:"FCFA",locale:"fr-CM",flag:""},{code:"CF",name:"Central African Republic",currency:"XAF",currencySymbol:"FCFA",locale:"fr-CF",flag:""},{code:"TD",name:"Chad",currency:"XAF",currencySymbol:"FCFA",locale:"fr-TD",flag:""},{code:"CG",name:"Republic of the Congo",currency:"XAF",currencySymbol:"FCFA",locale:"fr-CG",flag:""},{code:"GQ",name:"Equatorial Guinea",currency:"XAF",currencySymbol:"FCFA",locale:"es-GQ",flag:""},{code:"GA",name:"Gabon",currency:"XAF",currencySymbol:"FCFA",locale:"fr-GA",flag:""},{code:"BJ",name:"Benin",currency:"XOF",currencySymbol:"FCFA",locale:"fr-BJ",flag:""},{code:"BF",name:"Burkina Faso",currency:"XOF",currencySymbol:"FCFA",locale:"fr-BF",flag:""},{code:"CI",name:"Cte d'Ivoire",currency:"XOF",currencySymbol:"FCFA",locale:"fr-CI",flag:""},{code:"GW",name:"Guinea-Bissau",currency:"XOF",currencySymbol:"FCFA",locale:"pt-GW",flag:""},{code:"ML",name:"Mali",currency:"XOF",currencySymbol:"FCFA",locale:"fr-ML",flag:""},{code:"NE",name:"Niger",currency:"XOF",currencySymbol:"FCFA",locale:"fr-NE",flag:""},{code:"SN",name:"Senegal",currency:"XOF",currencySymbol:"FCFA",locale:"fr-SN",flag:""},{code:"TG",name:"Togo",currency:"XOF",currencySymbol:"FCFA",locale:"fr-TG",flag:""},{code:"NG",name:"Nigeria",currency:"NGN",currencySymbol:"",locale:"en-NG",flag:""},{code:"GH",name:"Ghana",currency:"GHS",currencySymbol:"GH",locale:"en-GH",flag:""},{code:"KE",name:"Kenya",currency:"KES",currencySymbol:"KSh",locale:"en-KE",flag:""},{code:"ZA",name:"South Africa",currency:"ZAR",currencySymbol:"R",locale:"en-ZA",flag:""},{code:"EG",name:"Egypt",currency:"EGP",currencySymbol:"E",locale:"ar-EG",flag:""},{code:"MA",name:"Morocco",currency:"MAD",currencySymbol:"DH",locale:"ar-MA",flag:""},{code:"TN",name:"Tunisia",currency:"TND",currencySymbol:"DT",locale:"ar-TN",flag:""},{code:"DZ",name:"Algeria",currency:"DZD",currencySymbol:"DA",locale:"ar-DZ",flag:""},{code:"AE",name:"United Arab Emirates",currency:"AED",currencySymbol:"AED",locale:"ar-AE",flag:""},{code:"SA",name:"Saudi Arabia",currency:"SAR",currencySymbol:"SAR",locale:"ar-SA",flag:""},{code:"QA",name:"Qatar",currency:"QAR",currencySymbol:"QR",locale:"ar-QA",flag:""},{code:"KW",name:"Kuwait",currency:"KWD",currencySymbol:"KD",locale:"ar-KW",flag:""},{code:"BH",name:"Bahrain",currency:"BHD",currencySymbol:"BD",locale:"ar-BH",flag:""},{code:"OM",name:"Oman",currency:"OMR",currencySymbol:"OMR",locale:"ar-OM",flag:""},{code:"JO",name:"Jordan",currency:"JOD",currencySymbol:"JD",locale:"ar-JO",flag:""},{code:"TR",name:"Turkey",currency:"TRY",currencySymbol:"",locale:"tr-TR",flag:""},{code:"MY",name:"Malaysia",currency:"MYR",currencySymbol:"RM",locale:"ms-MY",flag:""},{code:"ID",name:"Indonesia",currency:"IDR",currencySymbol:"Rp",locale:"id-ID",flag:""},{code:"PK",name:"Pakistan",currency:"PKR",currencySymbol:"Rs",locale:"en-PK",flag:""},{code:"BD",name:"Bangladesh",currency:"BDT",currencySymbol:"",locale:"bn-BD",flag:""},{code:"IN",name:"India",currency:"INR",currencySymbol:"",locale:"en-IN",flag:""},{code:"GB",name:"United Kingdom",currency:"GBP",currencySymbol:"",locale:"en-GB",flag:""},{code:"FR",name:"France",currency:"EUR",currencySymbol:"",locale:"fr-FR",flag:""},{code:"DE",name:"Germany",currency:"EUR",currencySymbol:"",locale:"de-DE",flag:""},{code:"US",name:"United States",currency:"USD",currencySymbol:"$",locale:"en-US",flag:""},{code:"CA",name:"Canada",currency:"CAD",currencySymbol:"CA$",locale:"en-CA",flag:""}],ny=nh.find(e=>e.code==="CM"),sy=b.createContext({country:ny,setCountry:()=>{},formatCurrency:()=>"",formatCurrencyCompact:()=>""}),nr=()=>b.useContext(sy),s_=({children:e})=>{const[t,r]=b.useState(()=>{const o=localStorage.getItem("selectedCountry");if(o){const l=JSON.parse(o),c=nh.find(u=>u.code===l.code);if(c)return c}return ny});b.useEffect(()=>{localStorage.setItem("selectedCountry",JSON.stringify(t))},[t]);const n=o=>{r(o)},s=o=>{if(t.currency==="XAF"||t.currency==="XOF")return`${new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(o)} FCFA`;try{return new Intl.NumberFormat(t.locale,{style:"currency",currency:t.currency,minimumFractionDigits:0,maximumFractionDigits:0}).format(o)}catch{const l=new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}).format(o);return`${t.currencySymbol} ${l}`}},a=o=>{const l=t.currency==="XAF"||t.currency==="XOF"?"FCFA":t.currencySymbol;return o>=1e9?`${(o/1e9).toFixed(1)}B ${l}`:o>=1e6?`${(o/1e6).toFixed(1)}M ${l}`:o>=1e3?`${(o/1e3).toFixed(1)}K ${l}`:s(o)};return i.jsx(sy.Provider,{value:{country:t,setCountry:n,formatCurrency:s,formatCurrencyCompact:a},children:e})},i_=()=>{let e="https://family-assets-backend.onrender.com";return e?(e.startsWith("http")||(e=`https://${e}`),e.endsWith("/api")||(e=`${e}/api`),e):"/api"},sh=i_();console.log(" Connecting to Backend API:",sh);const a_=async()=>{var r;const e={"Content-Type":"application/json"},{data:{session:t}}=await Ce.auth.getSession();if(t!=null&&t.user){e["X-User-ID"]=t.user.id,t.user.email&&(e["X-User-Email"]=t.user.email);const n=(r=t.user.user_metadata)==null?void 0:r.full_name;n&&(e["X-User-Name"]=encodeURIComponent(n))}return e},se=async(e,t)=>{if(!e.ok){let r=`${t} (${e.status} ${e.statusText})`;try{const n=await e.json();n&&n.error&&(r=n.error,n.debug_message&&(r+=` | DEBUG: ${n.debug_message}`,console.error("SERVER STACK:",n.debug_stack)))}catch{}throw new Error(r)}return e.json()},ie=async(e,t={})=>{const r=await a_();return await fetch(`${sh}${e}`,{...t,headers:{...r,...t.headers}})},ae={getAssets:async()=>{const e=await ie("/assets");return se(e,"Failed to fetch assets")},createAsset:async e=>{const t=await ie("/assets",{method:"POST",body:JSON.stringify(e)});return se(t,"Failed to create asset")},updateAsset:async(e,t)=>{const r=await ie(`/assets/${e}`,{method:"PUT",body:JSON.stringify(t)});return se(r,"Failed to update asset")},deleteAsset:async e=>{const t=await ie(`/assets/${e}`,{method:"DELETE"});return se(t,"Failed to delete asset")},getHeirs:async()=>{const e=await ie("/heirs");return se(e,"Failed to fetch heirs")},createHeir:async e=>{const t=await ie("/heirs",{method:"POST",body:JSON.stringify(e)});return se(t,"Failed to create heir")},updateHeir:async(e,t)=>{const r=await ie(`/heirs/${e}`,{method:"PUT",body:JSON.stringify(t)});return se(r,"Failed to update heir")},deleteHeir:async e=>{const t=await ie(`/heirs/${e}`,{method:"DELETE"});return se(t,"Failed to delete heir")},getDocuments:async()=>{const e=await ie("/documents");return se(e,"Failed to fetch documents")},createDocument:async e=>{const t=await ie("/documents",{method:"POST",body:JSON.stringify(e)});return se(t,"Failed to create document")},deleteDocument:async e=>{const t=await ie(`/documents/${e}`,{method:"DELETE"});return se(t,"Failed to delete document")},getTransactions:async()=>{const e=await ie("/transactions");return se(e,"Failed to fetch transactions")},createTransaction:async e=>{const t=await ie("/transactions",{method:"POST",body:JSON.stringify(e)});return se(t,"Failed to create transaction")},getDistributions:async()=>{const e=await ie("/distributions");return se(e,"Failed to fetch distributions")},createDistribution:async e=>{const t=await ie("/distributions",{method:"POST",body:JSON.stringify(e)});return se(t,"Failed to create distribution")},getNotifications:async()=>{const e=await ie("/notifications");return se(e,"Failed to fetch notifications")},createNotification:async e=>{const t=await ie("/notifications",{method:"POST",body:JSON.stringify(e)});return se(t,"Failed to create notification")},markNotificationRead:async e=>{const t=await ie(`/notifications/${e}/read`,{method:"PUT"});return se(t,"Failed to mark notification as read")},getLedgerEntries:async()=>{const e=await ie("/ledger");return se(e,"Failed to fetch ledger entries")},createLedgerEntry:async e=>{const t=await ie("/ledger",{method:"POST",body:JSON.stringify(e)});return se(t,"Failed to create ledger entry")},updateLedgerEntry:async(e,t)=>{const r=await ie(`/ledger/${e}`,{method:"PUT",body:JSON.stringify(t)});return se(r,"Failed to update ledger entry")},deleteLedgerEntry:async e=>{const t=await ie(`/ledger/${e}`,{method:"DELETE"});return se(t,"Failed to delete ledger entry")},getUsers:async()=>{const e=await ie("/users");return se(e,"Failed to fetch users")},createUser:async e=>{const t=await ie("/users",{method:"POST",body:JSON.stringify(e)});return se(t,"Failed to create user")},updateUser:async(e,t)=>{const r=await ie(`/users/${e}`,{method:"PUT",body:JSON.stringify(t)});return se(r,"Failed to update user")},deleteUser:async e=>{const t=await ie(`/users/${e}`,{method:"DELETE"});return se(t,"Failed to delete user")},get:async e=>{const t=await ie(e);return se(t,`Failed to GET ${e}`)},post:async(e,t)=>{const r=await ie(e,{method:"POST",body:JSON.stringify(t)});return se(r,`Failed to POST ${e}`)},put:async(e,t)=>{const r=await ie(e,{method:"PUT",body:JSON.stringify(t)});return se(r,`Failed to PUT ${e}`)},delete:async e=>{const t=await ie(e,{method:"DELETE"});return se(t,`Failed to DELETE ${e}`)},getBaseUrl:()=>sh},o_=[{id:"tx-1",type:"asset_added",description:"Family Villa - Palm Jumeirah added to portfolio",amount:45e5,date:"2018-03-15",relatedAssetId:"asset-1"},{id:"tx-2",type:"asset_added",description:"Downtown Apartment added to portfolio",amount:12e5,date:"2020-07-22",relatedAssetId:"asset-2"},{id:"tx-3",type:"document_uploaded",description:"Property deed uploaded for Family Villa",date:"2018-03-20",relatedAssetId:"asset-1"},{id:"tx-4",type:"heir_added",description:"Sara Al-Rahman added as heir",date:"2006-02-28",relatedHeirId:"heir-5"},{id:"tx-5",type:"asset_added",description:"Mercedes-Benz S-Class added to portfolio",amount:18e4,date:"2023-02-14",relatedAssetId:"asset-6"},{id:"tx-6",type:"document_uploaded",description:"Family will document updated",date:"2024-01-15"},{id:"tx-7",type:"asset_added",description:"Sukuk Bonds Portfolio added",amount:5e5,date:"2021-04-05",relatedAssetId:"asset-5"},{id:"tx-8",type:"asset_added",description:"Beach House - Maldives added to portfolio",amount:21e5,date:"2021-12-01",relatedAssetId:"asset-16"}],l_=[{id:"doc-1",name:"Family Will - 2024 Update",type:"will",uploadDate:"2024-01-15",fileSize:"2.4 MB"},{id:"doc-2",name:"Palm Jumeirah Villa - Title Deed",type:"deed",uploadDate:"2018-03-20",fileSize:"1.8 MB",relatedAssetId:"asset-1"},{id:"doc-3",name:"Downtown Apartment - Title Deed",type:"deed",uploadDate:"2020-07-25",fileSize:"1.5 MB",relatedAssetId:"asset-2"},{id:"doc-4",name:"Business Registration - Trading Co.",type:"certificate",uploadDate:"2010-01-15",fileSize:"890 KB",relatedAssetId:"asset-12"},{id:"doc-5",name:"Vehicle Registration - Mercedes",type:"certificate",uploadDate:"2023-02-20",fileSize:"450 KB",relatedAssetId:"asset-6"},{id:"doc-6",name:"Jewelry Appraisal Certificate",type:"certificate",uploadDate:"2023-06-10",fileSize:"1.2 MB",relatedAssetId:"asset-9"},{id:"doc-7",name:"Investment Portfolio Statement",type:"other",uploadDate:"2025-01-01",fileSize:"3.1 MB",relatedAssetId:"asset-4"},{id:"doc-8",name:"Yacht Registration Certificate",type:"certificate",uploadDate:"2020-05-20",fileSize:"780 KB",relatedAssetId:"asset-17"}],c_=[{id:"notif-1",title:"Portfolio Value Update",message:"Your total family portfolio value has increased by 3.2% this month.",date:"2026-01-08",read:!1,type:"general"},{id:"notif-2",title:"Document Expiring Soon",message:"Vehicle registration for Mercedes-Benz S-Class expires in 30 days.",date:"2026-01-07",read:!1,type:"document"},{id:"notif-3",title:"New Tax Regulations",message:"Important: New inheritance tax regulations effective from February 2026.",date:"2026-01-05",read:!0,type:"general"}],u_=[],tn=e=>({spouse_wife:"bg-pink-100 text-pink-700 border-pink-200",spouse_husband:"bg-blue-100 text-blue-700 border-blue-200",son:"bg-indigo-100 text-indigo-700 border-indigo-200",daughter:"bg-purple-100 text-purple-700 border-purple-200",father:"bg-amber-100 text-amber-700 border-amber-200",mother:"bg-rose-100 text-rose-700 border-rose-200",brother:"bg-teal-100 text-teal-700 border-teal-200",sister:"bg-cyan-100 text-cyan-700 border-cyan-200",grandfather:"bg-orange-100 text-orange-700 border-orange-200",grandmother:"bg-red-100 text-red-700 border-red-200"})[e]||"bg-gray-100 text-gray-700 border-gray-200",iy=b.createContext(void 0),qn=()=>{const e=b.useContext(iy);if(!e)throw new Error("useData must be used within a DataProvider");return e},d_=({children:e})=>{const[t,r]=b.useState([]),[n,s]=b.useState([]),[a,o]=b.useState(o_),[l,c]=b.useState(l_),[u,d]=b.useState(c_),[h,f]=b.useState(u_);b.useEffect(()=>{(async()=>{try{const[_,O,E,M,$,K]=await Promise.all([ae.getAssets(),ae.getHeirs(),ae.getDocuments(),ae.getTransactions(),ae.getDistributions(),ae.getNotifications()]);r(_),s(O),c(E),o(M),f($),d(K)}catch(_){console.error("Failed to fetch initial data:",_)}})()},[]);const m=async T=>{try{const _=await ae.createAsset(T);r(O=>[_,...O]),await N({type:"asset_added",description:`${_.name} added to portfolio`,amount:_.value,relatedAssetId:_.id})}catch(_){throw console.error("Failed to add asset:",_),_}},p=async(T,_)=>{try{const O=await ae.updateAsset(T,_);r(E=>E.map(M=>M.id===T?O:M))}catch(O){console.error("Failed to update asset:",O)}},x=async T=>{try{await ae.deleteAsset(T),r(_=>_.filter(O=>O.id!==T))}catch(_){console.error("Failed to delete asset:",_)}},w=async T=>{try{const _=await ae.createHeir(T);s(O=>[_,...O]),await N({type:"heir_added",description:`${_.name} added as heir`,relatedHeirId:_.id})}catch(_){console.error("Failed to add heir:",_)}},g=async(T,_)=>{try{const O=await ae.updateHeir(T,_);s(E=>E.map(M=>M.id===T?O:M))}catch(O){console.error("Failed to update heir:",O)}},y=async T=>{try{await ae.deleteHeir(T),s(_=>_.filter(O=>O.id!==T))}catch(_){console.error("Failed to delete heir:",_)}},v=async T=>{try{const _=await ae.createDocument(T);c(O=>[...O,_]),await N({type:"document_uploaded",description:`${_.name} uploaded`,relatedAssetId:_.relatedAssetId})}catch(_){console.error("Failed to add document:",_)}},j=async T=>{try{await ae.deleteDocument(T),c(_=>_.filter(O=>O.id!==T))}catch(_){console.error("Failed to delete document:",_)}},N=async T=>{try{const _=await ae.createTransaction(T);o(O=>[_,...O])}catch(_){console.error("Failed to add transaction:",_)}},k=async T=>{try{const _=await ae.createDistribution(T);f(O=>[...O,_])}catch(_){console.error("Failed to add distribution:",_)}},S=async T=>{try{const _=await ae.createNotification(T);d(O=>[_,...O])}catch(_){console.error("Failed to add notification:",_)}},P=async T=>{try{await ae.markNotificationRead(T),d(_=>_.map(O=>O.id===T?{...O,read:!0}:O))}catch(_){console.error("Failed to mark notification read:",_)}};return i.jsx(iy.Provider,{value:{assets:t,heirs:n,transactions:a,documents:l,notifications:u,distributions:h,addAsset:m,updateAsset:p,deleteAsset:x,addHeir:w,updateHeir:g,deleteHeir:y,addDocument:v,deleteDocument:j,addTransaction:N,addDistribution:k,addNotification:S,markNotificationRead:P},children:e})},Om=({variant:e="navbar"})=>{const{country:t,setCountry:r}=nr(),[n,s]=b.useState(!1),[a,o]=b.useState(""),l=b.useRef(null);b.useEffect(()=>{const h=f=>{l.current&&!l.current.contains(f.target)&&(s(!1),o(""))};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const c=nh.filter(h=>h.name.toLowerCase().includes(a.toLowerCase())||h.currency.toLowerCase().includes(a.toLowerCase())),u={"Central Africa (XAF)":c.filter(h=>h.currency==="XAF"),"West Africa (XOF)":c.filter(h=>h.currency==="XOF"),"Other African Countries":c.filter(h=>["NGN","GHS","KES","ZAR","EGP","MAD","TND","DZD"].includes(h.currency)),"Middle East":c.filter(h=>["AED","SAR","QAR","KWD","BHD","OMR","JOD","TRY"].includes(h.currency)),Asia:c.filter(h=>["MYR","IDR","PKR","BDT","INR"].includes(h.currency)),"Europe & Americas":c.filter(h=>["GBP","EUR","USD","CAD"].includes(h.currency))},d=h=>{r(h),s(!1),o("")};return e==="navbar"?i.jsxs("div",{className:"relative",ref:l,children:[i.jsxs("button",{onClick:()=>s(!n),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-gray-700 hover:text-[#1a365d] hover:bg-gray-100 rounded-lg transition-colors",children:[i.jsx("span",{className:"text-lg",children:t.flag}),i.jsx("span",{className:"hidden sm:inline",children:t.currency}),i.jsx("svg",{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&i.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-200 z-50 overflow-hidden",children:[i.jsx("div",{className:"p-3 border-b border-gray-100",children:i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search country or currency...",value:a,onChange:h=>o(h.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#d4af37]/50 focus:border-[#d4af37]"})]})}),i.jsx("div",{className:"max-h-80 overflow-y-auto",children:Object.entries(u).map(([h,f])=>f.length===0?null:i.jsxs("div",{children:[i.jsx("div",{className:"px-4 py-2 bg-gray-50 text-xs font-semibold text-gray-500 uppercase tracking-wider sticky top-0",children:h}),f.map(m=>i.jsxs("button",{onClick:()=>d(m),className:`w-full flex items-center gap-3 px-4 py-3 hover:bg-[#d4af37]/10 transition-colors ${t.code===m.code?"bg-[#d4af37]/20":""}`,children:[i.jsx("span",{className:"text-xl",children:m.flag}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[m.currency," - ",m.currencySymbol]})]}),t.code===m.code&&i.jsx("svg",{className:"w-5 h-5 text-[#d4af37]",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},m.code))]},h))}),i.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsxs("span",{children:["Current: ",i.jsx("strong",{children:t.name})," (",t.currency,")"]})]})})]})]}):i.jsxs("div",{className:"w-full",ref:l,children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Country / Currency"}),i.jsxs("button",{onClick:()=>s(!n),className:"w-full flex items-center justify-between gap-3 px-4 py-3 bg-white border border-gray-200 rounded-xl hover:border-[#d4af37] transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:t.flag}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-gray-900",children:t.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:[t.currency," - ",t.currencySymbol]})]})]}),i.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${n?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n&&i.jsxs("div",{className:"mt-2 bg-white rounded-xl shadow-xl border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-3 border-b border-gray-100",children:i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search country or currency...",value:a,onChange:h=>o(h.target.value),className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#d4af37]/50 focus:border-[#d4af37]"})]})}),i.jsx("div",{className:"max-h-64 overflow-y-auto",children:Object.entries(u).map(([h,f])=>f.length===0?null:i.jsxs("div",{children:[i.jsx("div",{className:"px-4 py-2 bg-gray-50 text-xs font-semibold text-gray-500 uppercase tracking-wider sticky top-0",children:h}),f.map(m=>i.jsxs("button",{onClick:()=>d(m),className:`w-full flex items-center gap-3 px-4 py-3 hover:bg-[#d4af37]/10 transition-colors ${t.code===m.code?"bg-[#d4af37]/20":""}`,children:[i.jsx("span",{className:"text-xl",children:m.flag}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[m.currency," - ",m.currencySymbol]})]}),t.code===m.code&&i.jsx("svg",{className:"w-5 h-5 text-[#d4af37]",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},m.code))]},h))})]})]})},ay=({notifications:e,onMarkNotificationRead:t,onOpenAuthModal:r,onOpenAdminModal:n})=>{const{user:s,signOut:a,loading:o,isAdmin:l,branding:c}=it(),u=Rx(),[d,h]=b.useState(!1),[f,m]=b.useState(!1),[p,x]=b.useState(!1),w=e.filter(N=>!N.read).length,g=N=>{const k=document.getElementById(N);k?k.scrollIntoView({behavior:"smooth"}):window.location.pathname!=="/"&&(u("/"),setTimeout(()=>{var S;(S=document.getElementById(N))==null||S.scrollIntoView({behavior:"smooth"})},100)),x(!1)},y=async()=>{await a(),m(!1),u("/")},v=()=>{var N,k;return s&&(((N=s.user_metadata)==null?void 0:N.full_name)||((k=s.email)==null?void 0:k.split("@")[0]))||""},j=()=>{const N=v();return N?N.split(" ").map(k=>k[0]).join("").toUpperCase().slice(0,2):"U"};return i.jsxs("nav",{className:"bg-white/95 backdrop-blur-md shadow-sm sticky top-0 z-40 border-b border-gray-100",children:[i.jsxs("div",{className:"bg-yellow-200 text-xs p-1 text-center font-mono text-black",children:["DEBUG INFO: Admin=",l?"TRUE":"FALSE"," | Email=",(s==null?void 0:s.email)||"No User"," | ID=",s==null?void 0:s.id]}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>u("/"),children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#1a365d] to-[#0f2744] rounded-xl flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-[#1a365d]",children:c}),i.jsx("p",{className:"text-xs text-gray-500 -mt-0.5",children:"Asset Dashboard"})]})]}),i.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[[{id:"assets",label:"Assets"},{id:"family",label:"Family"},{id:"calculator",label:"Calculator"},{id:"ledger",label:"Ledger"},{id:"documents",label:"Documents"},{id:"history",label:"History"}].map(N=>i.jsx("button",{onClick:()=>g(N.id),className:"px-4 py-2 text-gray-600 hover:text-[#1a365d] hover:bg-gray-50 rounded-lg transition-colors font-medium",children:N.label},N.id)),l&&i.jsxs("button",{onClick:()=>u("/admin"),className:"ml-2 px-4 py-2 bg-red-50 text-red-700 hover:bg-red-100 rounded-lg transition-colors font-medium flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"Admin Dashboard"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Om,{variant:"navbar"}),s&&i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>h(!d),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors relative",children:[i.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),w>0&&i.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:w})]}),d&&i.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:i.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})}),i.jsx("div",{className:"max-h-80 overflow-y-auto",children:e.length>0?e.map(N=>i.jsx("div",{onClick:()=>t(N.id),className:`p-4 border-b border-gray-50 hover:bg-gray-50 cursor-pointer transition-colors ${N.read?"":"bg-blue-50/50"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${N.read?"bg-gray-300":"bg-blue-500"}`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium text-gray-900 text-sm",children:N.title}),i.jsx("p",{className:"text-gray-500 text-sm mt-0.5 line-clamp-2",children:N.message}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(N.date).toLocaleDateString()})]})]})},N.id)):i.jsx("div",{className:"p-8 text-center",children:i.jsx("p",{className:"text-gray-500",children:"No notifications"})})})]})]}),o?i.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 animate-pulse"}):s?i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>m(!f),className:"flex items-center gap-2 p-1.5 hover:bg-gray-100 rounded-xl transition-colors",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#1a365d] to-[#0f2744] rounded-full flex items-center justify-center text-white text-sm font-semibold",children:j()}),i.jsx("span",{className:"hidden sm:block text-sm font-medium text-gray-700 max-w-[120px] truncate",children:v()}),i.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&i.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:[i.jsx("p",{className:"font-semibold text-gray-900 truncate",children:v()}),i.jsx("p",{className:"text-sm text-gray-500 truncate",children:s.email}),l&&i.jsx("span",{className:"text-xs text-red-600 font-bold uppercase mt-1 block",children:"Administrator"})]}),i.jsxs("div",{className:"p-2",children:[i.jsxs("button",{onClick:()=>{m(!1),g("assets")},className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors text-left",children:[i.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"My Assets"]}),i.jsxs("button",{onClick:()=>{m(!1),g("calculator")},className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors text-left",children:[i.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Inheritance Calculator"]}),i.jsx("div",{className:"border-t border-gray-100 my-2"}),i.jsxs("button",{onClick:y,className:"w-full flex items-center gap-3 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-left",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})]}):i.jsxs("button",{onClick:r,className:"px-4 py-2 bg-[#1a365d] hover:bg-[#0f2744] text-white text-sm font-medium rounded-lg transition-colors flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Sign In"]}),i.jsx("button",{onClick:()=>x(!p),className:"md:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p?i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),p&&i.jsxs("div",{className:"md:hidden py-4 border-t border-gray-100",children:[[{id:"assets",label:"Assets"},{id:"family",label:"Family"},{id:"calculator",label:"Calculator"},{id:"ledger",label:"Ledger"},{id:"documents",label:"Documents"},{id:"history",label:"History"}].map(N=>i.jsx("button",{onClick:()=>g(N.id),className:"block w-full text-left px-4 py-3 text-gray-600 hover:text-[#1a365d] hover:bg-gray-50 rounded-lg transition-colors font-medium",children:N.label},N.id)),l&&i.jsxs("button",{onClick:()=>{x(!1),u("/admin")},className:"block w-full text-left px-4 py-3 text-red-600 hover:bg-red-50/50 rounded-lg transition-colors font-medium flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"Admin Dashboard"]}),i.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 mt-2",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Country / Currency"}),i.jsx(Om,{variant:"full"})]}),!s&&i.jsx("button",{onClick:()=>{x(!1),r()},className:"block w-full text-left px-4 py-3 text-[#d4af37] hover:bg-[#d4af37]/10 rounded-lg transition-colors font-medium mt-2",children:"Sign In"}),s&&i.jsx("button",{onClick:()=>{x(!1),y()},className:"block w-full text-left px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors font-medium mt-2",children:"Sign Out"})]})]})]})},h_=({totalAssetValue:e,totalAssets:t,totalHeirs:r,onViewAssets:n,onCalculate:s})=>{const{formatCurrency:a,country:o}=nr();return i.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-[#1a365d] via-[#1e4976] to-[#0f2744] text-white",children:[i.jsx("div",{className:"absolute inset-0 opacity-10",children:i.jsxs("svg",{className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("defs",{children:i.jsxs("pattern",{id:"islamic-pattern",x:"0",y:"0",width:"60",height:"60",patternUnits:"userSpaceOnUse",children:[i.jsx("path",{d:"M30 0L60 30L30 60L0 30Z",fill:"none",stroke:"#d4af37",strokeWidth:"1"}),i.jsx("circle",{cx:"30",cy:"30",r:"10",fill:"none",stroke:"#d4af37",strokeWidth:"0.5"}),i.jsx("path",{d:"M30 20L40 30L30 40L20 30Z",fill:"none",stroke:"#d4af37",strokeWidth:"0.5"})]})}),i.jsx("rect",{width:"100%",height:"100%",fill:"url(#islamic-pattern)"})]})}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[#d4af37] to-transparent"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[#d4af37] to-transparent"}),i.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-28",children:i.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-[#d4af37]/20 rounded-full border border-[#d4af37]/30",children:[i.jsx("svg",{className:"w-5 h-5 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),i.jsx("span",{className:"text-sm font-medium text-[#d4af37]",children:"Shariah-Compliant Inheritance"})]}),i.jsxs("h1",{className:"text-4xl lg:text-5xl xl:text-6xl font-bold leading-tight",children:["Preserve Your",i.jsx("span",{className:"block text-[#d4af37]",children:"Family Legacy"})]}),i.jsx("p",{className:"text-lg lg:text-xl text-gray-300 max-w-xl",children:"Manage your family assets with wisdom and ensure fair Islamic inheritance distribution according to Shariah principles. Honor your legacy, protect your loved ones."}),i.jsxs("div",{className:"flex flex-wrap gap-4",children:[i.jsxs("button",{onClick:n,className:"px-8 py-4 bg-[#d4af37] hover:bg-[#c9a432] text-[#1a365d] font-semibold rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-[#d4af37]/30 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"View Assets"]}),i.jsxs("button",{onClick:s,className:"px-8 py-4 bg-transparent border-2 border-[#d4af37] text-[#d4af37] hover:bg-[#d4af37]/10 font-semibold rounded-lg transition-all duration-300 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Calculate Inheritance"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 lg:gap-6",children:[i.jsx("div",{className:"col-span-2 bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:border-[#d4af37]/50 transition-all duration-300",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-[#d4af37]/20 rounded-xl",children:i.jsx("svg",{className:"w-8 h-8 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-sm",children:"Total Portfolio Value"}),i.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-[#d4af37]",children:a(e)}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[o.flag," ",o.name]})]})]})}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-5 border border-white/20 hover:border-[#d4af37]/50 transition-all duration-300",children:i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg w-fit",children:i.jsx("svg",{className:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-sm",children:"Total Assets"}),i.jsx("p",{className:"text-2xl font-bold",children:t})]})]})}),i.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-5 border border-white/20 hover:border-[#d4af37]/50 transition-all duration-300",children:i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg w-fit",children:i.jsx("svg",{className:"w-6 h-6 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-400 text-sm",children:"Family Heirs"}),i.jsx("p",{className:"text-2xl font-bold",children:r})]})]})}),i.jsx("div",{className:"col-span-2 bg-gradient-to-r from-[#d4af37]/20 to-[#d4af37]/10 backdrop-blur-sm rounded-2xl p-5 border border-[#d4af37]/30",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-[#d4af37]/30 rounded-lg",children:i.jsx("svg",{className:"w-6 h-6 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-300",children:"Faraid Calculator"}),i.jsx("p",{className:"text-white font-medium",children:"Islamic Inheritance Ready"})]})]}),i.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"})]})})]})]})})]})},oy=e=>({property:"bg-blue-100 text-blue-700",investment:"bg-green-100 text-green-700",vehicle:"bg-purple-100 text-purple-700",cash:"bg-emerald-100 text-emerald-700",business:"bg-indigo-100 text-indigo-700",other:"bg-gray-100 text-gray-700"})[e]||"bg-gray-100 text-gray-700",f_=({asset:e,onSelect:t,onSell:r})=>{const{user:n}=it(),{formatCurrency:s}=nr(),a=e.category.charAt(0).toUpperCase()+e.category.slice(1);return i.jsxs("div",{className:"group bg-white rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 hover:border-[#d4af37]/30 cursor-pointer",onClick:()=>t(e),children:[i.jsxs("div",{className:"relative h-48 overflow-hidden",children:[i.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),i.jsx("div",{className:"absolute top-3 left-3",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${e.status==="active"?"bg-green-500 text-white":e.status==="sold"?"bg-red-500 text-white":"bg-yellow-500 text-white"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${oy(e.category)}`,children:a})}),i.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:i.jsx("p",{className:"text-white text-xl font-bold drop-shadow-lg",children:s(e.value)})})]}),i.jsxs("div",{className:"p-5",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-1 group-hover:text-[#1a365d] transition-colors",children:e.name}),i.jsx("p",{className:"text-gray-500 text-sm mb-4 line-clamp-2",children:e.description}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400 mb-4",children:[e.location&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),i.jsx("span",{children:e.location})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{children:new Date(e.purchaseDate).toLocaleDateString()})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:o=>{o.stopPropagation(),t(e)},className:"flex-1 px-4 py-2 bg-[#1a365d] hover:bg-[#0f2744] text-white text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:[i.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Details"]}),e.status==="active"&&i.jsxs("button",{onClick:o=>{o.stopPropagation(),r(e)},className:"px-4 py-2 bg-[#d4af37] hover:bg-[#c9a432] text-[#1a365d] text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Sell",!n&&i.jsx("svg",{className:"w-3 h-3 ml-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})]})]})]})]})},ya=({sectionId:e,title:t="Print Report"})=>{const r=()=>{e&&document.body.classList.add(`print-mode-${e}`),window.print();const n=()=>{e&&document.body.classList.remove(`print-mode-${e}`),window.removeEventListener("afterprint",n)};window.addEventListener("afterprint",n),setTimeout(()=>{e&&document.body.classList.remove(`print-mode-${e}`)},5e3)};return i.jsxs("button",{onClick:r,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-sm font-medium print:hidden",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),t]})},xc=[{value:"all",label:"All Assets"},{value:"property",label:"Properties"},{value:"investment",label:"Investments"},{value:"vehicle",label:"Vehicles"},{value:"business",label:"Business"},{value:"cash",label:"Cash"},{value:"other",label:"Others"}],m_=[{value:"value-desc",label:"Highest Value"},{value:"value-asc",label:"Lowest Value"},{value:"date-desc",label:"Newest First"},{value:"date-asc",label:"Oldest First"},{value:"name-asc",label:"Name A-Z"}],p_=({assets:e=[],onSelectAsset:t,onSellAsset:r})=>{const{formatCurrency:n}=nr(),[s,a]=b.useState(""),[o,l]=b.useState("all"),[c,u]=b.useState("value-desc"),[d,h]=b.useState(!0),f=b.useMemo(()=>{if(!e)return[];let p=e;if(d&&(p=p.filter(w=>w.status==="active")),s){const w=s.toLowerCase();p=p.filter(g=>{var y;return g.name.toLowerCase().includes(w)||g.description.toLowerCase().includes(w)||((y=g.location)==null?void 0:y.toLowerCase().includes(w))})}return o!=="all"&&(p=p.filter(w=>w.category===o)),[...p].sort((w,g)=>{switch(c){case"value-desc":return g.value-w.value;case"value-asc":return w.value-g.value;case"date-desc":return new Date(g.purchaseDate).getTime()-new Date(w.purchaseDate).getTime();case"date-asc":return new Date(w.purchaseDate).getTime()-new Date(g.purchaseDate).getTime();case"name-asc":return w.name.localeCompare(g.name);default:return 0}})},[e,s,o,c,d]),m=(f||[]).reduce((p,x)=>p+x.value,0);return i.jsx("section",{id:"assets",className:"py-16 bg-gray-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"print:hidden",children:[i.jsxs("div",{className:"text-center mb-12 relative",children:[i.jsx("div",{className:"absolute right-0 top-0 hidden md:block",children:i.jsx(ya,{title:"Print Assets",sectionId:"assets"})}),i.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-[#1a365d] mb-4",children:"Family Asset Portfolio"}),i.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Comprehensive view of all family assets. Filter, search, and manage your wealth with ease."})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-8 border border-gray-100",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[i.jsxs("div",{className:"relative flex-1 max-w-md w-full",children:[i.jsx("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("input",{type:"text",placeholder:"Search assets...",value:s,onChange:p=>a(p.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none transition-all"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsx("select",{value:o,onChange:p=>l(p.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none bg-white cursor-pointer",children:xc.map(p=>i.jsx("option",{value:p.value,children:p.label},p.value))}),i.jsx("select",{value:c,onChange:p=>u(p.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none bg-white cursor-pointer",children:m_.map(p=>i.jsx("option",{value:p.value,children:p.label},p.value))}),i.jsxs("label",{className:"flex items-center gap-2 px-4 py-3 border border-gray-200 rounded-xl cursor-pointer hover:bg-gray-50 transition-colors",children:[i.jsx("input",{type:"checkbox",checked:d,onChange:p=>h(p.target.checked),className:"w-4 h-4 text-[#d4af37] border-gray-300 rounded focus:ring-[#d4af37]"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Active Only"})]})]})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("p",{className:"text-gray-600",children:["Showing ",i.jsx("span",{className:"font-semibold text-[#1a365d]",children:f.length})," assets"]}),i.jsxs("p",{className:"text-gray-600",children:["Total Value: ",i.jsx("span",{className:"font-bold text-[#d4af37] text-lg",children:n(m)})]})]})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:xc.map(p=>i.jsx("button",{onClick:()=>l(p.value),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${o===p.value?"bg-[#1a365d] text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"}`,children:p.label},p.value))}),f.length>0?i.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f.map(p=>i.jsx(f_,{asset:p,onSelect:t,onSell:r},p.id))}):i.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl border border-gray-100",children:[i.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No assets found"}),i.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]})]}),i.jsxs("div",{className:"hidden print:block",children:[i.jsxs("div",{className:"text-center mb-8 border-b-2 border-[#1a365d] pb-4",children:[i.jsx("h1",{className:"text-3xl font-serif text-[#1a365d] mb-2",children:"Family Asset Portfolio"}),i.jsxs("p",{className:"text-gray-600",children:["Generated on ",new Date().toLocaleDateString()]}),i.jsxs("p",{className:"text-xl font-bold text-[#d4af37] mt-2",children:["Total Portfolio Value: ",n((e||[]).reduce((p,x)=>p+x.value,0))]})]}),i.jsx("div",{className:"space-y-8",children:xc.filter(p=>p.value!=="all").map(p=>{const x=e.filter(w=>w.category===p.value);return x.length===0?null:i.jsxs("div",{className:"break-inside-avoid",children:[i.jsx("h3",{className:"text-xl font-bold text-[#1a365d] border-b border-[#d4af37] mb-4 pb-1",children:p.label}),i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-gray-100 text-[#1a365d] border-b border-gray-300 font-serif",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Asset Name"}),i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Location"}),i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Category"}),i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Purchase Date"}),i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Documents"}),i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Inheritance Status"}),i.jsx("th",{className:"py-2 px-3 font-semibold text-right",children:"Value"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:x.map(w=>{var g;return i.jsxs("tr",{children:[i.jsx("td",{className:"py-2 px-3 font-medium text-gray-900",children:w.name}),i.jsx("td",{className:"py-2 px-3 text-gray-600",children:w.location||"N/A"}),i.jsx("td",{className:"py-2 px-3 text-gray-600 capitalize",children:w.category}),i.jsx("td",{className:"py-2 px-3 text-gray-600",children:new Date(w.purchaseDate).toLocaleDateString()}),i.jsxs("td",{className:"py-2 px-3 text-gray-600",children:[((g=w.documents)==null?void 0:g.length)||0," Docs"]}),i.jsx("td",{className:"py-2 px-3",children:i.jsx("span",{className:`px-2 py-0.5 rounded text-xs border ${w.status==="active"?"bg-green-50 text-green-700 border-green-200":w.status==="sold"?"bg-red-50 text-red-700 border-red-200":"bg-gray-50 text-gray-700 border-gray-200"}`,children:w.status.toUpperCase()})}),i.jsx("td",{className:"py-2 px-3 text-right font-medium text-gray-900",children:n(w.value)})]},w.id)})}),i.jsx("tfoot",{className:"border-t-2 border-gray-300",children:i.jsxs("tr",{children:[i.jsx("td",{colSpan:6,className:"py-2 px-3 text-right font-bold text-gray-700",children:"Subtotal"}),i.jsx("td",{className:"py-2 px-3 text-right font-bold text-[#1a365d]",children:n(x.reduce((w,g)=>w+g.value,0))})]})})]})]},p.value)})}),i.jsx("div",{className:"mt-8 pt-8 border-t border-gray-300 text-center text-xs text-gray-400",children:i.jsxs("p",{children:["Confidential Family Archive - ",new Date().getFullYear()]})})]})]})})};function g_(e){const t=e.map(r=>r.relation);return{hasChildren:t.some(r=>r==="son"||r==="daughter"),hasSons:t.some(r=>r==="son"),hasDaughters:t.some(r=>r==="daughter"),hasSpouse:t.some(r=>r==="spouse_wife"||r==="spouse_husband"),spouseGender:t.includes("spouse_wife")?"female":t.includes("spouse_husband")?"male":null,hasFather:t.includes("father"),hasMother:t.includes("mother"),hasSiblings:t.some(r=>r==="brother"||r==="sister")}}function rn(e){return{spouse_wife:"Wife",spouse_husband:"Husband",son:"Son",daughter:"Daughter",father:"Father",mother:"Mother",brother:"Brother",sister:"Sister",grandfather:"Grandfather",grandmother:"Grandmother"}[e]}function Nl(e,t){if(e.length===0)return[];const r=g_(e),n=[];let s=1;e.filter(d=>d.relation==="spouse_wife"||d.relation==="spouse_husband").forEach(d=>{let h=0,f="";d.relation==="spouse_wife"?(h=r.hasChildren?1/8:1/4,f=r.hasChildren?"1/8":"1/4"):(h=r.hasChildren?1/4:1/2,f=r.hasChildren?"1/4":"1/2"),n.push({heirId:d.id,heirName:d.name,relation:d.relation,sharePercentage:h*100,shareAmount:t*h,shareFraction:f}),s-=h});const o=e.find(d=>d.relation==="father");if(o){let d=0,h="";r.hasSons?(d=1/6,h="1/6"):r.hasDaughters?(d=1/6,h="1/6 + Residue"):(d=s,h="Residue"),d>0&&d<=s&&(n.push({heirId:o.id,heirName:o.name,relation:o.relation,sharePercentage:d*100,shareAmount:t*d,shareFraction:h}),h==="1/6"||h==="1/6 + Residue"?s-=1/6:s=0)}const l=e.find(d=>d.relation==="mother");if(l){let d=0,h="";r.hasChildren||r.hasSiblings&&e.filter(f=>f.relation==="brother"||f.relation==="sister").length>=2?(d=1/6,h="1/6"):(d=1/3,h="1/3"),d<=s&&(n.push({heirId:l.id,heirName:l.name,relation:l.relation,sharePercentage:d*100,shareAmount:t*d,shareFraction:h}),s-=d)}const c=e.filter(d=>d.relation==="son"),u=e.filter(d=>d.relation==="daughter");if(c.length>0||u.length>0){const d=c.length*2+u.length,h=s/d;c.forEach(f=>{const m=h*2;n.push({heirId:f.id,heirName:f.name,relation:f.relation,sharePercentage:m*100,shareAmount:t*m,shareFraction:`2/${d} of Residue`})}),u.forEach(f=>{const m=h;n.push({heirId:f.id,heirName:f.name,relation:f.relation,sharePercentage:m*100,shareAmount:t*m,shareFraction:`1/${d} of Residue`})}),s=0}else if(u.length>0&&c.length===0)if(u.length===1){const d=Math.min(.5,s);n.push({heirId:u[0].id,heirName:u[0].name,relation:u[0].relation,sharePercentage:d*100,shareAmount:t*d,shareFraction:"1/2"}),s-=d}else{const d=Math.min(.6666666666666666,s),h=d/u.length;u.forEach(f=>{n.push({heirId:f.id,heirName:f.name,relation:f.relation,sharePercentage:h*100,shareAmount:t*h,shareFraction:`1/${u.length} of 2/3`})}),s-=d}if(!r.hasChildren&&!r.hasFather&&s>0){const d=e.filter(f=>f.relation==="brother"),h=e.filter(f=>f.relation==="sister");if(d.length>0||h.length>0){const f=d.length*2+h.length,m=s/f;d.forEach(p=>{const x=m*2;n.push({heirId:p.id,heirName:p.name,relation:p.relation,sharePercentage:x*100,shareAmount:t*x,shareFraction:`2/${f} of Residue`})}),h.forEach(p=>{const x=m;n.push({heirId:p.id,heirName:p.name,relation:p.relation,sharePercentage:x*100,shareAmount:t*x,shareFraction:`1/${f} of Residue`})}),s=0}}if(s>0&&o){const d=n.find(h=>h.heirId===o.id);d&&(d.sharePercentage+=s*100,d.shareAmount+=t*s)}return n}function ur(e){return`${new Intl.NumberFormat("fr-FR",{minimumFractionDigits:0,maximumFractionDigits:0}).format(e)} FCFA`}function En(e){return`${e.toFixed(2)}%`}const x_=[{value:"spouse_wife",label:"Wife"},{value:"spouse_husband",label:"Husband"},{value:"son",label:"Son"},{value:"daughter",label:"Daughter"},{value:"father",label:"Father"},{value:"mother",label:"Mother"},{value:"brother",label:"Brother"},{value:"sister",label:"Sister"},{value:"grandfather",label:"Grandfather"},{value:"grandmother",label:"Grandmother"}],y_=({onClose:e})=>{const{addHeir:t}=qn(),[r,n]=b.useState({name:"",relation:"son",dateOfBirth:"",email:"",phone:""}),s=a=>{a.preventDefault(),t({...r,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(r.name)}&background=random`}),e()};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-[#1a365d] to-[#0f2744]",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Add Family Member"}),i.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"Register a new heir"})]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsx("form",{onSubmit:s,className:"p-6 overflow-y-auto max-h-[60vh]",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),i.jsx("input",{type:"text",required:!0,value:r.name,onChange:a=>n({...r,name:a.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] outline-none",placeholder:"Heir's Name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relation *"}),i.jsx("select",{value:r.relation,onChange:a=>n({...r,relation:a.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] outline-none",children:x_.map(a=>i.jsx("option",{value:a.value,children:a.label},a.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),i.jsx("input",{type:"date",value:r.dateOfBirth,onChange:a=>n({...r,dateOfBirth:a.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (Optional)"}),i.jsx("input",{type:"email",value:r.email,onChange:a=>n({...r,email:a.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] outline-none",placeholder:"contact@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone (Optional)"}),i.jsx("input",{type:"tel",value:r.phone,onChange:a=>n({...r,phone:a.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] outline-none",placeholder:"+1 234 567 890"})]})]})}),i.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex gap-3",children:[i.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 text-gray-600 hover:bg-gray-200 rounded-xl transition-colors font-medium",children:"Cancel"}),i.jsx("button",{onClick:s,className:"flex-1 px-6 py-3 bg-[#d4af37] hover:bg-[#c9a432] text-[#1a365d] rounded-xl transition-colors font-semibold",children:"Add Heir"})]})]})})},v_=({heirs:e=[],onSelectHeir:t})=>{const{user:r}=it(),[n,s]=b.useState(!1),a=e.filter(f=>f.relation==="father"||f.relation==="mother"),o=e.filter(f=>f.relation==="spouse_wife"||f.relation==="spouse_husband"),l=e.filter(f=>f.relation==="son"||f.relation==="daughter"),c=e.filter(f=>f.relation==="brother"||f.relation==="sister"),u=e.filter(f=>f.relation==="grandfather"||f.relation==="grandmother"),d=({heir:f})=>i.jsx("div",{onClick:()=>t(f),className:"group bg-white rounded-2xl p-4 shadow-sm hover:shadow-lg transition-all duration-300 cursor-pointer border border-gray-100 hover:border-[#d4af37]/30",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:f.avatar,alt:f.name,className:"w-16 h-16 rounded-full object-cover ring-2 ring-gray-100 group-hover:ring-[#d4af37] transition-all"}),i.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-white"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-gray-900 truncate group-hover:text-[#1a365d]",children:f.name}),i.jsx("span",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-medium mt-1 ${tn(f.relation)}`,children:rn(f.relation)})]}),i.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-[#d4af37] transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),h=({title:f,icon:m,members:p})=>p.length===0?null:i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"p-2 bg-[#1a365d]/10 rounded-lg",children:m}),i.jsx("h3",{className:"text-lg font-semibold text-[#1a365d]",children:f}),i.jsx("span",{className:"px-2 py-0.5 bg-gray-100 rounded-full text-sm text-gray-600",children:p.length})]}),i.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(x=>i.jsx(d,{heir:x},x.id))})]});return i.jsxs("section",{id:"family",className:"py-16 bg-white",children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"print:hidden",children:[i.jsxs("div",{className:"text-center mb-12 relative",children:[i.jsx("div",{className:"absolute right-0 top-0 hidden md:block",children:i.jsx(ya,{title:"Print Family Tree",sectionId:"family"})}),i.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-[#1a365d] mb-4",children:"Family Heirs"}),i.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto mb-6",children:"View all family members eligible for Islamic inheritance distribution according to Shariah law."}),r&&i.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-[#d4af37] text-[#1a365d] rounded-xl font-semibold hover:bg-[#c9a432] transition-colors",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Family Member"]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-3xl p-8 border border-gray-100",children:[i.jsx(h,{title:"Grandparents",icon:i.jsx("svg",{className:"w-5 h-5 text-[#1a365d]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),members:u}),i.jsx(h,{title:"Parents",icon:i.jsx("svg",{className:"w-5 h-5 text-[#1a365d]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})}),members:a}),i.jsx(h,{title:"Spouse",icon:i.jsx("svg",{className:"w-5 h-5 text-[#1a365d]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),members:o}),i.jsx(h,{title:"Children",icon:i.jsx("svg",{className:"w-5 h-5 text-[#1a365d]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),members:l}),i.jsx(h,{title:"Siblings",icon:i.jsx("svg",{className:"w-5 h-5 text-[#1a365d]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),members:c}),i.jsx("div",{className:"mt-8 p-6 bg-gradient-to-r from-[#1a365d] to-[#0f2744] rounded-2xl text-white",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-3 bg-[#d4af37]/20 rounded-xl",children:i.jsx("svg",{className:"w-8 h-8 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-[#d4af37] mb-2",children:"Islamic Inheritance (Faraid)"}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:"Inheritance shares are calculated according to Quranic principles. Sons receive twice the share of daughters. Spouses, parents, and other relatives receive fixed shares (Dhawu al-Furud) before the remainder is distributed to residuary heirs (Asabah)."})]})]})})]})]}),i.jsxs("div",{className:"hidden print:block",children:[i.jsxs("div",{className:"text-center mb-8 border-b-2 border-[#1a365d] pb-4",children:[i.jsx("h1",{className:"text-3xl font-serif text-[#1a365d] mb-2",children:"Family Tree & Heirs"}),i.jsxs("p",{className:"text-gray-600",children:["Generated on ",new Date().toLocaleDateString()]})]}),i.jsxs("div",{className:"space-y-8",children:[[{title:"Grandparents",members:u},{title:"Parents",members:a},{title:"Spouses",members:o},{title:"Children",members:l},{title:"Siblings",members:c}].map(f=>f.members.length===0?null:i.jsxs("div",{className:"break-inside-avoid",children:[i.jsx("h3",{className:"text-xl font-bold text-[#1a365d] border-b border-[#d4af37] mb-4 pb-1",children:f.title}),i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-gray-100 text-[#1a365d] border-b border-gray-300 font-serif",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Name"}),i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Relation"}),i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Contact Info"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:f.members.map(m=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-2 px-3 font-medium text-gray-900",children:m.name}),i.jsx("td",{className:"py-2 px-3",children:i.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-medium border ${tn(m.relation)}`,children:rn(m.relation)})}),i.jsxs("td",{className:"py-2 px-3 text-gray-600",children:[m.email&&i.jsx("div",{children:m.email}),m.phone&&i.jsx("div",{children:m.phone}),!m.email&&!m.phone&&i.jsx("span",{className:"text-gray-400",children:"-"})]})]},m.id))})]})]},f.title)),e.length===0&&i.jsx("div",{className:"text-center py-8 text-gray-500 italic",children:"No family members recorded."})]}),i.jsx("div",{className:"mt-8 pt-8 border-t border-gray-300 text-center text-xs text-gray-400",children:i.jsxs("p",{children:["Confidential Family Document - ",new Date().getFullYear()]})})]})]}),n&&i.jsx(y_,{onClose:()=>s(!1)})]})},w_=({heirs:e=[],totalAssetValue:t=0,activeAssets:r=[]})=>{const{formatCurrency:n,country:s}=nr(),[a,o]=b.useState(t.toString()),[l,c]=b.useState(!0),u=parseFloat(a)||0,d=b.useMemo(()=>Nl(e||[],u),[e,u]),h=(d||[]).reduce((p,x)=>p+x.shareAmount,0),f=u>0?h/u*100:0,m=d.reduce((p,x)=>{const w=x.relation;return p[w]||(p[w]=[]),p[w].push(x),p},{});return i.jsx("section",{id:"calculator",className:"py-16 bg-gradient-to-br from-[#1a365d] via-[#1e4976] to-[#0f2744]",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-12 relative print:hidden",children:[i.jsx("div",{className:"absolute right-0 top-0 flex gap-2",children:i.jsx(ya,{title:"Print Calculation",sectionId:"calculator"})}),i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-[#d4af37]/20 rounded-full border border-[#d4af37]/30 mb-6",children:[i.jsx("svg",{className:"w-5 h-5 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),i.jsx("span",{className:"text-sm font-medium text-[#d4af37]",children:"Faraid Calculator"})]}),i.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-4",children:"Islamic Inheritance Calculator"}),i.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto",children:"Calculate inheritance distribution according to Shariah principles. Enter an amount to see how it would be distributed among heirs."})]}),i.jsx("div",{className:"print:hidden",children:i.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-1",children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Estate Value"}),i.jsxs("div",{className:"relative mb-4",children:[i.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:s.currencySymbol}),i.jsx("input",{type:"number",value:a,onChange:p=>o(p.target.value),className:"w-full pl-16 pr-4 py-4 bg-white/10 border border-white/20 rounded-xl text-white text-xl font-bold focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none",placeholder:"Enter amount"})]}),i.jsxs("div",{className:"mb-4 px-3 py-2 bg-white/5 rounded-lg flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:s.flag}),i.jsxs("span",{className:"text-sm text-gray-300",children:[s.name," (",s.currency,")"]})]}),i.jsxs("button",{onClick:()=>o(t.toString()),className:"w-full px-4 py-3 bg-[#d4af37]/20 hover:bg-[#d4af37]/30 text-[#d4af37] rounded-xl transition-colors text-sm font-medium border border-[#d4af37]/30",children:["Use Total Portfolio Value (",n(t),")"]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("span",{className:"text-gray-300",children:"Show Breakdown"}),i.jsx("button",{onClick:()=>c(!l),className:`w-12 h-6 rounded-full transition-colors ${l?"bg-[#d4af37]":"bg-gray-600"}`,children:i.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform ${l?"translate-x-6":"translate-x-0.5"}`})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400",children:"Total Heirs"}),i.jsx("span",{className:"text-white font-medium",children:e.length})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400",children:"Distribution"}),i.jsx("span",{className:"text-[#d4af37] font-medium",children:En(f)})]})]})]})]}),i.jsxs("div",{className:"mt-6 bg-white/5 backdrop-blur-sm rounded-2xl p-6 border border-white/10",children:[i.jsx("h4",{className:"text-sm font-semibold text-[#d4af37] mb-4",children:"Quick Reference"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Wife (with children)"}),i.jsx("span",{className:"text-white",children:"1/8"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Wife (no children)"}),i.jsx("span",{className:"text-white",children:"1/4"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Father"}),i.jsx("span",{className:"text-white",children:"1/6"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Mother"}),i.jsx("span",{className:"text-white",children:"1/6"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-400",children:"Son : Daughter"}),i.jsx("span",{className:"text-white",children:"2 : 1"})]})]})]})]}),i.jsxs("div",{className:"lg:col-span-2",children:[i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-[#1a365d]",children:"Distribution Breakdown"}),i.jsx("span",{className:"text-xl font-bold text-[#d4af37]",children:n(u)})]}),i.jsx("div",{className:"mb-8",children:i.jsx("div",{className:"h-4 bg-gray-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full flex",children:d.map((p,x)=>{const w=["bg-blue-500","bg-purple-500","bg-pink-500","bg-amber-500","bg-green-500","bg-indigo-500","bg-red-500","bg-teal-500"];return i.jsx("div",{className:`${w[x%w.length]} transition-all duration-500`,style:{width:`${p.sharePercentage}%`},title:`${p.heirName}: ${En(p.sharePercentage)}`},p.heirId)})})})}),l&&i.jsx("div",{className:"space-y-4",children:d.map((p,x)=>{const w=["border-l-blue-500","border-l-purple-500","border-l-pink-500","border-l-amber-500","border-l-green-500","border-l-indigo-500","border-l-red-500","border-l-teal-500"],g=["bg-blue-50","bg-purple-50","bg-pink-50","bg-amber-50","bg-green-50","bg-indigo-50","bg-red-50","bg-teal-50"];return i.jsx("div",{className:`${g[x%g.length]} ${w[x%w.length]} border-l-4 rounded-lg p-4 transition-all hover:shadow-md`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center",children:i.jsx("span",{className:"text-lg font-bold text-gray-600",children:p.heirName.charAt(0)})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:p.heirName}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${tn(p.relation)}`,children:rn(p.relation)}),i.jsxs("span",{className:"text-xs text-gray-500",children:["Share: ",p.shareFraction]})]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-lg font-bold text-[#1a365d]",children:n(p.shareAmount)}),i.jsx("p",{className:"text-sm text-gray-500",children:En(p.sharePercentage)})]})]})},p.heirId)})}),i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500 text-sm",children:"Total Distributed"}),i.jsx("p",{className:"text-xl font-bold text-[#1a365d]",children:n(h)})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-gray-500 text-sm",children:"Remaining"}),i.jsx("p",{className:"text-xl font-bold text-gray-400",children:n(u-h)})]})]})})]}),i.jsxs("div",{className:"mt-6 bg-white rounded-2xl p-6 shadow-xl",children:[i.jsx("h3",{className:"text-lg font-semibold text-[#1a365d] mb-4",children:"Visual Distribution"}),i.jsx("div",{className:"flex flex-wrap gap-4 justify-center",children:Object.entries(m).map(([p,x])=>{const w=x.reduce((g,y)=>g+y.sharePercentage,0);return i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-2",children:[i.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[i.jsx("circle",{cx:"48",cy:"48",r:"40",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),i.jsx("circle",{cx:"48",cy:"48",r:"40",fill:"none",stroke:"#d4af37",strokeWidth:"8",strokeDasharray:`${w*2.51} 251`,className:"transition-all duration-500"})]}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsxs("span",{className:"text-lg font-bold text-[#1a365d]",children:[w.toFixed(0),"%"]})})]}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${tn(p)}`,children:rn(p)}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[x.length," heir",x.length>1?"s":""]})]},p)})})]})]})]})}),i.jsxs("div",{className:"hidden print:block",children:[i.jsxs("div",{className:"text-center mb-8 border-b-2 border-[#1a365d] pb-4",children:[i.jsx("h1",{className:"text-3xl font-serif text-[#1a365d] mb-2",children:"Inheritance Calculation Report"}),i.jsxs("p",{className:"text-gray-600",children:["Generated on ",new Date().toLocaleDateString()]}),i.jsxs("p",{className:"text-xl font-bold text-[#d4af37] mt-2",children:["Calculated Estate Value: ",n(u)]})]}),i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-gray-100 text-[#1a365d] border-b border-gray-300 font-serif",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Heir Name"}),i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Relation"}),i.jsx("th",{className:"py-2 px-3 font-semibold text-center",children:"Share"}),i.jsx("th",{className:"py-2 px-3 font-semibold text-center",children:"Percentage"}),i.jsx("th",{className:"py-2 px-3 font-semibold text-right",children:"Amount"})]})}),i.jsxs("tbody",{className:"divide-y divide-gray-200",children:[d.map(p=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-2 px-3 font-medium text-gray-900",children:p.heirName}),i.jsx("td",{className:"py-2 px-3",children:i.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-xs font-medium border ${tn(p.relation)}`,children:rn(p.relation)})}),i.jsx("td",{className:"py-2 px-3 text-center text-gray-600 font-mono",children:p.shareFraction}),i.jsx("td",{className:"py-2 px-3 text-center text-gray-600",children:En(p.sharePercentage)}),i.jsx("td",{className:"py-2 px-3 text-right font-bold text-[#1a365d]",children:n(p.shareAmount)})]},p.heirId)),d.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"py-8 text-center text-gray-500",children:"No calculations available."})})]}),i.jsxs("tfoot",{className:"border-t-2 border-gray-300",children:[i.jsxs("tr",{children:[i.jsx("td",{colSpan:4,className:"py-2 px-3 text-right font-bold text-gray-700",children:"Total Distributed"}),i.jsx("td",{className:"py-2 px-3 text-right font-bold text-[#1a365d]",children:n(h)})]}),u-h>0&&i.jsxs("tr",{children:[i.jsx("td",{colSpan:4,className:"py-2 px-3 text-right font-medium text-gray-500",children:"Undistributed Remainder"}),i.jsx("td",{className:"py-2 px-3 text-right font-medium text-gray-500",children:n(u-h)})]})]})]}),i.jsx("div",{className:"mt-8 pt-8 border-t border-gray-300 text-center text-xs text-gray-400",children:i.jsxs("p",{children:["Confidential Family Archive - ",new Date().getFullYear()]})})]})]})})},b_=({heirs:e,totalAssetValue:t,distributions:r})=>{const{user:n}=it(),s=Nl(e,t),a=r.reduce((l,c)=>(c.shares.forEach(u=>{l[u.heirId]=(l[u.heirId]||0)+u.shareAmount}),l),{}),o=Object.values(a).reduce((l,c)=>l+c,0);return i.jsx("section",{className:"py-16 bg-gradient-to-br from-gray-50 to-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-[#1a365d] mb-4",children:"Distribution Dashboard"}),i.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Real-time view of projected inheritance shares and completed distributions."})]}),i.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[i.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-[#1a365d]/10 rounded-xl",children:i.jsx("svg",{className:"w-6 h-6 text-[#1a365d]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Total Portfolio"}),i.jsx("p",{className:"text-2xl font-bold text-[#1a365d]",children:ur(t)})]})]})}),i.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-[#d4af37]/10 rounded-xl",children:i.jsx("svg",{className:"w-6 h-6 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Total Distributed"}),i.jsx("p",{className:"text-2xl font-bold text-[#d4af37]",children:ur(o)})]})]})}),i.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Total Heirs"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.length})]})]})}),i.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:i.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Completed Sales"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:r.length})]})]})})]}),n?i.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-[#1a365d] to-[#0f2744]",children:[i.jsx("h3",{className:"text-xl font-bold text-white",children:"Projected Inheritance"}),i.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"Based on current portfolio value"})]}),i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"space-y-4",children:s.map((l,c)=>{const u=e.find(h=>h.id===l.heirId),d=["bg-blue-500","bg-purple-500","bg-pink-500","bg-amber-500","bg-green-500","bg-indigo-500"];return i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("img",{src:u==null?void 0:u.avatar,alt:l.heirName,className:"w-12 h-12 rounded-full object-cover ring-2 ring-gray-100"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-gray-900 truncate",children:l.heirName}),i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${tn(l.relation)}`,children:rn(l.relation)})]}),i.jsx("span",{className:"font-bold text-[#1a365d]",children:ur(l.shareAmount)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full ${d[c%d.length]} transition-all duration-500`,style:{width:`${l.sharePercentage}%`}})}),i.jsx("span",{className:"text-sm text-gray-500 w-16 text-right",children:En(l.sharePercentage)})]})]})]},l.heirId)})})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-[#d4af37] to-[#c9a432]",children:[i.jsx("h3",{className:"text-xl font-bold text-[#1a365d]",children:"Received Distributions"}),i.jsx("p",{className:"text-[#1a365d]/70 text-sm mt-1",children:"Amounts already distributed from sales"})]}),i.jsx("div",{className:"p-6",children:Object.keys(a).length>0?i.jsx("div",{className:"space-y-4",children:e.map(l=>{const c=a[l.id]||0;if(c===0)return null;const u=s.find(h=>h.heirId===l.id),d=u?c/u.shareAmount*100:0;return i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("img",{src:l.avatar,alt:l.name,className:"w-12 h-12 rounded-full object-cover ring-2 ring-[#d4af37]/30"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-medium text-gray-900 truncate",children:l.name}),i.jsx("span",{className:"font-bold text-[#d4af37]",children:ur(c)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-[#d4af37] transition-all duration-500",style:{width:`${Math.min(d,100)}%`}})}),i.jsxs("span",{className:"text-sm text-gray-500 w-24 text-right",children:[d.toFixed(1),"% received"]})]})]})]},l.id)})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx("svg",{className:"w-12 h-12 text-gray-300 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("p",{className:"text-gray-500",children:"No distributions yet"}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Sell an asset to distribute inheritance"})]})})]})]}):i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:i.jsxs("div",{className:"p-12 text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Detailed Distribution Data"}),i.jsx("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:"Sign in to view detailed inheritance projections, individual heir shares, and distribution history."}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg",children:[i.jsx("svg",{className:"w-5 h-5 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-sm text-gray-600",children:"Individual heir shares"})]}),i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg",children:[i.jsx("svg",{className:"w-5 h-5 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-sm text-gray-600",children:"Distribution progress"})]}),i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg",children:[i.jsx("svg",{className:"w-5 h-5 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-sm text-gray-600",children:"Faraid calculations"})]})]})]})}),n&&r.length>0&&i.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-100",children:i.jsx("h3",{className:"text-xl font-bold text-[#1a365d]",children:"Recent Distributions"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Asset"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Sale Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Amount"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Heirs"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-600",children:"Status"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:r.map(l=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"font-medium text-gray-900",children:l.assetName})}),i.jsx("td",{className:"px-6 py-4 text-gray-600",children:new Date(l.saleDate).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"font-bold text-[#d4af37]",children:ur(l.totalAmount)})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex -space-x-2",children:[l.shares.slice(0,4).map(c=>{const u=e.find(d=>d.id===c.heirId);return i.jsx("img",{src:u==null?void 0:u.avatar,alt:c.heirName,className:"w-8 h-8 rounded-full border-2 border-white object-cover",title:c.heirName},c.heirId)}),l.shares.length>4&&i.jsxs("div",{className:"w-8 h-8 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center text-xs font-medium text-gray-600",children:["+",l.shares.length-4]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${l.status==="completed"?"bg-green-100 text-green-700":l.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:l.status.charAt(0).toUpperCase()+l.status.slice(1)})})]},l.id))})]})})]})]})})},j_=({heirs:e,activeAssets:t})=>{var v;const{formatCurrency:r}=nr(),{branding:n}=it(),[s,a]=b.useState(null),[o,l]=b.useState(!1),[c,u]=b.useState(null),[d,h]=b.useState([]);b.useEffect(()=>{s==="will"||s==="creditor_certificate"?f("CREDITOR"):s==="debtor_certificate"&&f("DEBTOR")},[s]);const f=async j=>{try{const k=(await ae.getLedgerEntries()).filter(S=>S.type===j).map(S=>({id:S.id,title:S.title,amount:S.amount,date:S.date,category:S.category,description:S.description}));h(k)}catch(N){console.error("Failed to fetch ledger:",N)}},m=t.reduce((j,N)=>j+N.value,0),p=(s==="will"?d:[]).reduce((j,N)=>j+N.amount,0),x=m-p,w=()=>{window.print()},g=[{type:"will",label:"Islamic Will"},{type:"deed",label:"Property Deed"},{type:"creditor_certificate",label:"Creditor Certificate"},{type:"debtor_certificate",label:"Debtor Certificate"},{type:"contract",label:"Contract"}],y=j=>{a(j),l(!1),u(null)};return i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>l(!o),className:"px-6 py-2 bg-[#d4af37] text-[#1a365d] font-semibold rounded-lg hover:bg-[#c9a432] transition-colors flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Generate Document",i.jsx("svg",{className:`w-4 h-4 ml-1 transition-transform ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>l(!1)}),i.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-20",children:g.map(j=>i.jsx("button",{onClick:()=>y(j.type),className:"w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50 hover:text-[#1a365d] transition-colors",children:j.label},j.type))})]}),s==="will"&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm print:static print:bg-white print:p-0",children:i.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto print:max-w-none print:max-h-none print:shadow-none print:w-full",children:i.jsxs("div",{className:"p-8 print:p-0",children:[i.jsxs("div",{className:"flex justify-between items-start mb-8 print:hidden",children:[i.jsx("h2",{className:"text-2xl font-bold text-[#1a365d]",children:"Last Will and Testament"}),i.jsx("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"prose max-w-none font-serif text-gray-900 border-[6px] border-[#d4af37]/20 p-12 print:border-none print:p-0",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("div",{className:"text-[#d4af37] text-4xl mb-4",children:""}),i.jsx("h1",{className:"text-3xl font-bold uppercase tracking-widest mb-2",children:"Islamic Will"}),i.jsx("p",{className:"text-sm text-gray-500",children:"(Al-Wasiyya)"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("p",{className:"indent-8 text-justify",children:"I, the undersigned, being of sound mind and memory, do hereby declare this to be my Last Will and Testament, revoking all former wills and codicils made by me."}),i.jsx("h3",{className:"text-xl font-bold border-b border-gray-200 pb-2 mt-8",children:"Article I: Declaration of Faith"}),i.jsx("p",{className:"text-justify",children:"I bear witness that there is no deity arising to worship except Allah, and that Muhammad (peace be upon him) is His Servant and Messenger. I ask my relatives and friends to be patient with the decree of Allah, and to pray for me for mercy and forgiveness."}),i.jsx("h3",{className:"text-xl font-bold border-b border-gray-200 pb-2 mt-8",children:"Article II: Executors and Guardians"}),i.jsxs("p",{children:["I hereby appoint the following person(s) as Executor(s) of this Will to settle my estate in accordance with Islamic Law (Shariah):",i.jsx("br",{}),i.jsx("br",{}),i.jsx("span",{className:"inline-block w-full border-b border-gray-300 h-6"})]}),i.jsx("h3",{className:"text-xl font-bold border-b border-gray-200 pb-2 mt-8",children:"Article III: Assets and Liabilities"}),i.jsxs("p",{children:["My Net Estate Value as of ",new Date().toLocaleDateString()," is approximately ",i.jsx("strong",{children:r(x)}),"."]}),i.jsxs("div",{className:"grid grid-cols-2 gap-8 mt-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold underline mb-2",children:"Assets"}),i.jsx("ul",{className:"list-disc ml-6",children:t.map(j=>i.jsxs("li",{children:[j.name," (",r(j.value),")"]},j.id))}),i.jsxs("p",{className:"mt-2 text-sm font-bold border-t pt-1",children:["Total Assets: ",r(m)]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold underline mb-2",children:"Liabilities (Debts)"}),d.length>0?i.jsx("ul",{className:"list-disc ml-6",children:d.map(j=>i.jsxs("li",{children:[j.title," (",r(j.amount),")"]},j.id))}):i.jsx("p",{className:"italic text-gray-500",children:"None declared."}),i.jsxs("p",{className:"mt-2 text-sm font-bold border-t pt-1",children:["Total Liabilities: ",r(p)]})]})]}),i.jsx("h3",{className:"text-xl font-bold border-b border-gray-200 pb-2 mt-8",children:"Article IV: Settlement of Debts"}),i.jsx("p",{className:"text-justify",children:"I direct my Executor(s) to pay all my legal debts and funeral expenses as soon as possible after my death, before any distribution of my estate to my heirs. Specifically, the following debts should be prioritized:"}),d.length>0?i.jsx("ul",{className:"list-disc ml-6 mt-2",children:d.map(j=>i.jsxs("li",{children:["Amount of ",i.jsx("strong",{children:r(j.amount)})," owed to ",i.jsx("strong",{children:j.title}),"."]},j.id))}):i.jsx("p",{className:"mt-2 italic",children:"I have no known outstanding debts at this time."}),i.jsx("h3",{className:"text-xl font-bold border-b border-gray-200 pb-2 mt-8",children:"Article V: Distribution of Estate"}),i.jsx("p",{className:"text-justify",children:"I direct that the residue of my estate (after payment of debts and expenses) be distributed in accordance with the Islamic Law of Inheritance (Faraid) as prescribed in the Holy Quran (Surah An-Nisa)."}),i.jsx("p",{className:"mt-4 font-semibold",children:"My legal heirs at the time of this writing are:"}),i.jsx("ul",{className:"grid grid-cols-2 gap-2 mt-2",children:e.map(j=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-400"}),j.name," (",j.relation.replace("_"," "),")"]},j.id))}),i.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200",children:[i.jsxs("div",{className:"flex justify-between mt-16 print:mt-32",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-64 border-t border-black mb-2"}),i.jsx("p",{children:"Signature of Testator"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-48 border-t border-black mb-2"}),i.jsx("p",{children:"Date"})]})]}),i.jsxs("div",{className:"flex justify-between mt-16 print:mt-32",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-64 border-t border-black mb-2"}),i.jsx("p",{children:"Witness 1"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-64 border-t border-black mb-2"}),i.jsx("p",{children:"Witness 2"})]})]})]})]})]}),i.jsx("div",{className:"mt-8 flex justify-end gap-4 print:hidden",children:i.jsxs("button",{onClick:w,className:"px-6 py-2 bg-[#1a365d] text-white rounded-lg hover:bg-[#0f2744] font-medium flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Will"]})})]})})}),(s==="creditor_certificate"||s==="debtor_certificate")&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm print:static print:bg-white print:p-0",children:c?i.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto print:max-w-none print:max-h-none print:shadow-none print:w-full",children:i.jsxs("div",{className:"p-8 print:p-0",children:[i.jsxs("div",{className:"flex justify-between items-start mb-8 print:hidden",children:[i.jsx("h2",{className:"text-2xl font-bold text-[#1a365d]",children:"Document Preview"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-[#1a365d] px-3 py-1 rounded hover:bg-gray-100 text-sm",children:"Back"}),i.jsx("button",{onClick:()=>a(null),className:"text-gray-500 hover:text-gray-700",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),i.jsxs("div",{className:"border-[10px] border-double border-[#1a365d] p-12 print:border-[10px] print:border-[#1a365d] print:p-12 relative overflow-hidden bg-white",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-[0.03] pointer-events-none flex items-center justify-center",children:i.jsx("svg",{className:"w-[500px] h-[500px]",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12 2L1 21h22L12 2zm0 3.516L20.297 19H3.703L12 5.516z"})})}),i.jsxs("div",{className:"text-center relative z-10",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h1",{className:"text-4xl font-serif font-bold text-[#1a365d] uppercase tracking-widest mb-1",children:"Certificate"}),i.jsxs("p",{className:"text-[#d4af37] font-serif italic text-xl",children:["of ",s==="creditor_certificate"?"Indebtedness":"Receivable Credit"]})]}),i.jsx("div",{className:"w-full h-px bg-gradient-to-r from-transparent via-[#d4af37] to-transparent my-8"}),i.jsxs("div",{className:"font-serif text-gray-800 space-y-8 max-w-2xl mx-auto",children:[i.jsx("p",{className:"text-lg italic text-gray-500",children:"This is to certify that"}),i.jsx("h2",{className:"text-3xl font-bold text-[#1a365d] border-b-2 border-gray-200 inline-block pb-2 px-8",children:c.title}),i.jsx("p",{className:"text-lg leading-relaxed",children:s==="creditor_certificate"?i.jsxs(i.Fragment,{children:["is a recognized ",i.jsx("strong",{children:"Creditor"})," of ",n,". The Estate acknowledges a debt obligation in the amount of:"]}):i.jsxs(i.Fragment,{children:["is a recognized ",i.jsx("strong",{children:"Debtor"})," to ",n,". The Estate holds a receivable credit claim in the amount of:"]})}),i.jsx("div",{className:"text-4xl font-bold text-[#d4af37] py-4",children:r(c.amount)}),i.jsx("div",{className:"text-left bg-gray-50 p-6 rounded-lg border border-gray-100 text-sm mt-8",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block",children:"Reference ID"}),i.jsx("span",{className:"font-mono text-gray-900",children:c.id.slice(0,8).toUpperCase()})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block",children:"Date of Entry"}),i.jsx("span",{className:"text-gray-900",children:new Date(c.date).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block",children:"Category"}),i.jsx("span",{className:"text-gray-900 capitalize",children:c.category.replace("_"," ").toLowerCase()})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500 block",children:"Description"}),i.jsx("span",{className:"text-gray-900",children:c.description||"N/A"})]})]})}),i.jsx("p",{className:"text-sm text-gray-500 italic mt-8",children:"This certificate serves as an official record of the financial relationship documented in the Family Ledger."})]}),i.jsxs("div",{className:"flex justify-between items-end mt-24",children:[i.jsxs("div",{className:"text-center w-64",children:[i.jsx("div",{className:"border-b border-gray-400 pb-2 mb-2 font-dancing-script text-2xl text-[#1a365d]",children:"Authorized Signatory"}),i.jsxs("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:[n," Administrator"]})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 border-2 border-[#d4af37] rounded-full flex items-center justify-center mx-auto mb-2 opacity-80",children:i.jsxs("span",{className:"text-[#d4af37] font-bold text-xs uppercase",children:["Official",i.jsx("br",{}),"Seal"]})}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date().toLocaleDateString()})]}),i.jsxs("div",{className:"text-center w-64",children:[i.jsx("div",{className:"border-b border-gray-400 pb-2 mb-2 h-10"}),i.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Recipient Signature"})]})]})]})]}),i.jsx("div",{className:"mt-8 flex justify-end gap-4 print:hidden",children:i.jsxs("button",{onClick:w,className:"px-6 py-2 bg-[#1a365d] text-white rounded-lg hover:bg-[#0f2744] font-medium flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Certificate"]})})]})}):i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 text-center print:hidden",children:[i.jsxs("h3",{className:"text-xl font-bold text-[#1a365d] mb-2",children:["Select ",s==="creditor_certificate"?"Creditor":"Debtor"]}),i.jsx("p",{className:"text-gray-500 mb-6",children:"Choose a person to generate the certificate for."}),i.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto mb-6 text-left",children:d.length>0?d.map(j=>i.jsxs("button",{onClick:()=>u(j),className:"w-full p-3 rounded-xl border border-gray-200 hover:border-[#d4af37] hover:bg-[#d4af37]/5 transition-all text-left flex justify-between items-center group",children:[i.jsx("span",{className:"font-semibold text-gray-900 group-hover:text-[#1a365d]",children:j.title}),i.jsx("span",{className:"text-sm font-bold text-[#d4af37]",children:r(j.amount)})]},j.id)):i.jsx("p",{className:"text-center text-gray-400 py-4",children:"No records found."})}),i.jsx("button",{onClick:()=>a(null),className:"w-full px-6 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"})]})}),s&&s!=="will"&&s!=="creditor_certificate"&&s!=="debtor_certificate"&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:(v=g.find(j=>j.type===s))==null?void 0:v.label}),i.jsx("p",{className:"text-gray-500 mb-6",children:"This document template is coming soon."}),i.jsx("button",{onClick:()=>a(null),className:"px-6 py-2 bg-[#1a365d] text-white rounded-lg hover:bg-[#0f2744]",children:"Close"})]})})]})},N_=({heirs:e=[],activeAssets:t=[]})=>{const{documents:r,addDocument:n,deleteDocument:s}=qn(),{user:a}=it(),[o,l]=b.useState("all"),[c,u]=b.useState(!1),[d,h]=b.useState({name:"",type:"other"}),f=o==="all"?r:r.filter(g=>g.type===o),m=g=>{switch(g){case"will":return i.jsx("svg",{className:"w-8 h-8 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});case"deed":return i.jsx("svg",{className:"w-8 h-8 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})});case"certificate":case"creditor_certificate":case"debtor_certificate":return i.jsx("svg",{className:"w-8 h-8 text-amber-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})});case"contract":return i.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});default:return i.jsx("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}},p=g=>{const y={will:"bg-purple-100 text-purple-700",deed:"bg-blue-100 text-blue-700",certificate:"bg-amber-100 text-amber-700",creditor_certificate:"bg-orange-100 text-orange-700",debtor_certificate:"bg-indigo-100 text-indigo-700",contract:"bg-green-100 text-green-700",other:"bg-gray-100 text-gray-700"};return y[g]||y.other},x=()=>{d.name&&(n({name:d.name,type:d.type,uploadDate:new Date().toISOString().split("T")[0],fileSize:`${(Math.random()*5+.5).toFixed(1)} MB`}),h({name:"",type:"other"}),u(!1))},w=(g,y)=>{y.stopPropagation(),confirm("Are you sure you want to delete this document?")&&s(g)};return i.jsx("section",{id:"documents",className:"py-16 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-12",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-[#1a365d] mb-2",children:"Document Vault"}),i.jsx("p",{className:"text-gray-600",children:"Secure storage for wills, property deeds, and legal documents."})]}),a&&i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(j_,{heirs:e,activeAssets:t}),i.jsxs("button",{onClick:()=>u(!0),className:"px-6 py-2 bg-[#1a365d] hover:bg-[#0f2744] text-white font-semibold rounded-lg transition-colors flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"Upload Document"]})]})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:["all","will","deed","certificate","contract","other"].map(g=>i.jsxs("button",{onClick:()=>l(g),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${o===g?"bg-[#1a365d] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[g.charAt(0).toUpperCase()+g.slice(1),g!=="all"&&i.jsxs("span",{className:"ml-2 text-xs opacity-70",children:["(",r.filter(y=>y.type===g).length,")"]})]},g))}),i.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f.map(g=>i.jsxs("div",{className:"group bg-white rounded-2xl p-6 border border-gray-100 hover:border-[#d4af37]/30 hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m(g.type),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(g.type)}`,children:g.type.charAt(0).toUpperCase()+g.type.slice(1)})]}),i.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 group-hover:text-[#1a365d] transition-colors",children:g.name}),i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[i.jsx("span",{children:new Date(g.uploadDate).toLocaleDateString()}),i.jsx("span",{children:g.fileSize})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex gap-2",children:[i.jsxs("button",{className:"flex-1 px-3 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-1",children:[i.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View"]}),a?i.jsx("button",{onClick:y=>w(g.id,y),className:"px-3 py-2 bg-red-50 hover:bg-red-100 text-red-600 text-sm font-medium rounded-lg transition-colors flex items-center justify-center",title:"Delete Document",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}):i.jsxs("button",{className:"flex-1 px-3 py-2 bg-[#d4af37]/10 hover:bg-[#d4af37]/20 text-[#d4af37] text-sm font-medium rounded-lg transition-colors flex items-center justify-center gap-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]})]})]},g.id))}),f.length===0&&i.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded-2xl",children:[i.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No documents found"}),i.jsx("p",{className:"text-gray-500",children:"Upload documents to get started"})]}),c&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Upload Document"}),i.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Name"}),i.jsx("input",{type:"text",value:d.name,onChange:g=>h({...d,name:g.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none",placeholder:"Enter document name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type"}),i.jsxs("select",{value:d.type,onChange:g=>h({...d,type:g.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none bg-white",children:[i.jsx("option",{value:"will",children:"Will"}),i.jsx("option",{value:"deed",children:"Property Deed"}),i.jsx("option",{value:"certificate",children:"Certificate"}),i.jsx("option",{value:"contract",children:"Contract"}),i.jsx("option",{value:"other",children:"Other"})]})]}),i.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-8 text-center hover:border-[#d4af37] transition-colors cursor-pointer",children:[i.jsx("svg",{className:"w-12 h-12 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),i.jsx("p",{className:"text-gray-600",children:"Click to upload or drag and drop"}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"PDF, DOC, or image files"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-3 text-gray-600 hover:bg-gray-100 rounded-xl transition-colors font-medium",children:"Cancel"}),i.jsx("button",{onClick:x,disabled:!d.name,className:"flex-1 px-4 py-3 bg-[#1a365d] hover:bg-[#0f2744] text-white rounded-xl transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Upload"})]})]})})]})})},k_=({transactions:e,distributions:t})=>{const r=[...e.map(a=>({...a,eventType:"transaction"})),...t.map(a=>({id:a.id,type:"distribution_completed",description:`${a.assetName} sold and distributed`,amount:a.totalAmount,date:a.saleDate,eventType:"distribution",distribution:a}))].sort((a,o)=>new Date(o.date).getTime()-new Date(a.date).getTime()),n=a=>{switch(a){case"asset_added":return i.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})});case"asset_sold":case"distribution_completed":return i.jsx("div",{className:"p-2 bg-[#d4af37]/20 rounded-full",children:i.jsx("svg",{className:"w-5 h-5 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})});case"document_uploaded":return i.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})});case"heir_added":return i.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:i.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})});default:return i.jsx("div",{className:"p-2 bg-gray-100 rounded-full",children:i.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}},s=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return i.jsx("section",{id:"history",className:"py-16 bg-gray-50",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-12 relative",children:[i.jsx("div",{className:"absolute right-0 top-0 hidden md:block",children:i.jsx(ya,{title:"Print History"})}),i.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-[#1a365d] mb-4",children:"Transaction History"}),i.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Complete timeline of all asset additions, sales, distributions, and document uploads."})]}),i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gray-200"}),i.jsx("div",{className:"space-y-6",children:r.map((a,o)=>i.jsxs("div",{className:"relative flex gap-6",children:[i.jsx("div",{className:"relative z-10 bg-white",children:n(a.type)}),i.jsxs("div",{className:"flex-1 bg-white rounded-xl p-5 shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:a.description}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s(a.date)})]}),a.amount&&i.jsx("span",{className:`text-lg font-bold ${a.type==="asset_sold"||a.type==="distribution_completed"?"text-[#d4af37]":"text-green-600"}`,children:ur(a.amount)})]}),a.eventType==="distribution"&&a.distribution&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Distribution Breakdown:"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:a.distribution.shares.slice(0,6).map(l=>i.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-sm",children:[i.jsx("p",{className:"font-medium text-gray-900 truncate",children:l.heirName}),i.jsx("p",{className:"text-[#d4af37] font-semibold",children:ur(l.shareAmount)})]},l.heirId))}),a.distribution.shares.length>6&&i.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["+",a.distribution.shares.length-6," more heirs"]})]})]})]},a.id))}),r.length===0&&i.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl border border-gray-100",children:[i.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No transactions yet"}),i.jsx("p",{className:"text-gray-500",children:"Transaction history will appear here"})]})]})})]})})},S_=()=>{const{branding:e}=it(),t=r=>{const n=document.getElementById(r);n&&n.scrollIntoView({behavior:"smooth"})};return i.jsxs("footer",{className:"bg-[#1a365d] text-white",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-12",children:[i.jsxs("div",{className:"lg:col-span-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-[#d4af37] rounded-xl flex items-center justify-center",children:i.jsx("svg",{className:"w-7 h-7 text-[#1a365d]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:e}),i.jsx("p",{className:"text-sm text-gray-400",children:"Family Legacy"})]})]}),i.jsx("p",{className:"text-gray-400 leading-relaxed mb-6",children:"Preserve your family legacy with Shariah-compliant asset management and Islamic inheritance distribution."}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("a",{href:"#",className:"p-2 bg-white/10 hover:bg-[#d4af37] rounded-lg transition-colors group",children:i.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-[#1a365d]",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),i.jsx("a",{href:"#",className:"p-2 bg-white/10 hover:bg-[#d4af37] rounded-lg transition-colors group",children:i.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-[#1a365d]",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),i.jsx("a",{href:"#",className:"p-2 bg-white/10 hover:bg-[#d4af37] rounded-lg transition-colors group",children:i.jsx("svg",{className:"w-5 h-5 text-gray-400 group-hover:text-[#1a365d]",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-6 text-[#d4af37]",children:"Quick Links"}),i.jsx("ul",{className:"space-y-3",children:[{label:"Asset Portfolio",id:"assets"},{label:"Family Heirs",id:"family"},{label:"Inheritance Calculator",id:"calculator"},{label:"Document Vault",id:"documents"},{label:"Transaction History",id:"history"}].map(r=>i.jsx("li",{children:i.jsx("button",{onClick:()=>t(r.id),className:"text-gray-400 hover:text-[#d4af37] transition-colors",children:r.label})},r.id))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-6 text-[#d4af37]",children:"Islamic Inheritance"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#d4af37] transition-colors",children:"Faraid Rules"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#d4af37] transition-colors",children:"Shariah Compliance"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#d4af37] transition-colors",children:"Heir Categories"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#d4af37] transition-colors",children:"Distribution Guide"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#d4af37] transition-colors",children:"FAQ"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-6 text-[#d4af37]",children:"Contact Us"}),i.jsxs("ul",{className:"space-y-4",children:[i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsxs("svg",{className:"w-5 h-5 text-[#d4af37] mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),i.jsx("span",{className:"text-gray-400",children:"Dubai International Financial Centre, UAE"})]}),i.jsxs("li",{className:"flex items-center gap-3",children:[i.jsx("svg",{className:"w-5 h-5 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),i.jsx("a",{href:"mailto:support@mirath.com",className:"text-gray-400 hover:text-[#d4af37] transition-colors",children:"support@mirath.com"})]}),i.jsxs("li",{className:"flex items-center gap-3",children:[i.jsx("svg",{className:"w-5 h-5 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),i.jsx("a",{href:"tel:+97142001234",className:"text-gray-400 hover:text-[#d4af37] transition-colors",children:"+971 4 200 1234"})]})]})]})]})}),i.jsx("div",{className:"border-t border-white/10",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[i.jsx("p",{className:"text-gray-400 text-sm",children:" 2026 Mirath Family Legacy. All rights reserved."}),i.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[i.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#d4af37] transition-colors",children:"Privacy Policy"}),i.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#d4af37] transition-colors",children:"Terms of Service"}),i.jsx("a",{href:"#",className:"text-gray-400 hover:text-[#d4af37] transition-colors",children:"Shariah Board"})]})]})})})]})},__=[{value:"property",label:"Property"},{value:"investment",label:"Investment"},{value:"vehicle",label:"Vehicle"},{value:"business",label:"Business"},{value:"cash",label:"Cash"},{value:"other",label:"Others"}],E_=({asset:e,onClose:t,onSell:r})=>{var p;const{user:n}=it(),{formatCurrency:s}=nr(),{updateAsset:a,deleteAsset:o}=qn(),[l,c]=b.useState(!1),[u,d]=b.useState({name:e.name,value:e.value.toString(),category:e.category,description:e.description,location:e.location||"",purchaseDate:e.purchaseDate,isForSale:e.isForSale!==void 0?e.isForSale:!0}),h=e.category.charAt(0).toUpperCase()+e.category.slice(1),f=()=>{a(e.id,{name:u.name,value:parseFloat(u.value)||0,category:u.category,description:u.description,location:u.location||void 0,purchaseDate:u.purchaseDate,isForSale:u.isForSale}),c(!1)},m=()=>{confirm("Are you sure you want to delete this asset?")&&(o(e.id),t())};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"relative h-64 shrink-0",children:[i.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent"}),i.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-full transition-colors",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsxs("div",{className:"absolute top-4 left-4 flex gap-2",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${e.status==="active"?"bg-green-500 text-white":e.status==="sold"?"bg-red-500 text-white":"bg-yellow-500 text-white"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${oy(e.category)}`,children:h})]}),i.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:l?i.jsxs("div",{className:"space-y-2",children:[i.jsx("input",{type:"text",value:u.name,onChange:x=>d({...u,name:x.target.value}),className:"w-full px-3 py-2 bg-white/10 text-white placeholder-white/50 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#d4af37]"}),i.jsx("input",{type:"number",value:u.value,onChange:x=>d({...u,value:x.target.value}),className:"w-full px-3 py-2 bg-white/10 text-[#d4af37] placeholder-white/50 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#d4af37] font-bold"})]}):i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:e.name}),i.jsx("p",{className:"text-2xl font-bold text-[#d4af37]",children:s(e.value)})]})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Description"}),l?i.jsx("textarea",{value:u.description,onChange:x=>d({...u,description:x.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#d4af37]",rows:3}):i.jsx("p",{className:"text-gray-700 leading-relaxed",children:e.description})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[i.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),i.jsx("span",{className:"text-sm",children:"Location"})]}),l?i.jsx("input",{type:"text",value:u.location,onChange:x=>d({...u,location:x.target.value}),className:"w-full px-2 py-1 border border-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-[#d4af37]"}):i.jsx("p",{className:"font-semibold text-gray-900",children:e.location||"N/A"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:"text-sm",children:"Purchase Date"})]}),l?i.jsx("input",{type:"date",value:u.purchaseDate,onChange:x=>d({...u,purchaseDate:x.target.value}),className:"w-full px-2 py-1 border border-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-[#d4af37]"}):i.jsx("p",{className:"font-semibold text-gray-900",children:new Date(e.purchaseDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),i.jsx("span",{className:"text-sm",children:"Category"})]}),l?i.jsx("select",{value:u.category,onChange:x=>d({...u,category:x.target.value}),className:"w-full px-2 py-1 border border-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-[#d4af37]",children:__.map(x=>i.jsx("option",{value:x.value,children:x.label},x.value))}):i.jsx("p",{className:"font-semibold text-gray-900",children:h})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("span",{className:"text-sm",children:"Documents"})]}),i.jsxs("p",{className:"font-semibold text-gray-900",children:[((p=e.documents)==null?void 0:p.length)||0," files"]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl col-span-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-500 mb-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-sm",children:"Inheritance Status"})]}),l?i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("input",{type:"checkbox",id:"editIsForSale",checked:u.isForSale,onChange:x=>d({...u,isForSale:x.target.checked}),className:"w-5 h-5 text-[#d4af37] border-gray-300 rounded focus:ring-[#d4af37]"}),i.jsx("label",{htmlFor:"editIsForSale",className:"text-sm font-medium text-gray-700 cursor-pointer select-none",children:"Asset is for sale (Include in Inheritance)"})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`w-3 h-3 rounded-full ${e.isForSale?"bg-green-500":"bg-gray-400"}`}),i.jsx("p",{className:"font-semibold text-gray-900",children:e.isForSale?"Included in Inheritance (For Sale)":"Excluded from Inheritance (Not For Sale)"})]})]})]}),i.jsxs("div",{className:"p-4 bg-gradient-to-r from-[#1a365d]/5 to-[#d4af37]/5 rounded-xl border border-[#d4af37]/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-5 h-5 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"font-semibold text-[#1a365d]",children:"Inheritance Note"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:"When this asset is sold, the proceeds will be automatically distributed among eligible heirs according to Islamic inheritance (Faraid) rules."})]})]}),i.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex flex-wrap gap-3",children:l?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-6 py-3 text-gray-600 hover:bg-gray-200 rounded-xl transition-colors font-medium border border-gray-200",children:"Cancel"}),i.jsx("button",{onClick:f,className:"flex-1 px-6 py-3 bg-[#1a365d] text-white rounded-xl hover:bg-[#0f2744] transition-colors font-semibold",children:"Save Changes"})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:t,className:"px-6 py-3 text-gray-600 hover:bg-gray-200 rounded-xl transition-colors font-medium",children:"Close"}),n&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>c(!0),className:"flex-1 px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors font-semibold flex items-center justify-center gap-2",children:"Edit"}),i.jsx("button",{onClick:m,className:"flex-1 px-6 py-3 bg-red-50 hover:bg-red-100 text-red-600 rounded-xl transition-colors font-semibold flex items-center justify-center gap-2",children:"Delete"})]}),e.status==="active"&&i.jsxs("button",{onClick:()=>r(e),className:"flex-1 px-6 py-3 bg-[#d4af37] hover:bg-[#c9a432] text-[#1a365d] rounded-xl transition-colors font-semibold flex items-center justify-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n?"Sell Asset":"Sign In to Manager",!n&&i.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})]})]})})]})})},C_=[{value:"spouse_wife",label:"Wife"},{value:"spouse_husband",label:"Husband"},{value:"son",label:"Son"},{value:"daughter",label:"Daughter"},{value:"father",label:"Father"},{value:"mother",label:"Mother"},{value:"brother",label:"Brother"},{value:"sister",label:"Sister"},{value:"grandfather",label:"Grandfather"},{value:"grandmother",label:"Grandmother"}],T_=({heir:e,allHeirs:t,totalAssetValue:r,onClose:n})=>{const{user:s}=it(),{updateHeir:a,deleteHeir:o}=qn(),c=Nl(t,r).find(x=>x.heirId===e.id),[u,d]=b.useState(!1),[h,f]=b.useState({name:e.name,relation:e.relation,dateOfBirth:e.dateOfBirth||"",email:e.email||"",phone:e.phone||""}),m=()=>{a(e.id,{name:h.name,relation:h.relation,dateOfBirth:h.dateOfBirth,email:h.email,phone:h.phone}),d(!1)},p=()=>{confirm("Are you sure you want to remove this family member?")&&(o(e.id),n())};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-lg w-full overflow-hidden flex flex-col max-h-[90vh]",children:[i.jsxs("div",{className:"relative bg-gradient-to-br from-[#1a365d] to-[#0f2744] p-8 text-center shrink-0",children:[i.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 hover:bg-white/10 rounded-full transition-colors",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsxs("div",{className:"relative inline-block mb-4",children:[i.jsx("img",{src:e.avatar,alt:e.name,className:"w-24 h-24 rounded-full object-cover ring-4 ring-[#d4af37]"}),i.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-green-500 rounded-full border-4 border-[#1a365d] flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),u?i.jsxs("div",{className:"space-y-2 max-w-xs mx-auto",children:[i.jsx("input",{type:"text",value:h.name,onChange:x=>f({...h,name:x.target.value}),className:"w-full px-3 py-2 bg-white/10 text-white placeholder-white/50 border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#d4af37] text-center"}),i.jsx("select",{value:h.relation,onChange:x=>f({...h,relation:x.target.value}),className:"w-full px-3 py-2 bg-white/10 text-white border border-white/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#d4af37] text-center [&>option]:text-black",children:C_.map(x=>i.jsx("option",{value:x.value,children:x.label},x.value))})]}):i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:e.name}),i.jsx("span",{className:`inline-block px-4 py-1 rounded-full text-sm font-medium ${tn(e.relation)}`,children:rn(e.relation)})]})]}),i.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),u?i.jsx("input",{type:"email",value:h.email,onChange:x=>f({...h,email:x.target.value}),className:"w-full px-2 py-1 border border-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-[#d4af37]",placeholder:"Optional"}):i.jsx("p",{className:"font-medium text-gray-900",children:e.email||"N/A"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[i.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Phone"}),u?i.jsx("input",{type:"tel",value:h.phone,onChange:x=>f({...h,phone:x.target.value}),className:"w-full px-2 py-1 border border-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-[#d4af37]",placeholder:"Optional"}):i.jsx("p",{className:"font-medium text-gray-900",children:e.phone||"N/A"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[i.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:i.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Date of Birth"}),u?i.jsx("input",{type:"date",value:h.dateOfBirth,onChange:x=>f({...h,dateOfBirth:x.target.value}),className:"w-full px-2 py-1 border border-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-[#d4af37]"}):i.jsx("p",{className:"font-medium text-gray-900",children:e.dateOfBirth?new Date(e.dateOfBirth).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"})]})]})]}),s?c&&i.jsxs("div",{className:"p-4 bg-gradient-to-r from-[#d4af37]/10 to-[#d4af37]/5 rounded-xl border border-[#d4af37]/30",children:[i.jsxs("h3",{className:"font-semibold text-[#1a365d] mb-4 flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-[#d4af37]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Projected Inheritance"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-[#d4af37]",children:ur(c.shareAmount)}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Projected Amount"})]}),i.jsxs("div",{className:"text-center p-3 bg-white rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-[#1a365d]",children:En(c.sharePercentage)}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Share Percentage"})]})]}),i.jsx("div",{className:"mt-4 pt-4 border-t border-[#d4af37]/20",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Islamic Share (Faraid)"}),i.jsx("span",{className:"font-semibold text-[#1a365d]",children:c.shareFraction})]})})]}):i.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200 text-center",children:[i.jsx("svg",{className:"w-10 h-10 text-gray-400 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),i.jsx("h3",{className:"font-semibold text-gray-700 mb-1",children:"Inheritance Details Locked"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Sign in to view projected inheritance amounts and share percentages."})]})]}),i.jsx("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex gap-3",children:u?i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-6 py-3 text-gray-600 hover:bg-gray-200 rounded-xl transition-colors font-medium border border-gray-200",children:"Cancel"}),i.jsx("button",{onClick:m,className:"flex-1 px-6 py-3 bg-[#1a365d] text-white rounded-xl hover:bg-[#0f2744] transition-colors font-semibold",children:"Save Changes"})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:n,className:"flex-1 px-6 py-3 text-gray-600 hover:bg-gray-200 rounded-xl transition-colors font-medium",children:"Close"}),s&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>d(!0),className:"flex-1 px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-colors font-semibold",children:"Edit"}),i.jsx("button",{onClick:p,className:"flex-1 px-6 py-3 bg-red-50 hover:bg-red-100 text-red-600 rounded-xl transition-colors font-semibold",children:"Delete"})]})]})})]})})},P_=({asset:e,heirs:t,onClose:r,onConfirmSale:n})=>{const{formatCurrency:s}=nr(),[a,o]=b.useState(1),[l,c]=b.useState(e.value.toString()),[u,d]=b.useState(!1),h=parseFloat(l)||0,f=Nl(t,h),m=()=>{d(!0),setTimeout(()=>{const p={id:`dist-${Date.now()}`,assetId:e.id,assetName:e.name,totalAmount:h,saleDate:new Date().toISOString().split("T")[0],shares:f,status:"completed"};n(e,h,p),d(!1)},1500)};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-[#1a365d] to-[#0f2744] p-6 text-white",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Asset Sale & Distribution"}),i.jsx("p",{className:"text-gray-300 mt-1",children:"Sell asset and distribute proceeds according to Islamic inheritance"})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"flex items-center gap-4 mt-6",children:[1,2,3].map(p=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-semibold transition-all ${a>=p?"bg-[#d4af37] text-[#1a365d]":"bg-white/20 text-white"}`,children:a>p?i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):p}),i.jsx("span",{className:`text-sm ${a>=p?"text-white":"text-gray-400"}`,children:p===1?"Set Price":p===2?"Review Distribution":"Confirm"}),p<3&&i.jsx("div",{className:`w-12 h-0.5 ${a>p?"bg-[#d4af37]":"bg-white/20"}`})]},p))})]}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[a===1&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex gap-6 p-4 bg-gray-50 rounded-xl",children:[i.jsx("img",{src:e.image,alt:e.name,className:"w-32 h-32 object-cover rounded-lg"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e.name}),i.jsx("p",{className:"text-gray-500 mt-1",children:e.description}),i.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[i.jsx("span",{className:"text-sm text-gray-500",children:"Current Value:"}),i.jsx("span",{className:"text-lg font-bold text-[#1a365d]",children:s(e.value)})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sale Price"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-xl",children:"$"}),i.jsx("input",{type:"number",value:l,onChange:p=>c(p.target.value),className:"w-full pl-10 pr-4 py-4 border border-gray-200 rounded-xl text-2xl font-bold focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none",placeholder:"Enter sale price"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Enter the final sale price for inheritance distribution calculation"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>c(e.value.toString()),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium transition-colors",children:"Current Value"}),i.jsx("button",{onClick:()=>c((e.value*1.1).toString()),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium transition-colors",children:"+10%"}),i.jsx("button",{onClick:()=>c((e.value*.9).toString()),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium transition-colors",children:"-10%"})]})]}),a===2&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center p-4 bg-[#d4af37]/10 rounded-xl border border-[#d4af37]/30",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount to Distribute"}),i.jsx("p",{className:"text-3xl font-bold text-[#1a365d]",children:s(h)})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:"Inheritance Distribution (Faraid)"}),f.map(p=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-[#1a365d] flex items-center justify-center text-white font-bold",children:p.heirName.charAt(0)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:p.heirName}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${tn(p.relation)}`,children:rn(p.relation)}),i.jsxs("span",{className:"text-xs text-gray-500",children:["(",p.shareFraction,")"]})]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-lg font-bold text-[#1a365d]",children:s(p.shareAmount)}),i.jsx("p",{className:"text-sm text-gray-500",children:En(p.sharePercentage)})]})]},p.heirId))]}),i.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-xl",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Distribution Visualization"}),i.jsx("div",{className:"h-6 bg-gray-100 rounded-full overflow-hidden flex",children:f.map((p,x)=>{const w=["bg-blue-500","bg-purple-500","bg-pink-500","bg-amber-500","bg-green-500","bg-indigo-500"];return i.jsx("div",{className:`${w[x%w.length]} transition-all duration-500 flex items-center justify-center text-white text-xs font-medium`,style:{width:`${p.sharePercentage}%`},children:p.sharePercentage>10&&`${p.sharePercentage.toFixed(0)}%`},p.heirId)})}),i.jsx("div",{className:"flex flex-wrap gap-3 mt-3",children:f.map((p,x)=>{const w=["bg-blue-500","bg-purple-500","bg-pink-500","bg-amber-500","bg-green-500","bg-indigo-500"];return i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${w[x%w.length]}`}),i.jsx("span",{className:"text-gray-600",children:p.heirName})]},p.heirId)})})]})]}),a===3&&i.jsx("div",{className:"space-y-6",children:u?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-[#d4af37] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Processing Sale"}),i.jsx("p",{className:"text-gray-500",children:"Calculating distributions and updating records..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-xl border border-green-200",children:[i.jsx("svg",{className:"w-16 h-16 text-green-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Ready to Complete Sale"}),i.jsx("p",{className:"text-gray-600",children:"Please review the details below and confirm the sale"})]}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Asset"}),i.jsx("p",{className:"font-semibold text-gray-900",children:e.name})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sale Price"}),i.jsx("p",{className:"font-semibold text-[#d4af37]",children:s(h)})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Heirs Receiving"}),i.jsxs("p",{className:"font-semibold text-gray-900",children:[f.length," family members"]})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Distribution Method"}),i.jsx("p",{className:"font-semibold text-gray-900",children:"Islamic Inheritance (Faraid)"})]})]}),i.jsx("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-200",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("svg",{className:"w-6 h-6 text-amber-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-amber-800",children:"Important Notice"}),i.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"This action will mark the asset as sold and record the inheritance distribution. All heirs will be notified of their respective shares."})]})]})})]})})]}),i.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 flex justify-between",children:[i.jsx("button",{onClick:a===1?r:()=>o(a-1),disabled:u,className:"px-6 py-3 text-gray-600 hover:text-gray-900 font-medium transition-colors disabled:opacity-50",children:a===1?"Cancel":"Back"}),a<3?i.jsx("button",{onClick:()=>o(a+1),disabled:h<=0,className:"px-8 py-3 bg-[#1a365d] hover:bg-[#0f2744] text-white font-semibold rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue"}):i.jsx("button",{onClick:m,disabled:u,className:"px-8 py-3 bg-[#d4af37] hover:bg-[#c9a432] text-[#1a365d] font-semibold rounded-xl transition-colors disabled:opacity-50 flex items-center gap-2",children:u?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-[#1a365d] border-t-transparent rounded-full animate-spin"}),"Processing..."]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Confirm Sale & Distribute"]})})]})]})})},A_=[{value:"property",label:"Property"},{value:"investment",label:"Investment"},{value:"vehicle",label:"Vehicle"},{value:"business",label:"Business"},{value:"cash",label:"Cash"},{value:"other",label:"Others"}],R_={property:"https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=800&q=80",investment:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?w=800&q=80",vehicle:"https://images.unsplash.com/photo-1494976388531-d1058494cdd8?w=800&q=80",business:"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?w=800&q=80",cash:"https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=800&q=80",other:"https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?w=800&q=80"},O_=({onClose:e,onSuccess:t})=>{const{addAsset:r}=qn(),[n,s]=b.useState({name:"",category:"property",value:"",description:"",location:"",purchaseDate:new Date().toISOString().split("T")[0],isForSale:!0}),[a,o]=b.useState(!1),l=async c=>{if(c.preventDefault(),n.name&&n.value){o(!0);try{const u={name:n.name,category:n.category,value:parseFloat(n.value)||0,description:n.description,location:n.location||void 0,purchaseDate:n.purchaseDate,image:R_[n.category],status:"active",isForSale:n.isForSale};await r(u),t&&t(u),e()}catch(u){console.error("Error adding asset:",u),alert(`Failed to add asset: ${u.message||"Unknown error"}
Target API: ${ae.getBaseUrl()}`)}finally{o(!1)}}};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-[#1a365d] to-[#0f2744]",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Add New Asset"}),i.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"Register a new family asset"})]}),i.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsx("form",{onSubmit:l,className:"p-6 overflow-y-auto max-h-[60vh]",children:i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Asset Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:n.name,onChange:c=>s({...n,name:c.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none",placeholder:"e.g., Family Villa",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:A_.map(c=>i.jsx("button",{type:"button",onClick:()=>s({...n,category:c.value}),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${n.category===c.value?"bg-[#1a365d] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:c.label},c.value))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Value ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("div",{className:"relative",children:i.jsx("input",{type:"number",value:n.value,onChange:c=>s({...n,value:c.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none",placeholder:"0",required:!0})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("textarea",{value:n.description,onChange:c=>s({...n,description:c.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none resize-none",rows:3,placeholder:"Brief description of the asset..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location (Optional)"}),i.jsx("input",{type:"text",value:n.location,onChange:c=>s({...n,location:c.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purchase Date"}),i.jsx("input",{type:"date",value:n.purchaseDate,onChange:c=>s({...n,purchaseDate:c.target.value}),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none"})]}),i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[i.jsx("input",{type:"checkbox",id:"isForSale",checked:n.isForSale,onChange:c=>s({...n,isForSale:c.target.checked}),className:"w-5 h-5 text-[#d4af37] border-gray-300 rounded focus:ring-[#d4af37]"}),i.jsx("label",{htmlFor:"isForSale",className:"text-sm font-medium text-gray-700 cursor-pointer select-none",children:"Asset is for sale (include in inheritance calculation)"})]})]})}),i.jsxs("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex gap-3",children:[i.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-3 text-gray-600 hover:bg-gray-200 rounded-xl transition-colors font-medium",children:"Cancel"}),i.jsx("button",{onClick:l,disabled:!n.name||!n.value||a,className:"flex-1 px-6 py-3 bg-[#d4af37] hover:bg-[#c9a432] text-[#1a365d] rounded-xl transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsxs("svg",{className:"animate-spin h-5 w-5 text-[#1a365d]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Asset"]})})]})]})})},L_=({message:e,amount:t,onClose:r})=>(b.useEffect(()=>{const n=setTimeout(r,5e3);return()=>clearTimeout(n)},[r]),i.jsx("div",{className:"fixed bottom-6 right-6 z-50 animate-slide-up",children:i.jsx("div",{className:"bg-white rounded-2xl shadow-2xl border border-green-100 p-4 max-w-sm",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:"Success!"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e}),t&&i.jsx("p",{className:"text-lg font-bold text-[#d4af37] mt-2",children:ur(t)})]}),i.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:i.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})),I_=({isOpen:e,onClose:t,initialMode:r="signin"})=>{const{signIn:n,signUp:s,resetPassword:a}=it(),[o,l]=b.useState(r),[c,u]=b.useState(""),[d,h]=b.useState(""),[f,m]=b.useState(""),[p,x]=b.useState(""),[w,g]=b.useState(!1),[y,v]=b.useState(null),[j,N]=b.useState(null);if(!e)return null;const k=()=>{u(""),h(""),m(""),x(""),v(null),N(null)},S=_=>{l(_),k()},P=async _=>{_.preventDefault(),g(!0),v(null);const{error:O}=await n(c,d);O?(v(O.message),g(!1)):(g(!1),t())},T=async _=>{_.preventDefault(),g(!0),v(null);const{error:O}=await a(c);O?v(O.message):N("Password reset email sent! Check your inbox."),g(!1)};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full overflow-hidden",children:[i.jsxs("div",{className:"relative bg-gradient-to-br from-[#1a365d] to-[#0f2744] p-8 text-center",children:[i.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-white/10 rounded-full transition-colors",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("div",{className:"w-16 h-16 bg-[#d4af37] rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-10 h-10 text-[#1a365d]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("h2",{className:"text-2xl font-bold text-white mb-1",children:[o==="signin"&&"Welcome Back",o==="signup"&&"Create Account",o==="reset"&&"Reset Password"]}),i.jsxs("p",{className:"text-gray-300 text-sm",children:[o==="signin"&&"Sign in to manage your family assets",o==="signup"&&"Join Mirath to secure your family legacy",o==="reset"&&"Enter your email to reset your password"]})]}),i.jsxs("div",{className:"p-6",children:[y&&i.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),y]}),j&&i.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-xl text-green-700 text-sm flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),j]}),o==="signin"&&i.jsxs("form",{onSubmit:P,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username or Email"}),i.jsx("input",{type:"text",value:c,onChange:_=>u(_.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none transition-all",placeholder:"admin or user@example.com",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),i.jsx("input",{type:"password",value:d,onChange:_=>h(_.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none transition-all",placeholder:"Enter your password",required:!0})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"button",onClick:()=>S("reset"),className:"text-sm text-[#1a365d] hover:text-[#d4af37] transition-colors",children:"Forgot password?"})}),i.jsx("button",{type:"submit",disabled:w,className:"w-full px-6 py-3 bg-[#1a365d] hover:bg-[#0f2744] text-white rounded-xl transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:w?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):"Sign In"})]}),o==="reset"&&i.jsxs("form",{onSubmit:T,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),i.jsx("input",{type:"email",value:c,onChange:_=>u(_.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#d4af37] focus:border-transparent outline-none transition-all",placeholder:"you@example.com",required:!0})]}),i.jsx("button",{type:"submit",disabled:w,className:"w-full px-6 py-3 bg-[#1a365d] hover:bg-[#0f2744] text-white rounded-xl transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:w?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):"Send Reset Link"}),i.jsx("button",{type:"button",onClick:()=>S("signin"),className:"w-full px-6 py-3 text-gray-600 hover:text-[#1a365d] transition-colors font-medium",children:"Back to Sign In"})]}),o!=="reset"&&i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center"})]}),i.jsx("div",{className:"px-6 pb-6",children:i.jsx("p",{className:"text-xs text-gray-400 text-center",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})})]})})},D_=()=>{const{formatCurrency:e}=nr(),[t,r]=b.useState([]),[n,s]=b.useState("overview"),[a,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(null),[h,f]=b.useState({title:"",amount:"",type:"INCOME",category:"SALARY",date:new Date().toISOString().split("T")[0],description:""});b.useEffect(()=>{m()},[]);const m=async()=>{c(!0);try{const E=await ae.getLedgerEntries();r(E)}catch(E){console.error("Failed to fetch ledger:",E)}finally{c(!1)}},p=E=>{d(E.id),f({title:E.title,amount:E.amount.toString(),type:E.type,category:E.category,date:new Date(E.date).toISOString().split("T")[0],description:E.description||""}),o(!0)},x=()=>{d(null);let E="INCOME",M="SALARY";n==="creditor"?(E="CREDITOR",M="LOAN"):n==="debtor"?(E="DEBTOR",M="LOAN"):n==="expense"&&(E="EXPENSE",M="UTILITIES"),f({title:"",amount:"",type:E,category:M,date:new Date().toISOString().split("T")[0],description:""}),o(!0)},w=async E=>{E.preventDefault();try{u?await ae.updateLedgerEntry(u,h):await ae.createLedgerEntry(h),o(!1),m(),d(null),f({title:"",amount:"",type:"INCOME",category:"SALARY",date:new Date().toISOString().split("T")[0],description:""})}catch(M){console.error("Save Error:",M),alert(`Failed to save entry: ${M.message||"Unknown error"}`)}},g=async E=>{if(confirm("Delete this entry?"))try{await ae.deleteLedgerEntry(E),m()}catch{alert("Failed to delete")}},y=t.filter(E=>E.type==="INCOME"),v=t.filter(E=>E.type==="EXPENSE"),j=t.filter(E=>E.type==="CREDITOR"),N=t.filter(E=>E.type==="DEBTOR"),k=y.reduce((E,M)=>E+M.amount,0),S=v.reduce((E,M)=>E+M.amount,0),P=j.reduce((E,M)=>E+M.amount,0),T=N.reduce((E,M)=>E+M.amount,0),_=n==="overview"?t:n==="income"?y:n==="expense"?v:n==="creditor"?j:N,O=n==="creditor"||n==="debtor";return i.jsxs("section",{id:"ledger",className:"py-16 bg-white border-t border-gray-100",children:[i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"print:hidden",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-[#1a365d]",children:"Financial Ledger"}),i.jsx("p",{className:"text-gray-500",children:"Track incomes, expenses, debts, and receivables."})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(ya,{title:"Print Ledger",sectionId:"ledger"}),i.jsx("button",{onClick:x,className:"px-4 py-2 bg-[#d4af37] text-[#1a365d] rounded-lg font-semibold hover:bg-[#c9a432] transition-colors",children:"+ Add Entry"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-green-50 p-6 rounded-2xl border border-green-100",children:[i.jsx("p",{className:"text-green-600 font-medium text-sm uppercase",children:"Total Income"}),i.jsx("p",{className:"text-2xl font-bold text-green-700 mt-2",children:e(k)})]}),i.jsxs("div",{className:"bg-red-50 p-6 rounded-2xl border border-red-100",children:[i.jsx("p",{className:"text-red-600 font-medium text-sm uppercase",children:"Total Expenses"}),i.jsx("p",{className:"text-2xl font-bold text-red-700 mt-2",children:e(S)})]}),i.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100",children:[i.jsx("p",{className:"text-orange-600 font-medium text-sm uppercase",children:"Debts (Creditors)"}),i.jsx("p",{className:"text-2xl font-bold text-orange-700 mt-2",children:e(P)})]}),i.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[i.jsx("p",{className:"text-blue-600 font-medium text-sm uppercase",children:"Receivables (Debtors)"}),i.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-2",children:e(T)})]})]}),i.jsx("div",{className:"flex border-b border-gray-200 mb-6 overflow-x-auto",children:["overview","income","expense","creditor","debtor"].map(E=>i.jsx("button",{onClick:()=>s(E),className:`px-6 py-3 font-medium text-sm capitalize border-b-2 transition-colors whitespace-nowrap ${n===E?"border-[#d4af37] text-[#1a365d]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:E==="creditor"?"Creditors (I Owe)":E==="debtor"?"Debtors (Owe Me)":E},E))}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:n==="creditor"||n==="debtor"?"Name":"Title"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Category"}),!O&&i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Type"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-500 uppercase",children:"Description"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-500 uppercase",children:"Amount"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-500 uppercase",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-100",children:_.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:O?6:7,className:"px-6 py-8 text-center text-gray-400",children:"No entries found."})}):_.map(E=>i.jsxs("tr",{className:"hover:bg-gray-50/50",children:[i.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:new Date(E.date).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:E.title}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:i.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:E.category.replace("_"," ")})}),!O&&i.jsx("td",{className:"px-6 py-4 text-sm",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium 
                                                    ${E.type==="INCOME"?"bg-green-100 text-green-700":E.type==="EXPENSE"?"bg-red-100 text-red-700":E.type==="CREDITOR"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:E.type==="CREDITOR"?"CREDITOR":E.type==="DEBTOR"?"DEBTOR":E.type})}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:E.description||"-"}),i.jsxs("td",{className:`px-6 py-4 text-sm font-bold text-right 
                                            ${E.type==="INCOME"?"text-green-600":E.type==="EXPENSE"?"text-red-600":E.type==="CREDITOR"?"text-orange-600":"text-blue-600"}`,children:[E.type==="INCOME"||E.type==="DEBTOR"?"+":"-",e(E.amount)]}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx("button",{onClick:()=>p(E),className:"text-blue-400 hover:text-blue-600 text-sm",children:"Edit"}),i.jsx("button",{onClick:()=>g(E.id),className:"text-red-400 hover:text-red-600 text-sm",children:"Delete"})]})})]},E.id))})]})})]}),i.jsxs("div",{className:"hidden print:block",children:[i.jsxs("div",{className:"text-center mb-8 border-b-2 border-[#1a365d] pb-4",children:[i.jsx("h1",{className:"text-3xl font-serif text-[#1a365d] mb-2",children:"Financial Ledger Report"}),i.jsxs("p",{className:"text-gray-600",children:["Generated on ",new Date().toLocaleDateString()]}),i.jsxs("p",{className:"text-xl font-bold text-[#d4af37] mt-2",children:["Net Financial Position: ",e(k-S+T-P)]})]}),i.jsx("div",{className:"space-y-8",children:[{title:"Income",items:y,total:k},{title:"Expenses",items:v,total:S},{title:"Debts (Creditors)",items:j,total:P},{title:"Receivables (Debtors)",items:N,total:T}].map(E=>E.items.length===0?null:i.jsxs("div",{className:"break-inside-avoid",children:[i.jsx("h3",{className:"text-xl font-bold text-[#1a365d] border-b border-[#d4af37] mb-4 pb-1",children:E.title}),i.jsxs("table",{className:"w-full text-sm text-left",children:[i.jsx("thead",{className:"bg-gray-100 text-[#1a365d] border-b border-gray-300 font-serif",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Date"}),i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Name/Title"}),i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Category"}),i.jsx("th",{className:"py-2 px-3 font-semibold",children:"Description"}),i.jsx("th",{className:"py-2 px-3 font-semibold text-right",children:"Amount"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:E.items.map(M=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-2 px-3 text-gray-900",children:new Date(M.date).toLocaleDateString()}),i.jsx("td",{className:"py-2 px-3 font-medium text-gray-900",children:M.title}),i.jsx("td",{className:"py-2 px-3 text-gray-600 capitalize",children:M.category.replace("_"," ").toLowerCase()}),i.jsx("td",{className:"py-2 px-3 text-gray-500",children:M.description||"-"}),i.jsx("td",{className:`py-2 px-3 text-right font-medium 
                                                        ${E.title==="Income"||E.title==="Receivables (Debtors)"?"text-green-700":"text-red-700"}`,children:e(M.amount)})]},M.id))}),i.jsx("tfoot",{className:"border-t-2 border-gray-300",children:i.jsxs("tr",{children:[i.jsx("td",{colSpan:4,className:"py-2 px-3 text-right font-bold text-gray-700",children:"Subtotal"}),i.jsx("td",{className:"py-2 px-3 text-right font-bold text-[#1a365d]",children:e(E.total)})]})})]})]},E.title))}),i.jsx("div",{className:"mt-8 pt-8 border-t border-gray-300 text-center text-xs text-gray-400",children:i.jsxs("p",{children:["Confidential Family Archive - ",new Date().getFullYear()]})})]})]}),a&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-md w-full p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-[#1a365d] mb-4",children:u?"Edit Ledger Entry":"Add Ledger Entry"}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:h.type==="CREDITOR"||h.type==="DEBTOR"?"Name":"Title"}),i.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#d4af37] outline-none",value:h.title,onChange:E=>f({...h,title:E.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),i.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#d4af37] outline-none",value:h.type,onChange:E=>{const M=E.target.value;f({...h,type:M,category:M==="INCOME"?"SALARY":M==="EXPENSE"?"UTILITIES":"LOAN"})},children:[i.jsx("option",{value:"INCOME",children:"Income"}),i.jsx("option",{value:"EXPENSE",children:"Expense"}),i.jsx("option",{value:"CREDITOR",children:"Creditor (I Owe)"}),i.jsx("option",{value:"DEBTOR",children:"Debtor (Owes Me)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),i.jsx("input",{type:"number",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#d4af37] outline-none",value:h.amount,onChange:E=>f({...h,amount:E.target.value})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),i.jsxs("select",{className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#d4af37] outline-none ${h.type==="CREDITOR"||h.type==="DEBTOR"?"bg-gray-100 text-gray-500":""}`,value:h.category,disabled:h.type==="CREDITOR"||h.type==="DEBTOR",onChange:E=>f({...h,category:E.target.value}),children:[h.type==="INCOME"&&i.jsxs(i.Fragment,{children:[i.jsx("option",{value:"SALARY",children:"Salary"}),i.jsx("option",{value:"BUSINESS",children:"Business"}),i.jsx("option",{value:"RENTAL",children:"Rental"}),i.jsx("option",{value:"DIVIDEND",children:"Dividend"}),i.jsx("option",{value:"OTHER_INCOME",children:"Other"})]}),h.type==="EXPENSE"&&i.jsxs(i.Fragment,{children:[i.jsx("option",{value:"UTILITIES",children:"Utilities"}),i.jsx("option",{value:"MAINTENANCE",children:"Maintenance"}),i.jsx("option",{value:"TAX",children:"Tax"}),i.jsx("option",{value:"DEBT",children:"Debt Payment"}),i.jsx("option",{value:"PERSONAL",children:"Personal"}),i.jsx("option",{value:"OTHER_EXPENSE",children:"Other"})]}),(h.type==="CREDITOR"||h.type==="DEBTOR")&&i.jsxs(i.Fragment,{children:[i.jsx("option",{value:"LOAN",children:"Loan"}),i.jsx("option",{value:"MORTGAGE",children:"Mortgage"}),i.jsx("option",{value:"BUSINESS",children:"Business"}),i.jsx("option",{value:"PERSONAL",children:"Personal"}),i.jsx("option",{value:"OTHER_EXPENSE",children:"Other"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#d4af37] outline-none resize-none",rows:3,placeholder:"Add details (optional)...",value:h.description,onChange:E=>f({...h,description:E.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),i.jsx("input",{type:"date",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#d4af37] outline-none",value:h.date,onChange:E=>f({...h,date:E.target.value})})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg font-medium",children:"Cancel"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-[#1a365d] text-white rounded-lg font-medium hover:bg-[#0f2744]",children:u?"Update Entry":"Save Entry"})]})]})]})})]})},M_=({isOpen:e,onClose:t})=>{const{signUp:r}=it(),[n,s]=b.useState([]),a=async()=>{const{data:L,error:C}=await Ce.from("profiles").select("*");L&&s(L),C&&console.error("Error fetching users:",C)};b.useEffect(()=>{e&&a()},[e]);const[o,l]=b.useState(null),[c,u]=b.useState(""),[d,h]=b.useState(""),[f,m]=b.useState(""),[p,x]=b.useState(""),[w,g]=b.useState("family"),[y,v]=b.useState("user"),[j,N]=b.useState(!1),[k,S]=b.useState(!1),[P,T]=b.useState(null),[_,O]=b.useState(null),E=()=>{l(null),u(""),h(""),m(""),x(""),g("family"),v("user"),N(!1),T(null),O(null)};if(!e)return null;const M=async L=>{if(L.preventDefault(),S(!0),T(null),O(null),!o||j){if(f!==p){T("Passwords do not match"),S(!1);return}if(f.length<6){T("Password must be at least 6 characters"),S(!1);return}}if(o){const C={full_name:c,role:y,account_type:w},{error:R}=await Ce.from("profiles").update(C).eq("id",o);R?T(R.message):(j?T("Password reset requires Admin Backend API. Profile updated only."):O("User profile updated successfully."),a(),E())}else{const{error:C}=await r(d,f,c,w);if(C)T(C.message);else{const{data:R}=await Ce.from("profiles").select("id").eq("email",d).single();R&&y!=="user"&&await Ce.from("profiles").update({role:y}).eq("id",R.id),O("User created successfully. (You might be logged in as the new user)"),a(),E()}}S(!1)},$=L=>{l(L.id),u(L.full_name),h(L.email),v(L.role),g(L.account_type),m(""),x(""),N(!1),T(null)},K=async L=>{const C=n.find(G=>G.id===L);if(!C)return;const R=C.status==="active"?"disabled":"active",{error:F}=await Ce.from("profiles").update({status:R}).eq("id",L);F||a()},W=async L=>{if(confirm("Are you sure you want to delete this user? This will delete their profile data.")){const{error:C}=await Ce.from("profiles").delete().eq("id",L);C?alert("Error deleting user: "+C.message):a()}};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"bg-gradient-to-r from-red-800 to-red-900 p-6 flex justify-between items-center text-white flex-shrink-0",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:"User Management"}),i.jsx("p",{className:"text-red-200 text-sm",children:"Create, edit, and manage system access"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[i.jsxs("div",{className:"w-1/3 p-6 border-r border-gray-100 overflow-y-auto bg-gray-50",children:[i.jsx("h3",{className:"font-bold text-gray-800 mb-4",children:o?"Edit User":"Create New User"}),P&&i.jsx("div",{className:"mb-4 p-2 bg-red-50 text-red-600 text-xs rounded-lg border border-red-100",children:P}),_&&i.jsx("div",{className:"mb-4 p-2 bg-green-50 text-green-600 text-xs rounded-lg border border-green-100",children:_}),i.jsxs("form",{onSubmit:M,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",value:c,onChange:L=>u(L.target.value),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#1a365d] outline-none",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Email"}),i.jsx("input",{type:"email",value:d,onChange:L=>h(L.target.value),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#1a365d] outline-none",required:!0,disabled:!!o})]}),!o||j?i.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[i.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:j?"New Password":"Password"}),i.jsx("input",{type:"password",value:f,onChange:L=>m(L.target.value),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#1a365d] outline-none",placeholder:j?"New Password":"Password",required:!0}),i.jsx("input",{type:"password",value:p,onChange:L=>x(L.target.value),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#1a365d] outline-none",placeholder:"Confirm",required:!0}),j&&i.jsx("button",{type:"button",onClick:()=>N(!1),className:"text-xs text-gray-500 hover:text-gray-700 text-left underline",children:"Cancel Reset"})]}):i.jsx("div",{children:i.jsx("button",{type:"button",onClick:()=>N(!0),className:"px-4 py-2 bg-yellow-50 text-yellow-700 border border-yellow-200 rounded-lg text-sm hover:bg-yellow-100 w-full",children:"Reset Password"})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Role"}),i.jsxs("select",{value:y,onChange:L=>v(L.target.value),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#1a365d] outline-none",children:[i.jsx("option",{value:"guest",children:"Guest"}),i.jsx("option",{value:"user",children:"User"}),i.jsx("option",{value:"admin",children:"Admin"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Account Type"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("button",{type:"button",onClick:()=>g("family"),className:`p-2 rounded-lg border text-center text-xs transition-all ${w==="family"?"bg-[#1a365d] text-white border-[#1a365d]":"bg-white border-gray-200 text-gray-600"}`,children:"Family"}),i.jsx("button",{type:"button",onClick:()=>g("personal"),className:`p-2 rounded-lg border text-center text-xs transition-all ${w==="personal"?"bg-[#1a365d] text-white border-[#1a365d]":"bg-white border-gray-200 text-gray-600"}`,children:"Personal"})]})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[o&&i.jsx("button",{type:"button",onClick:E,className:"flex-1 px-4 py-2 bg-gray-100 text-gray-600 rounded-lg text-sm hover:bg-gray-200",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:k,className:"flex-1 px-4 py-2 bg-[#1a365d] hover:bg-[#0f2744] text-white rounded-lg text-sm font-semibold disabled:opacity-50",children:o?"Save":"Create"})]})]})]}),i.jsxs("div",{className:"w-2/3 p-6 overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"font-bold text-gray-800",children:"Existing Users"}),i.jsxs("button",{onClick:a,className:"text-xs text-[#1a365d] hover:underline flex items-center gap-1",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),i.jsx("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-100 text-gray-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3 font-medium",children:"User"}),i.jsx("th",{className:"p-3 font-medium",children:"Role"}),i.jsx("th",{className:"p-3 font-medium",children:"Type"}),i.jsx("th",{className:"p-3 font-medium",children:"Status"}),i.jsx("th",{className:"p-3 text-right font-medium",children:"Actions"})]})}),i.jsxs("tbody",{className:"divide-y divide-gray-100",children:[n.map(L=>i.jsxs("tr",{className:"hover:bg-gray-50/50",children:[i.jsxs("td",{className:"p-3",children:[i.jsx("p",{className:"font-medium text-gray-900",children:L.full_name}),i.jsx("p",{className:"text-gray-400 text-xs",children:L.email})]}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium capitalize ${L.role==="admin"?"bg-red-50 text-red-600":L.role==="guest"?"bg-gray-100 text-gray-600":"bg-blue-50 text-blue-600"}`,children:L.role||"user"})}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:"capitalize text-gray-600 text-xs",children:L.account_type||"-"})}),i.jsx("td",{className:"p-3",children:i.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium ${L.status==="active"||!L.status?"bg-green-50 text-green-700":"bg-gray-100 text-gray-500"}`,children:[i.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${L.status==="active"||!L.status?"bg-green-500":"bg-gray-400"}`}),L.status==="active"||!L.status?"Active":"Disabled"]})}),i.jsx("td",{className:"p-3 text-right",children:i.jsxs("div",{className:"flex justify-end gap-1",children:[i.jsx("button",{onClick:()=>$(L),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:()=>K(L.id),className:`p-1.5 rounded-lg transition-colors ${L.status==="active"||!L.status?"text-orange-600 hover:bg-orange-50":"text-green-600 hover:bg-green-50"}`,title:L.status==="active"||!L.status?"Disable":"Enable",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})}),i.jsx("button",{onClick:()=>W(L.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},L.id)),n.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"p-8 text-center text-gray-400",children:"No users found."})})]})]})})]})]})]})})},$_=()=>{const{changePassword:e,signOut:t}=it(),[r,n]=b.useState(""),[s,a]=b.useState(""),[o,l]=b.useState(!1),[c,u]=b.useState(null),d=async h=>{if(h.preventDefault(),l(!0),u(null),r!==s){u("Passwords do not match"),l(!1);return}if(r.length<6){u("Password must be at least 6 characters"),l(!1);return}const{error:f}=await e(r);f&&u(f.message),l(!1)};return i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full overflow-hidden",children:[i.jsxs("div",{className:"bg-red-600 p-8 text-center",children:[i.jsx("svg",{className:"w-12 h-12 text-white mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Security Update Required"}),i.jsx("p",{className:"text-red-100 mt-2",children:"You must change your password to continue."})]}),i.jsxs("div",{className:"p-8",children:[c&&i.jsx("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:c}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),i.jsx("input",{type:"password",value:r,onChange:h=>n(h.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-red-600 outline-none",placeholder:"Enter new password",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),i.jsx("input",{type:"password",value:s,onChange:h=>a(h.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-red-600 outline-none",placeholder:"Confirm new password",required:!0})]}),i.jsx("button",{type:"submit",disabled:o,className:"w-full px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-colors font-semibold flex items-center justify-center gap-2",children:o?"Updating...":"Update Password"}),i.jsx("div",{className:"text-center mt-4",children:i.jsx("button",{type:"button",onClick:t,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Sign Out"})})]})]})]})})},F_=()=>{const{user:e,mustChangePassword:t}=it(),{formatCurrency:r}=nr(),{assets:n,heirs:s,transactions:a,documents:o,notifications:l,distributions:c,addAsset:u,addDocument:d,markNotificationRead:h,addDistribution:f,addTransaction:m,updateAsset:p,addNotification:x}=qn(),[w,g]=b.useState(null),[y,v]=b.useState(null),[j,N]=b.useState(null),[k,S]=b.useState(!1),[P,T]=b.useState(!1),[_,O]=b.useState(!1),[E,M]=b.useState(null),[$,K]=b.useState(null),W=b.useMemo(()=>n.filter(B=>B.status==="active"&&B.isForSale),[n]),L=b.useMemo(()=>W.reduce((B,re)=>B+re.value,0),[W]),C=(B,re)=>{e?B():(M(re),T(!0))},R=B=>g(B),F=B=>{C(()=>{g(null),N(B)},"Sign in to sell assets and distribute inheritance")},G=(B,re,_e)=>{p(B.id,{status:"sold"}),f(_e),m({id:`tx-${Date.now()}`,type:"asset_sold",description:`${B.name} sold and distributed`,amount:re,date:new Date().toISOString().split("T")[0],relatedAssetId:B.id}),x({id:`notif-${Date.now()}`,title:"Asset Sold & Distributed",message:`${B.name} has been sold. Inheritance distributed to ${_e.shares.length} heirs.`,date:new Date().toISOString().split("T")[0],read:!1,type:"distribution"}),N(null),K({message:`${B.name} sold successfully!`,amount:re})},V=B=>{S(!1),K({message:`${B.name} added to portfolio.`,amount:B.value})},Y=B=>{var re;(re=document.getElementById(B))==null||re.scrollIntoView({behavior:"smooth"})};return t?i.jsx($_,{}):i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(ay,{notifications:l,onMarkNotificationRead:h,onOpenAuthModal:()=>{M(null),T(!0)},onOpenAdminModal:()=>O(!0)}),i.jsx(h_,{totalAssetValue:L,totalAssets:W.length,totalHeirs:s.length,onViewAssets:()=>Y("assets"),onCalculate:()=>C(()=>Y("calculator"),"Sign in to access the inheritance calculator")}),i.jsx("div",{className:"bg-white border-b border-gray-100 sticky top-16 z-30",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"text-gray-500 text-sm",children:"Quick Actions:"}),i.jsx("button",{onClick:()=>C(()=>S(!0),"Sign in to add assets"),className:"px-4 py-2 bg-[#1a365d] hover:bg-[#0f2744] text-white text-sm font-medium rounded-lg",children:"Add Asset"}),i.jsx("button",{onClick:()=>C(()=>Y("calculator"),"Sign in to calculate"),className:"px-4 py-2 bg-[#d4af37] hover:bg-[#c9a432] text-[#1a365d] text-sm font-medium rounded-lg",children:"Calculate Inheritance"})]}),i.jsxs("div",{className:"hidden md:flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Total Portfolio:"}),i.jsx("span",{className:"font-bold text-[#d4af37] text-lg",children:r(L)})]})]})})}),i.jsx(p_,{assets:n,onSelectAsset:R,onSellAsset:F}),i.jsx(b_,{heirs:s,totalAssetValue:L,distributions:c}),i.jsx(v_,{heirs:s,onSelectHeir:v}),e?i.jsx(w_,{heirs:s,totalAssetValue:L,activeAssets:n.filter(B=>B.status==="active")}):i.jsx("section",{id:"calculator",className:"py-16 bg-gradient-to-br from-[#1a365d] to-[#0f2744]",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Islamic Inheritance Calculator"}),i.jsx("p",{className:"text-gray-300 mb-8",children:"Sign in to access the Faraid calculator."}),i.jsx("button",{onClick:()=>T(!0),className:"px-8 py-4 bg-[#d4af37] text-[#1a365d] font-semibold rounded-xl",children:"Sign In to Access"})]})}),i.jsx(D_,{}),i.jsx(N_,{heirs:s,activeAssets:n.filter(B=>B.status==="active")}),i.jsx(k_,{transactions:a,distributions:c}),i.jsx(S_,{}),w&&i.jsx(E_,{asset:w,onClose:()=>g(null),onSell:F}),y&&i.jsx(T_,{heir:y,allHeirs:s,totalAssetValue:L,onClose:()=>v(null)}),j&&i.jsx(P_,{asset:j,heirs:s,onClose:()=>N(null),onConfirmSale:G}),k&&i.jsx(O_,{onClose:()=>S(!1),onSuccess:V}),i.jsx(I_,{isOpen:P,onClose:()=>{T(!1),M(null)}}),i.jsx(M_,{isOpen:_,onClose:()=>O(!1)}),$&&i.jsx(L_,{message:$.message,amount:$.amount,onClose:()=>K(null)})]})},U_=()=>i.jsx(F_,{}),B_=()=>{const e=Yd();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:i.jsxs("div",{className:"text-center p-8 rounded-lg border border-border bg-card shadow-md animate-slide-in",children:[i.jsx("h1",{className:"text-5xl font-bold mb-6 text-primary",children:"404"}),i.jsx("p",{className:"text-xl text-card-foreground mb-6",children:"Page not found"}),i.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline transition-colors",children:"Return to Home"})]})})},z_={sidebarOpen:!1,toggleSidebar:()=>{}},W_=b.createContext(z_),V_=({children:e})=>{const[t,r]=b.useState(!1),n=()=>{r(s=>!s)};return i.jsx(W_.Provider,{value:{sidebarOpen:t,toggleSidebar:n},children:e})},H_=({onEdit:e})=>{const[t,r]=b.useState([]),[n,s]=b.useState(!0),[a,o]=b.useState(null),l=async()=>{s(!0),o(null);try{const d=await ae.getUsers();r(d||[])}catch(d){console.error("Error fetching users:",d),o(d.message||"Failed to fetch users")}finally{s(!1)}};b.useEffect(()=>{l()},[]);const c=async(d,h)=>{const f=h==="active"?"disabled":"active";try{await ae.updateUser(d,{status:f}),l()}catch(m){alert("Error updating status: "+m.message)}},u=async d=>{if(confirm("Are you sure you want to delete this user? This will delete their profile data."))try{await ae.deleteUser(d),l()}catch(h){alert("Error deleting user: "+h.message)}};return n?i.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading users..."}):a?i.jsxs("div",{className:"p-8 text-center text-red-500",children:["Error: ",a]}):i.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl overflow-hidden shadow-sm",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[i.jsxs("h3",{className:"font-semibold text-gray-800",children:["System Users (",t.length,")"]}),i.jsxs("button",{onClick:l,className:"text-sm text-[#1a365d] hover:underline flex items-center gap-1 font-medium",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-100 text-gray-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3 font-medium",children:"User"}),i.jsx("th",{className:"p-3 font-medium",children:"Role"}),i.jsx("th",{className:"p-3 font-medium",children:"Type"}),i.jsx("th",{className:"p-3 font-medium",children:"Status"}),i.jsx("th",{className:"p-3 font-medium",children:"Joined"}),i.jsx("th",{className:"p-3 text-right font-medium",children:"Actions"})]})}),i.jsxs("tbody",{className:"divide-y divide-gray-100",children:[t.map(d=>i.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[i.jsxs("td",{className:"p-3",children:[i.jsx("p",{className:"font-medium text-gray-900",children:d.full_name||"No Name"}),i.jsx("p",{className:"text-gray-400 text-xs",children:d.email})]}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium capitalize ${d.role==="admin"?"bg-red-50 text-red-600":d.role==="guest"?"bg-gray-100 text-gray-600":"bg-blue-50 text-blue-600"}`,children:d.role||"user"})}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:"capitalize text-gray-600 text-xs",children:d.account_type||"-"})}),i.jsx("td",{className:"p-3",children:i.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-medium ${d.status==="active"||!d.status?"bg-green-50 text-green-700":"bg-gray-100 text-gray-500"}`,children:[i.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${d.status==="active"||!d.status?"bg-green-500":"bg-gray-400"}`}),d.status==="active"||!d.status?"Active":"Disabled"]})}),i.jsx("td",{className:"p-3 text-gray-500 text-xs",children:new Date(d.created_at).toLocaleDateString()}),i.jsx("td",{className:"p-3 text-right",children:i.jsxs("div",{className:"flex justify-end gap-1",children:[i.jsx("button",{onClick:()=>e&&e(d),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:()=>c(d.id,d.status),className:`p-1.5 rounded-lg transition-colors ${d.status==="active"||!d.status?"text-orange-600 hover:bg-orange-50":"text-green-600 hover:bg-green-50"}`,title:d.status==="active"||!d.status?"Disable":"Enable",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})})}),i.jsx("button",{onClick:()=>u(d.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},d.id)),t.length===0&&i.jsx("tr",{children:i.jsxs("td",{colSpan:6,className:"p-8 text-center text-gray-400",children:["No users found.",i.jsx("br",{}),i.jsx("span",{className:"text-xs",children:"If you are an admin, check RLS policies."})]})})]})]})})]})},q_=({isOpen:e,onClose:t,onSuccess:r,editingUser:n})=>{const[s,a]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(""),[d,h]=b.useState("user"),[f,m]=b.useState("family"),[p,x]=b.useState(!1),[w,g]=b.useState(null);b.useEffect(()=>{var j;e&&n?(console.log("Editing User Data:",n),a(n.full_name||""),l(n.email||""),h(n.role||"user"),m(((j=n.account_type)==null?void 0:j.toLowerCase())||"family"),u("")):e&&!n&&(a(""),l(""),u(""),h("user"),m("family")),g(null)},[e,n]);const y=async()=>{if(o){x(!0);try{const{error:j}=await Ce.auth.resetPasswordForEmail(o,{redirectTo:window.location.origin+"/reset-password"});if(j)throw j;alert("Password reset email sent to "+o)}catch(j){alert("Error sending reset email: "+j.message)}finally{x(!1)}}},v=async j=>{var N;j.preventDefault(),x(!0),g(null);try{if(n)await ae.updateUser(n.id,{full_name:s,role:d,account_type:f});else{if(c.length<6)throw new Error("Password must be at least 6 characters");const k=Zx(ey,ty,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1}}),{data:S,error:P}=await k.auth.signUp({email:o,password:c,options:{data:{full_name:s,role:d,account_type:f}}});if(P)throw(N=P.message)!=null&&N.includes("already registered")?(console.warn("User already exists in Auth. Cannot retrieve UID to force-create Profile."),new Error("This email is already registered in the Login System. If this is YOU, please close this form and Refresh the page to sync your profile. If it is someone else, ask them to Log In.")):P;S.user&&await ae.createUser({id:S.user.id,email:o,full_name:s,role:d,account_type:f,status:"active"})}r(),t()}catch(k){console.error("User Form Error:",k),g(k.message||"An error occurred")}finally{x(!1)}};return e?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[i.jsx("h3",{className:"font-bold text-gray-800",children:n?"Edit User":"Create New User"}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[w&&i.jsx("div",{className:"bg-red-50 text-red-600 text-sm p-3 rounded-lg border border-red-100",children:w}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",value:s,onChange:j=>a(j.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#1a365d] outline-none",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Email"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"email",value:o,onChange:j=>l(j.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#1a365d] outline-none disabled:bg-gray-100 disabled:text-gray-500",required:!0,disabled:!!n}),n&&i.jsx("button",{type:"button",onClick:y,className:"px-3 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 text-xs font-medium whitespace-nowrap",title:"Send Password Reset Email",children:"Reset PWD"})]})]}),!n&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Password"}),i.jsx("input",{type:"password",value:c,onChange:j=>u(j.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#1a365d] outline-none",required:!n,minLength:6})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Role"}),i.jsxs("select",{value:d,onChange:j=>h(j.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#1a365d] outline-none",children:[i.jsx("option",{value:"user",children:"User"}),i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"guest",children:"Guest"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Account Type"}),i.jsxs("select",{value:f,onChange:j=>m(j.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#1a365d] outline-none",children:[i.jsx("option",{value:"family",children:"Family"}),i.jsx("option",{value:"personal",children:"Personal"})]})]})]}),i.jsxs("div",{className:"pt-4 flex gap-3",children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-200 text-gray-600 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:p,className:"flex-1 px-4 py-2 bg-[#1a365d] text-white rounded-lg hover:bg-[#0f2744] font-medium disabled:opacity-50",children:p?"Saving...":n?"Update User":"Create User"})]})]})]})}):null},K_=()=>{const{isAdmin:e,user:t,loading:r}=it(),{notifications:n,markNotificationRead:s}=qn(),a=Rx(),[o,l]=b.useState(!1),[c,u]=b.useState(null),[d,h]=b.useState(0);D.useEffect(()=>{!r&&!e&&a("/")},[e,r,a]);const f=()=>{u(null),l(!0)},m=x=>{u(x),l(!0)},p=()=>{h(x=>x+1)};return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):e?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(ay,{notifications:n,onMarkNotificationRead:s,onOpenAuthModal:()=>{},onOpenAdminModal:()=>{}}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),i.jsx("p",{className:"text-gray-500 mt-1",children:"Manage users, view system stats, and configure settings."})]}),i.jsxs("button",{onClick:f,className:"px-4 py-2 bg-[#1a365d] text-white rounded-lg hover:bg-[#0f2744] font-medium flex items-center gap-2 shadow-sm",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New User"]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[i.jsx("section",{children:i.jsx(H_,{onEdit:m},d)}),i.jsxs("section",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm opacity-50 pointer-events-none",children:[i.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"System Settings (Coming Soon)"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Global configurations for currency, default language, and branding."})]})]})]}),i.jsx(q_,{isOpen:o,onClose:()=>l(!1),onSuccess:p,editingUser:c})]}):null},G_=new EN,Q_=()=>i.jsx(u2,{defaultTheme:"light",children:i.jsx(TN,{client:G_,children:i.jsx(Zj,{children:i.jsx(n_,{children:i.jsx(s_,{children:i.jsx(d_,{children:i.jsxs(V_,{children:[i.jsx(D1,{}),i.jsx(h2,{}),i.jsx(Sk,{children:i.jsxs(jk,{children:[i.jsx(uo,{path:"/",element:i.jsx(U_,{})}),i.jsx(uo,{path:"/admin",element:i.jsx(K_,{})}),i.jsx(uo,{path:"*",element:i.jsx(B_,{})})]})})]})})})})})})});class J_ extends b.Component{constructor(){super(...arguments);hh(this,"state",{hasError:!1,error:null,errorInfo:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,n){console.error("Uncaught error:",r,n),this.setState({errorInfo:n})}render(){return this.state.hasError?i.jsxs("div",{className:"p-8 bg-red-50 text-red-900 min-h-screen",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong."}),i.jsxs("details",{className:"whitespace-pre-wrap font-mono text-sm bg-white p-4 rounded border border-red-200",children:[this.state.error&&this.state.error.toString(),i.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}sg(document.getElementById("root")).render(i.jsx(J_,{children:i.jsx(Q_,{})}));
